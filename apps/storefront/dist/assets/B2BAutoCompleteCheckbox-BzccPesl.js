import{j as l,v as L,aj as v,ak as B,Y as H,y as M,a9 as T}from"./mui-BLXOPN2Y.js";import{r as c}from"./reactVendor-BTcQ-GDs.js";import{u as P}from"./lang-DZEhsX8V.js";import{a as V,u as N}from"./react-setup-Dk2lMx-W.js";import{c as $}from"./muiIcon-DcrdeM0-.js";function z({handleChangeCompanyIds:I}){const g=P(),[f]=V(),{id:m,companyName:k}=N(({company:e})=>e.companyInfo),{selectCompanyHierarchyId:n,companyHierarchyList:C,companyHierarchySelectSubsidiariesList:h}=N(({company:e})=>e.companyHierarchyInfo),[b,u]=c.useState(!1),[r,A]=c.useState([k]),[i,x]=c.useState([Number(n)||Number(m)]),s=c.useMemo(()=>[{companyId:-1,companyName:"All",parentCompanyId:null,parentCompanyName:""},...n?h:C],[C,n,h]);c.useEffect(()=>{x([Number(n)||Number(m)])},[n,m]);const j=e=>{const{value:t}=e.target,o=typeof t=="string"?[t]:t;let a=[];o.includes("All")&&(r.includes("All")&&(o.length!==s.length||s.length===2&&b)?(u(!1),a=[],s.forEach(({companyName:p,companyId:d})=>{o.includes(p)&&p!=="All"&&a.push(d)})):(a=[-1],u(!0))),o.includes("All")||(b?(a=[Number(n)||Number(m)],u(!1)):(a=[],o.forEach(p=>{const d=s.find(E=>E.companyName===p);d&&a.push(d.companyId)}),o.length||(a=[-1],u(!0)))),x(a);let y=a;n&&a.includes(-1)&&(y=[],h.forEach(({companyId:p})=>{y.push(p)})),I(y)};c.useEffect(()=>{const e=[];if(i.length)i.forEach(t=>{const o=s.find(a=>Number(a.companyId)===Number(t));o&&e.push(o.companyName)});else{const t=n||m,o=s.find(a=>Number(a.companyId)===Number(t));o&&e.push(o.companyName)}A(e)},[i,s,m]);const w=c.useMemo(()=>r.includes("All")?["All"]:r,[r]),S={PaperProps:{style:{maxHeight:300}}};return l.jsxs(L,{variant:"filled",sx:{width:f?"100%":235},children:[l.jsx(v,{id:"autoComplete-multiple-checkbox-label",children:g("global.B2BAutoCompleteCheckbox.input.label")}),l.jsx(B,{labelId:"autoComplete-multiple-checkbox-label",id:"autoComplete-multiple-checkbox",multiple:!0,value:w,onChange:j,renderValue:e=>e.join(", "),MenuProps:S,sx:{backgroundColor:"#efeae7","& #autoComplete-multiple-checkbox":{paddingTop:"20px"}},children:s.map(e=>l.jsxs(H,{value:e.companyName,sx:{width:f?"100%":"300px",alignItems:"flex-start"},children:[l.jsx(M,{checked:r.includes(e.companyName)&&i.includes(e.companyId)}),l.jsx(T,{primary:e.companyName,title:e.companyName,sx:{"& span":{width:"100%",whiteSpace:"break-spaces",wordWrap:"break-word",paddingTop:"9px"}}}),r.includes(e.companyName)&&i.includes(e.companyId)&&l.jsx($,{sx:{marginTop:"9px"}})]},"".concat(e.companyId,"-").concat(e.companyName)))})]})}export{z as B};
//# sourceMappingURL=B2BAutoCompleteCheckbox-BzccPesl.js.map
