System.register(["./mui-legacy-C4_cN3o7.js","./reactVendor-legacy-CtYIj4Ma.js","./form-legacy-CAo5v63e.js","./lang-legacy-CIkwP_72.js","./react-setup-legacy-CqaUet8b.js","./load-functions-legacy-XoiKCmHm.js","./base-legacy-D2P4nFX7.js","./B3CustomForm-legacy-CW8jzFId.js","./dateFns-legacy-DOBWQ-07.js"],(function(e,t){"use strict";var l,r,a,s,n,i,o,c,u,d,f,h,g,x,j,b,m,p,y,k,F,C,v,V,M,S,P;return{setters:[e=>{l=e.j,r=e.B,a=e.f,s=e.o,n=e.y,i=e.I,o=e.aa,c=e.d},e=>{u=e.r},e=>{d=e.u},e=>{f=e.u},e=>{h=e.G,g=e.bU,x=e.r,j=e.C,b=e.k,m=e.a,p=e.h,y=e.ab,k=e.ad},null,null,e=>{F=e.s,C=e.L,v=e.A,V=e.D,M=e.B},e=>{S=e.g,P=e.s}],execute:function(){e("B",(function({startPicker:e,endPicker:t,filterMoreInfo:a,onChange:s,isShowMore:h=!1,resetFilterInfo:g}){const{state:{portalStyle:{backgroundColor:x="#FEF9F5"}}}=u.useContext(j),F=b(x),[C,v]=u.useState(!1),[V,S]=u.useState(!1),[P,w]=u.useState(0),[z,E]=u.useState(null),O=u.useRef(null),{control:R,handleSubmit:L,getValues:Y,formState:{errors:A},setValue:H}=d({mode:"onSubmit"}),[K]=m(),T=f(),_=n().palette.primary.main;u.useEffect((()=>{z&&Object.keys(z).forEach((e=>{H(e,z[e])}))}),[z,C]);const G=u.useMemo((()=>{if(!P)return 0;const e=Y();return a.reduce(((t,l)=>{const r=l;return I.includes(r.fieldType)&&e[r.name]&&(t-=1),t}),P)}),[P]),U=()=>{v(!1)},W=e=>{if(e){const t=[],l=Object.keys(e).every((t=>""===e[t]));Object.keys(e).forEach((l=>{""!==e[l]&&t.push(l)})),S(!l),w(t.length)}},Z=()=>{Object.keys(Y()).forEach((e=>{H(e,"")})),g&&g(),O.current?.setClearPickerValue()};return l.jsxs(r,{sx:{ml:3,cursor:"pointer"},children:[(a&&a.length||h)&&l.jsxs(r,{sx:{display:"flex",alignItems:"center"},children:[l.jsxs(r,{onClick:()=>{v(!0)},children:[!V&&l.jsx(i,{"aria-label":"edit",size:"medium",sx:{color:F,":hover":{backgroundColor:p("#FFFFFF",.1)},"& svg":{width:"32px",height:"32px"}},children:l.jsx(B,{})}),V&&l.jsx(i,{"aria-label":"edit",size:"medium",sx:{color:F,":hover":{backgroundColor:p("#FFFFFF",.1)}},children:l.jsx(o,{badgeContent:G,sx:{"& .MuiBadge-badge.MuiBadge-standard.MuiBadge-anchorOriginTopRight":{bgcolor:_,borderRadius:"50%"}},children:l.jsx(B,{})})})]}),V&&!K&&l.jsx(c,{"aria-label":"clear-edit",size:"small",sx:{marginLeft:"5px",color:"#1976D2"},onClick:()=>{const t=e?.isEnabled?{startValue:"",endValue:""}:{};Z();const l=Y();if(s){const e={...t,...l};W(e),s(e),E({...l})}},children:T("global.filter.clearFilters")})]}),l.jsxs(y,{isOpen:C,leftSizeBtn:T("global.filter.cancel"),rightSizeBtn:T("global.filter.apply"),title:T("global.filter.title"),handleLeftClick:U,handRightClick:e=>{L((e=>{const t=O.current?.getPickerValue();if(s){const l={...t,...e};W(l),s(l),E({...e})}U()}))(e)},children:[l.jsxs(r,{sx:{width:K?"100%":"450px"},children:[l.jsx(M,{formFields:a,errors:A,control:R,getValues:Y,setValue:H}),l.jsx(D,{ref:O,startPicker:e,endPicker:t})]}),l.jsx(k,{sx:{mt:1},onClick:Z,size:"small",children:T("global.filter.clearFilters")})]})]})}));const t=e("d",((e=0,t="yyyy-MM-dd")=>S(P(new Date,e),t)));function w({onChange:e,variant:t,value:s,label:n,disableOpenPicker:i=!0,formatInput:o="YYYY-MM-DD",size:c="small"}){const d=u.useRef(null),f=u.useRef(null),{state:{bcLanguage:x}}=u.useContext(h),j=F(x||"en"),[b,m]=u.useState(!1);return l.jsxs(l.Fragment,{children:[l.jsx(r,{ref:f}),l.jsx(C,{dateAdapter:v,adapterLocale:j,children:l.jsx(V,{label:n,DialogProps:{container:f.current},onChange:t=>t&&(t=>{if("string"!=typeof t){const l=g(t).format(o);e(l)}else e(t)})(t),onClose:()=>{m(!1)},value:s||null,open:b,inputRef:d,disableOpenPicker:i,renderInput:e=>l.jsx(a,{...e,size:c,onMouseDown:()=>{m(!b),d?.current?.blur&&d.current.blur()},variant:t})})})]})}var z={},E=s;Object.defineProperty(z,"__esModule",{value:!0});var B=z.default=void 0,O=E(x()),R=l;B=z.default=(0,O.default)((0,R.jsx)("path",{d:"M10 18h4v-2h-4zM3 6v2h18V6zm3 7h12v-2H6z"}),"FilterList");const D=e("a",u.forwardRef((function({startPicker:e,endPicker:a,handleChange:s,isMonthlySpacing:n=!1,xs:i={},customWidth:o},c){const[d,f]=u.useState(e?.defaultValue||""),[h,g]=u.useState(a?.defaultValue||""),x=()=>{f(n?t(30):""),g(n?t():"")};u.useEffect((()=>{f(e?.defaultValue||"")}),[e?.defaultValue]),u.useEffect((()=>{g(a?.defaultValue||"")}),[a?.defaultValue]);const j=()=>{const t={startValue:d,endValue:h};return e?.isEnabled?t:{}};return u.useImperativeHandle(c,(()=>({setClearPickerValue:x,getPickerValue:j}))),l.jsxs(r,{sx:{display:"flex",width:o||"auto"},children:[e?.isEnabled&&l.jsx(r,{sx:{width:"49%",mt:"16px",mr:"1%",cursor:"pointer","& > .MuiFormControl-root":{width:"100%"},...i},children:l.jsx(w,{onChange:t=>{f(t),s&&s(e?.pickerKey||"start",t)},value:d,label:e?.label,variant:"filled"})}),a?.isEnabled&&l.jsx(r,{sx:{width:"49%",mt:"16px",ml:"1%","& > .MuiFormControl-root":{width:"100%"},cursor:"pointer",...i},children:l.jsx(w,{onChange:e=>{g(e),s&&s(a?.pickerKey||"end",e)},value:h,label:a?.label,variant:"filled"})})]})}))),I=["roleAutocomplete"]}}}));
//# sourceMappingURL=B3FilterMore-legacy-CpmKLwrQ.js.map
