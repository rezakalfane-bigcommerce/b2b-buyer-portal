System.register(["./mui-legacy-nJi-LPwx.js","./reactVendor-legacy-CtYIj4Ma.js","./lang-legacy-1f-gtWXv.js","./react-setup-legacy-DuBzGPOI.js","./load-functions-legacy-Cd9k4nWw.js","./base-legacy-D2P4nFX7.js","./router-legacy-s4T0V6vG.js","./useB2BCallback-legacy-BNykb3hy.js","./b3TriggerCartNumber-legacy-CXlx3yUO.js","./HierarchyDialog-legacy-DNODb2f3.js","./useBlockPendingAccountViewPrice-legacy-DO2Hc-4y.js","./muiIcon-legacy-CbXEHT38.js","./intl-legacy-B7uNycgM.js","./eCache-legacy-CW-H9Ud9.js","./redux-legacy-D5ZHjMNV.js","./toolkit-legacy-uWyLsHZ1.js","./lodashEs-legacy-5FC1NR51.js","../index-legacy.CUzweyJF.js","./global-legacy-B1EgakWG.js","./dateFns-legacy-Bs-ooDPO.js","./dropzone-legacy-C0uLCPXC.js"],(function(e,t){"use strict";var n,i,o,s,a,r,l,c,d,p,m,u,x,g,h,y,f,b,j,C,w,k,v,F,I,M,S,D,N,H,z,B,L,W,O,P,E,R,T,A,q,_,K,V,G,X,U,Y,$,Q,J,Z,ee,te,ne,ie,oe,se,ae,re,le,ce,de;return{setters:[e=>{n=e.j,i=e.B,o=e.a1,s=e.a6,a=e.o,r=e.a7,l=e.a8,c=e.X,d=e.Y,p=e.C,m=e.G,u=e.x,x=e.d,g=e.T,h=e.z,y=e.a9,f=e.aa,b=e.ab,j=e.ac},e=>{C=e.r},e=>{w=e.u},e=>{k=e.j,v=e.u,F=e.Q,I=e.a,M=e.G,S=e.R,D=e.S,N=e.U,H=e.V,z=e.r,B=e.W,L=e.i,W=e.C,O=e.q,P=e.X,E=e.Y,R=e._,T=e.$,A=e.t,q=e.a0,_=e.k,K=e.a1,V=e.a2,G=e.a3,X=e.a4,U=e.a5,Y=e.a6,$=e.a7,Q=e.a8,J=e.a9,Z=e.aa,ee=e.ab},null,null,e=>{te=e.u,ne=e.a,ie=e.m},e=>{oe=e.d},e=>{se=e.b},e=>{ae=e.H},e=>{re=e.u},e=>{le=e.a,ce=e.S,de=e.C},null,null,null,null,null,null,null,null,null],execute:function(){e("default",(function({children:e}){const[t]=I(),o=j("(min-width:1775px)"),s=ne(),[a,r]=C.useState(""),l=w(),c=v((({company:e})=>e.customer.emailAddress)),d=v((({company:e})=>e.customer.id)),{state:{globalMessageDialog:p},dispatch:m}=C.useContext(V),u=te();C.useEffect((()=>{c&&d||J(s.pathname)||u("/login")}),[c,d,s,u]),C.useEffect((()=>{const e=Z.find((e=>e.path===s.pathname));if(e&&"/quoteDraft"!==s.pathname){const t=Object.entries(Te).find((([e])=>e===s.pathname));r(l(t?t[1]:e.idLang))}else r("");m({type:"common",payload:{tipMessage:{msgs:[]}}})}),[s]);const x=C.useMemo((()=>["/invoice"].includes(s.pathname)?{overflowX:"hidden"}:{}),[s]);return n.jsxs(i,{children:[t?n.jsx(Re,{title:a,children:e}):n.jsxs(i,{id:"app-mainPage-layout",sx:{display:"flex",minHeight:"100vh",margin:"auto",width:o?1775:"100%",minWidth:o?1775:"100%",maxWidth:o?1775:"100%",flexDirection:"row",p:"32px 63px 70px 63px"},children:[n.jsx(me,{}),n.jsxs(i,{sx:{display:"flex",flexDirection:"column",width:"200px",displayPrint:"none"},children:[n.jsx(ue,{}),n.jsx(i,{sx:{pt:"24px"},children:n.jsx(Ee,{})})]}),n.jsxs(i,{sx:{flex:1,display:"flex",flexDirection:"column",maxWidth:"1450px",width:"100%",p:"0 0px 0px 50px",...x},children:[n.jsx(Oe,{title:a}),n.jsx(pe,{}),n.jsx(i,{component:"main",sx:{mt:t||a?"0":"24px"},children:e})]})]}),n.jsx(ee,{isOpen:p.open,title:p.title,leftSizeBtn:p.cancelText,rightSizeBtn:p.saveText,handleLeftClick:p.cancelFn||(()=>{m({type:"common",payload:{globalMessageDialog:{open:!1,title:"",message:"",cancelText:"Cancel"}}})}),handRightClick:p.saveFn,showRightBtn:!!p.saveText,children:n.jsx(i,{sx:{display:"flex",justifyContent:t?"center":"start",width:t?"100%":"450px",height:"100%"},children:p.message})})]})}));const t=[0,1,2];function pe(){const e=w(),[s,a]=C.useState(!1),[r,l]=k("sf-isCloseCompanyCredit",!1,sessionStorage),c=v((({company:e})=>e.customer.role)),d=v((({b2bFeatures:e})=>e.masqueradeCompany.isAgenting));return C.useEffect((()=>{(async()=>{if(!r&&(t.includes(Number(c))||3===Number(c)&&d)){const{companyCreditConfig:{creditHold:e,creditEnabled:t}}=await F();a(e&&t)}})()}),[c,d,r]),s?n.jsx(i,{sx:{margin:"1rem 0"},children:n.jsx(o,{variant:"filled",onClose:()=>(l(!0),void a(!1)),severity:"warning",children:e("global.companyCredit.alert")})}):null}function me(){const[e]=I(),t=v((({global:e})=>e.setOpenPageFn)),{state:{isCloseGotoBCHome:i}}=C.useContext(M),o=te(),s=e?S:D;return n.jsx(s,{children:n.jsx(N,{sx:{color:"#757371"},onClick:()=>{i?window.location.href="/":(o("/"),t?.({isOpen:!1,openUrl:""})),window.history.replaceState(null,"",window.location.pathname||"/")}})})}function ue(){const{state:{logo:e}}=C.useContext(M);let t=e;switch(v((({company:e})=>e.companyInfo.id))){case"8333329":t="https://store-g2rtbg88n2.mybigcommerce.com/content/retailco.png";break;case"8333327":t="https://store-g2rtbg88n2.mybigcommerce.com/content/bbros.png";break;case"8311697":t="https://s3-us-west-2.amazonaws.com/bundleb2b-v3.0-media-files-prod/logo-candcgroup_d3c2c167-a757-40b3-99b6-2fadd54b8a34.png";break;case"8333328":t="https://store-g2rtbg88n2.mybigcommerce.com/content/pubpartners.png"}const[o]=I();return n.jsx(i,{sx:o?{height:"40px",width:"140px","& li":{height:"40px",display:"flex",alignItems:"center",justifyContent:"center",marginLeft:"1rem"},"& img":{maxHeight:"40px"}}:{width:"200px",height:"65px",display:"flex",alignItems:"center","& img":{maxHeight:"65px"}},children:n.jsx(s,{sx:{maxWidth:"200px",cursor:"pointer","& .MuiImageListItem-img":{objectFit:"contain",width:"auto"}},onClick:()=>{window.location.href="/"},children:n.jsx("img",{src:t||H,alt:"logo"})})})}var xe={},ge=a;Object.defineProperty(xe,"__esModule",{value:!0});var he=xe.default=void 0,ye=ge(z()),fe=n;he=xe.default=(0,ye.default)((0,fe.jsx)("path",{d:"m7 10 5 5 5-5z"}),"ArrowDropDown");var be={},je=a;Object.defineProperty(be,"__esModule",{value:!0});var Ce=be.default=void 0,we=je(z()),ke=n;Ce=be.default=(0,we.default)((0,ke.jsx)("path",{d:"m7 14 5-5 5 5z"}),"ArrowDropUp");const ve=C.forwardRef((function({width:e,list:t,title:o,value:s,handleItemClick:a,menuRenderItemName:p=(e=>e.name),...m},u){const[x]=I(),[g,h]=C.useState(!1),y=C.useRef(null);C.useImperativeHandle(u,(()=>({setOpenDropDown:()=>h(!0)})));const f=()=>{h(!1)};return n.jsxs(i,{sx:{width:e||"auto"},children:[B?n.jsx(l,{primary:o,sx:{"& span":{fontWeight:x?400:700,color:"#333333"}}}):n.jsxs(r,{ref:y,onClick:()=>h(!0),sx:{pr:0},children:[n.jsx(l,{primary:o,sx:{"& span":{fontWeight:x?400:700,color:"#333333"}}}),g?n.jsx(Ce,{}):n.jsx(he,{})]}),n.jsx(c,{anchorEl:y.current,open:g,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},id:"customized-menu",keepMounted:!0,onClose:f,sx:{"& .MuiList-root.MuiList-padding.MuiMenu-list":{pt:x?0:"8px",pb:x?0:"8px",maxHeight:x?"auto":"200px"}},...m||{},children:t.length&&t.map((t=>{const{key:i}=t,o=s===i?"#3385d6":"black";return n.jsx(d,{sx:{color:o,minWidth:x?"auto":e||"155px"},onClick:()=>{f(),a&&a(i)},children:p(t)},i)}))})]})})),Fe=[{name:"Log out",key:"logout",idLang:"global.button.logout"}];function Ie({closeSidebar:e}){const[t]=I(),o=v((({company:e})=>e.customer.firstName)),s=v((({company:e})=>e.customer.lastName)),a=te(),r=w(),l=`${o}  ${s}`,c=C.useMemo((()=>Fe.map((e=>({key:e.key,name:r(e.idLang)})))),[r]);return n.jsx(i,{sx:{minWidth:"150px",display:"flex",justifyContent:t?"start":"end",mr:"-5px",fontSize:"16px",color:"#333333",textAlign:"center",alignItems:"center"},children:n.jsx(ve,{title:l,handleItemClick:async t=>{const n=Fe.find((e=>e.key===t));n&&("logout"===n.key?a("/login?loginFlag=loggedOutLogin"):"path"===n.type&&n.key&&a(n.key),e&&e(!1))},list:c})})}var Me={},Se=a;Object.defineProperty(Me,"__esModule",{value:!0});var De=Me.default=void 0,Ne=Se(z()),He=n;De=Me.default=(0,Ne.default)((0,He.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check");const ze={currentInfo:{langId:"companyHierarchy.chip.currentCompany"},representingInfo:{langId:"companyHierarchy.chip.selectCompany"}};function Be(){const e=w(),t=L(),[o,s]=C.useState(!1),[a,r]=C.useState(null),l=C.useRef(null),{state:{switchAccountButton:{color:c="#ED6C02"}}}=C.useContext(W),{id:d}=v((({company:e})=>e.companyInfo)),u=v((({b2bFeatures:e})=>e.masqueradeCompany.id)),{pagesSubsidiariesPermission:x}=v((({company:e})=>e)),{selectCompanyHierarchyId:g,companyHierarchyList:h}=v((({company:e})=>e.companyHierarchyInfo)),{isOpenCompanyHierarchyDropDown:y}=v((({global:e})=>e)),f=C.useMemo((()=>Object.keys(x).some((e=>x[e]))),[x]);C.useEffect((()=>{y&&l?.current&&l.current?.setOpenDropDown()}),[y]);const b=C.useMemo((()=>{const e=g||d||u,t=h.find((t=>Number(t.companyId)===Number(e)))?.companyName;return{title:t,list:h.map((e=>({name:e.companyName,key:e.companyId})))}}),[g,d,h,u]),{langId:j}=g?ze.representingInfo:ze.currentInfo;return b?.list?.length&&f&&(d||u)?n.jsxs(n.Fragment,{children:[n.jsxs(i,{sx:{minWidth:"100px",display:"flex",justifyContent:"start",alignItems:"center",fontSize:"1rem",color:"#333333","& .MuiListItemButton-root":{paddingLeft:"0"}},children:[n.jsx(ve,{ref:l,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},menuRenderItemName:e=>{const{name:t,key:i}=e,o=g||d||u;return n.jsxs(m,{container:!0,direction:"row",sx:{justifyContent:"space-between"},children:[n.jsx(m,{sx:{mr:2},children:t}),n.jsx(m,{sx:{width:"20px",display:"flex",justifyContent:"center"},children:i===Number(o)&&n.jsx(De,{sx:{fontSize:"1.2rem"}})})]})},title:b?.title||"",handleItemClick:e=>(e=>{const t=b.list.find((t=>Number(t.key)===e));t&&(r({companyId:Number(t.key),companyName:t.name}),s(!0))})(Number(e)),list:b?.list||[]}),n.jsx(p,{label:e(j),size:"small",sx:{backgroundColor:g?c:"primary.main",color:"white",height:24,"& .MuiChip-label":{px:1}}})]}),n.jsx(ae,{open:o,handleClose:()=>{s(!1),t(O(!1))},currentRow:a})]}):null}const Le=u(i)((()=>({"& svg":{color:"#FFFFFF"}})));function We(e){const{title:t}=e,i=L(),s=w(),a=v((({company:e})=>e.customer.loginType)),r=v((({company:e})=>e.customer.role)),l=v((({company:e})=>e.companyInfo.status)),c=P.get("blockPendingAccountOrderCreation"),[d]=re(),[p,m]=C.useState(""),[u,x]=C.useState(!1),[g,h]=C.useState("success"),[y,f]=C.useState("#2E7D32"),b=()=>{i(R(T.WAITING_LOGIN)),x(!1)},j={};return 0!==Number(l)&&(j.onClose=b),C.useEffect((()=>{const e=0===Number(l)||1===a,t=100!==r&&e;x(t),t&&(0===Number(l)&&(c&&d&&m(s(E.pendingOrderingAndViewPriceBlocked)),c&&!d&&m(s(E.pendingOrderingBlocked)),!c&&d&&m(s(E.pendingViewPriceBlocked)),c||d||m(s(E.pendingOrderingNotBlocked)),h("info"),f("#0288D1")),1===Number(l)&&(m(s(E.approvedTip)),h("success"),f("#2E7D32")),2===Number(l)&&(m(E.rejectedTip),h("warning"),f("#ED6C02")))}),[c,d,l,a,r,s]),u?n.jsx(Le,{sx:{mb:t?"20px":"0"},children:n.jsx(o,{...j,severity:g||"success",sx:{color:"#FFFFFF",backgroundColor:y},children:p})}):null}function Oe({title:e}){const t=v(A),o=v((({company:e})=>e.customer.role)),s=v((({company:e})=>e.companyInfo)),a=v((({b2bFeatures:e})=>e.masqueradeCompany.companyName)),r=v((({global:e})=>e.cartNumber)),l=te(),c=w(),[d]=I(),{state:{portalStyle:{backgroundColor:p="#FEF9F5"}}}=C.useContext(W),{purchasabilityPermission:u}=v(q),{isEnabledCompanyHierarchy:h}=v((({company:e})=>e.companyHierarchyInfo)),y=!t||u,f=_(p);return C.useEffect((()=>{se()}),[]),n.jsxs(i,{children:[n.jsxs(i,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",height:"70px",alignItems:"center"},children:[n.jsxs(m,{sx:{alignItems:"center",flexDirection:"row",display:"flex"},children:[n.jsx(i,{component:"h4",sx:{fontSize:"20px",fontWeight:"500",color:f||"#333333",ml:0},children:3===Number(o)&&(s?.companyName||a||c("global.B3MainHeader.superAdmin"))}),h&&n.jsx(Be,{})]}),n.jsxs(i,{sx:{display:"flex",alignItems:"center"},children:[100!==o&&n.jsx(Ie,{}),n.jsxs(i,{sx:{marginLeft:"8px"},children:[100===o&&n.jsx(x,{sx:{color:"#333333",fontWeight:700,fontSize:"16px"},onClick:()=>{l("/login")},children:c("global.B3MainHeader.signIn")}),n.jsx(x,{sx:{color:"#333333",fontWeight:700,fontSize:"16px"},onClick:()=>{window.location.href="/"},children:c("global.B3MainHeader.home")}),y&&n.jsxs(x,{sx:{color:"#333333",fontWeight:700,fontSize:"16px"},onClick:()=>{oe("on-click-cart-button")&&(window.location.href=K)},children:[c("global.B3MainHeader.cart"),r>0?n.jsx(g,{id:"cart-number-icon",sx:{backgroundColor:"#1976D2",minWidth:"21px",height:"20px",color:"#FFFFFF",borderRadius:"64px",fontSize:"12px",fontWeight:"500",lineHeight:"20px",marginLeft:"3px",padding:"0px 6.5px"},children:r}):null]})]})]})]}),e&&n.jsx(i,{component:"h3",sx:{height:"40px",m:"0",fontSize:"34px",fontWeight:400,lineHeight:"42px",display:"flex",alignItems:"end",mb:"24px",mt:d?0:"24px",color:f},children:e}),n.jsx(We,{title:e})]})}const Pe=e=>e.reduce(((e,t)=>{if(t?.subsidiariesCompanyKey){const n=t.permissionCodes?.includes(",")?t.permissionCodes.split(",")[0].trim():t.permissionCodes;e[t.subsidiariesCompanyKey]=X({level:3,code:n})}return e}),{});function Ee({closeSidebar:e}){const[t]=I(),i=te(),o=ne(),s=w(),{dispatch:a}=C.useContext(V),c=v((({company:e})=>e.customer.role)),{selectCompanyHierarchyId:d,isEnabledCompanyHierarchy:p}=v((({company:e})=>e.companyHierarchyInfo)),{permissions:m}=v((({company:e})=>e)),{state:u}=C.useContext(M),{quoteDetailHasNewMessages:x,registerEnabled:g}=u,j=h().palette.primary.main,k=()=>{i("/register"),a({type:"common",payload:{globalMessageDialog:{open:!1,title:"",message:"",cancelText:"Cancel"}}})},F=n=>{100!==c?(i(n.path),t&&e&&e(!1)):a({type:"common",payload:{globalMessageDialog:{open:!0,title:"Registration",message:"shoppingLists"===n.configKey?"Please create an account, or login to create a shopping list.":"To receive full access to buyer portal, please register. It will take 2 minutes.",cancelText:"Cancel",saveText:g?"Register":"",saveFn:k}}})};C.useEffect((()=>{let e=!1;const{hash:t}=window.location,n=t.split("#")[1]||"",i=G(u).filter((e=>e.isMenuItem));if(n){const t=G(u).find((e=>ie(e.path,n)));if(t&&t?.subsidiariesCompanyKey){const{permissionCodes:n}=t,i=n?.includes(",")?n.split(",")[0].trim():n;e=X({code:i,level:3})}}const o=Pe(i);U.dispatch(Y(o)),U.dispatch($({isHasCurrentPagePermission:e}))}),[d,u,i]);const S=C.useMemo((()=>{let e=G(u).filter((e=>e.isMenuItem));const t=Pe(e);return e=d?e.filter((e=>!!e?.subsidiariesCompanyKey&&t[e.subsidiariesCompanyKey])):e.filter((e=>"companyHierarchy"!==e?.subsidiariesCompanyKey||p&&t[e.subsidiariesCompanyKey])),e}),[d,m,u,p]),D=e=>o.pathname===e?(P.set("prevPath",e),!0):!(!o.pathname.includes("orderDetail")||e!==("/company-orders"===P.get("prevPath")?"/company-orders":"/orders"))||(!(!o.pathname.includes("shoppingList")||"/shoppingLists"!==e)||!(!o.pathname.includes("/quoteDetail")&&!o.pathname.includes("/quoteDraft")||"/quotes"!==e));return n.jsx(y,{sx:{width:"100%",maxWidth:360,bgcolor:t?"background.paper":"background.default",color:j||"info.main","& .MuiListItem-root":{"& .MuiButtonBase-root.Mui-selected":{color:_(j)||"#fff",bgcolor:"primary.main",borderRadius:"4px"},"& .MuiButtonBase-root:hover:not(.Mui-selected)":{bgcolor:Q(j,.12),borderRadius:"4px"}}},component:"nav","aria-labelledby":"nested-list-subheader",children:S.map((e=>{if("Quotes"===e.name){const{pathname:t}=o;return n.jsx(f,{disablePadding:!0,children:n.jsx(b,{badgeContent:x&&t.includes("quoteDetail")?"":0,variant:"dot",sx:{width:"100%","& .MuiBadge-badge.MuiBadge-dot":{width:8,height:8,bgcolor:"#FFFFFF",right:14,top:22}},children:n.jsx(r,{onClick:()=>F(e),selected:D(e.path),children:n.jsx(l,{primary:s(e.idLang)})})})},e.path)}return n.jsx(f,{disablePadding:!0,children:n.jsx(r,{onClick:()=>F(e),selected:D(e.path),children:n.jsx(l,{primary:s(e.idLang)})})},e.path)}))})}function Re({children:e,title:t}){const o=v(A),[s,a]=C.useState(!1),r=v((({global:e})=>e.cartNumber)),l=v((({b2bFeatures:e})=>e.masqueradeCompany.isAgenting)),{purchasabilityPermission:c}=v(q),d=!o||c,{state:{portalStyle:{backgroundColor:p="#FEF9F5"}}}=C.useContext(W),m=_(p);return n.jsxs(i,{sx:{height:"70vh",p:"4vw",display:"flex",flexDirection:"column"},children:[n.jsxs(i,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",mb:"4.5vw"},children:[n.jsx(b,{badgeContent:0,color:"secondary",children:n.jsx(le,{onClick:()=>{a(!0)},sx:{color:m}})}),n.jsx(ue,{}),n.jsxs(i,{sx:{display:"flex",justifyContent:"space-between","& span":{marginRight:"1.5rem"}},children:[d&&n.jsx(b,{badgeContent:r,max:1e3,sx:{"& .MuiBadge-badge":{color:"#FFFFFF",backgroundColor:"#1976D2",fontWeight:500,fontSize:"12px",minWidth:"18px",height:"18px",top:"8px",right:"3px",marginRight:"-0.5rem"}},children:n.jsx(ce,{sx:{color:"rgba(0, 0, 0, 0.54)",marginRight:"-0.5rem"},onClick:()=>{window.location.href=K}})}),n.jsx(i,{sx:{marginLeft:"2px",height:"24px"},children:n.jsx(me,{})})]})]}),n.jsx(i,{component:"h1",sx:{p:0,m:0,mb:"6vw",fontSize:"34px",fontWeight:"400",color:m||"#263238"},children:t}),n.jsx(pe,{}),n.jsx(i,{sx:{flex:1,display:"flex",paddingBottom:l?"52px":"0"},children:e}),s&&n.jsxs(i,{sx:{height:"100vh",position:"fixed",width:"92vw",zIndex:1e3,left:0,top:0,p:"4vw",backgroundColor:"white",boxShadow:"0px 7px 8px -4px #00000033, 0px 12px 17px 2px #00000024, 0px 5px 22px 4px #0000001f"},children:[n.jsxs(i,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",pb:"4vw"},children:[n.jsx(Ie,{closeSidebar:a}),n.jsx(de,{onClick:()=>a(!1)})]}),n.jsx(Ee,{closeSidebar:a})]})]})}const Te={"/purchased-products":"global.purchasedProducts.title","/orders":"global.orders.title","/company-orders":"global.companyOrders.title"}}}}));
//# sourceMappingURL=B3Layout-legacy-DwetT2Rz.js.map
