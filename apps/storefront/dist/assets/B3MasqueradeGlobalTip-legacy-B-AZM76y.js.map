{"version":3,"file":"B3MasqueradeGlobalTip-legacy-B-AZM76y.js","sources":["../../src/components/outSideComponents/B3MasqueradeGlobalTip.tsx","../../../../node_modules/@mui/icons-material/Group.js","../../../../node_modules/@mui/icons-material/KeyboardArrowLeft.js"],"sourcesContent":["import { useContext } from 'react';\nimport { useB3Lang } from '@b3/lang';\nimport GroupIcon from '@mui/icons-material/Group';\nimport KeyboardArrowLeftIcon from '@mui/icons-material/KeyboardArrowLeft';\nimport KeyboardArrowRightIcon from '@mui/icons-material/KeyboardArrowRight';\nimport { Box, Button, SnackbarOrigin, SxProps } from '@mui/material';\nimport Snackbar from '@mui/material/Snackbar';\n\nimport {\n  CHECKOUT_URL,\n  END_MASQUERADE_DEFAULT_VALUE,\n  TRANSLATION_MASQUERADE_BUTTON_VARIABLE,\n} from '@/constants';\nimport { useGetButtonText } from '@/hooks';\nimport useMobile from '@/hooks/useMobile';\nimport useStorageState from '@/hooks/useStorageState';\nimport { type SetOpenPage } from '@/pages/SetOpenPage';\nimport { CustomStyleContext } from '@/shared/customStyleButton';\nimport { superAdminEndMasquerade } from '@/shared/service/b2b';\nimport { clearMasqueradeCompany, useAppDispatch, useAppSelector } from '@/store';\n\nimport {\n  getContrastColor,\n  getLocation,\n  getPosition,\n  getStyles,\n  setMUIMediaStyle,\n  splitCustomCssValue,\n} from './utils/b3CustomStyles';\n\ninterface B3MasqueradeGlobalTipProps {\n  isOpen: boolean;\n  setOpenPage: SetOpenPage;\n}\n\nconst bottomHeightPage = ['shoppingList/', 'purchased-products'];\n\nexport default function B3MasqueradeGlobalTip(props: B3MasqueradeGlobalTipProps) {\n  const { isOpen, setOpenPage } = props;\n  const dispatch = useAppDispatch();\n  const customerId = useAppSelector(({ company }) => company.customer.id);\n  const b2bId = useAppSelector(({ company }) => company.customer.b2bId);\n  const salesRepCompanyId = useAppSelector(({ b2bFeatures }) => b2bFeatures.masqueradeCompany.id);\n  const salesRepCompanyName = useAppSelector(\n    ({ b2bFeatures }) => b2bFeatures.masqueradeCompany.companyName,\n  );\n  const isAgenting = useAppSelector(({ b2bFeatures }) => b2bFeatures.masqueradeCompany.isAgenting);\n\n  const { hash, href } = window.location;\n\n  const b3Lang = useB3Lang();\n\n  const {\n    state: { masqueradeButton },\n  } = useContext(CustomStyleContext);\n\n  const {\n    text = '',\n    color = '',\n    customCss = '',\n    location = 'bottomLeft',\n    horizontalPadding = '',\n    verticalPadding = '',\n  } = masqueradeButton;\n\n  const buttonLabel = useGetButtonText(\n    TRANSLATION_MASQUERADE_BUTTON_VARIABLE,\n    text,\n    END_MASQUERADE_DEFAULT_VALUE,\n  );\n\n  const isAddBottom = bottomHeightPage.some((item: string) => hash.includes(item));\n\n  const [isExpansion, setExpansion] = useStorageState<boolean>(\n    'sf-isMasqueradeTipExpansion',\n    true,\n    sessionStorage,\n  );\n  const [isMobile] = useMobile();\n\n  const endActing = async () => {\n    if (isOpen) {\n      setOpenPage({\n        isOpen: true,\n        openUrl: '/dashboard?closeMasquerade=1',\n      });\n    } else {\n      if (typeof b2bId === 'number') {\n        await superAdminEndMasquerade(Number(salesRepCompanyId));\n      }\n\n      dispatch(clearMasqueradeCompany());\n      setOpenPage({\n        isOpen: true,\n        openUrl: '/dashboard',\n      });\n    }\n  };\n\n  if (href.includes(CHECKOUT_URL) || !customerId) return null;\n\n  if (!isAgenting) return null;\n\n  const defaultLocation: SnackbarOrigin = {\n    vertical: 'bottom',\n    horizontal: 'left',\n  };\n\n  let sx: SxProps = {};\n\n  if (isMobile && isOpen) {\n    sx = {\n      width: '100%',\n      bottom: 0,\n      left: 0,\n      borderRadius: '0px',\n    };\n  } else if (!isMobile && isAddBottom) {\n    sx = {\n      bottom: '90px !important',\n    };\n  }\n\n  const cssInfo = splitCustomCssValue(customCss);\n  const {\n    cssValue,\n    mediaBlocks,\n  }: {\n    cssValue: string;\n    mediaBlocks: string[];\n  } = cssInfo;\n  const MUIMediaStyle = setMUIMediaStyle(mediaBlocks);\n\n  const customStyles: SxProps = {\n    backgroundColor: color || '#ED6C02',\n    color: getContrastColor(color || '#FFFFFF'),\n    padding: '0',\n    ...getStyles(cssValue),\n  };\n\n  const isMobileCustomStyles: SxProps = {\n    backgroundColor: color || '#ED6C02',\n    color: getContrastColor(color || '#FFFFFF'),\n  };\n\n  const customBuyerPortalPagesStyles: SxProps = {\n    bottom: '24px',\n    left: '24px',\n    right: 'auto',\n    top: 'unset',\n  };\n\n  return (\n    <>\n      {!isOpen && isMobile && (\n        <Snackbar\n          sx={{\n            zIndex: '99999999993',\n            ...getPosition(horizontalPadding, verticalPadding, location),\n          }}\n          anchorOrigin={getLocation(location) || defaultLocation}\n          open\n        >\n          <Button\n            sx={{\n              height: '42px',\n              marginTop: '10px',\n              ...customStyles,\n              ...MUIMediaStyle,\n            }}\n            onClick={() => endActing()}\n            variant=\"contained\"\n            startIcon={<GroupIcon />}\n          >\n            {salesRepCompanyName}\n          </Button>\n        </Snackbar>\n      )}\n\n      {!isOpen && !isMobile && (\n        <Snackbar\n          sx={{\n            zIndex: '9999999999',\n            borderRadius: '4px',\n            height: '52px',\n            fontSize: '16px',\n            ...getPosition(horizontalPadding, verticalPadding, location),\n            ...sx,\n            ...customStyles,\n            ...MUIMediaStyle,\n          }}\n          anchorOrigin={getLocation(location) || defaultLocation}\n          open\n        >\n          <Box\n            sx={{\n              padding: '5px 15px',\n              width: '100%',\n            }}\n          >\n            {!isMobile && (\n              <Box\n                sx={{\n                  display: 'flex',\n                  alignItems: 'center',\n                }}\n              >\n                <GroupIcon\n                  sx={{\n                    mr: '12px',\n                  }}\n                />\n                {isExpansion && (\n                  <Box\n                    sx={{\n                      fontWeight: 400,\n                    }}\n                  >\n                    {b3Lang('global.masquerade.youAreMasqueradeAs')}\n                  </Box>\n                )}\n                <Box\n                  sx={{\n                    fontWeight: '600',\n                    m: '0 15px 0 10px',\n                  }}\n                >\n                  {salesRepCompanyName}\n                </Box>\n                {isExpansion && (\n                  <Box\n                    sx={{\n                      fontWeight: 500,\n                      fontSize: '13px',\n                      cursor: 'pointer',\n                    }}\n                    onClick={() => endActing()}\n                  >\n                    {buttonLabel}\n                  </Box>\n                )}\n\n                {isExpansion ? (\n                  <KeyboardArrowLeftIcon\n                    onClick={() => setExpansion(false)}\n                    sx={{\n                      ml: '10px',\n                      cursor: 'pointer',\n                    }}\n                  />\n                ) : (\n                  <KeyboardArrowRightIcon\n                    onClick={() => setExpansion(true)}\n                    sx={{\n                      ml: '10px',\n                      cursor: 'pointer',\n                    }}\n                  />\n                )}\n              </Box>\n            )}\n          </Box>\n        </Snackbar>\n      )}\n\n      {isOpen && !isMobile && (\n        <Snackbar\n          sx={{\n            zIndex: '9999999999',\n            borderRadius: '4px',\n            height: '52px',\n            ...customStyles,\n            ...customBuyerPortalPagesStyles,\n            ...sx,\n          }}\n          anchorOrigin={defaultLocation}\n          open\n        >\n          <Box\n            sx={{\n              padding: '5px 15px',\n              width: '100%',\n            }}\n          >\n            <Box\n              sx={{\n                display: 'flex',\n                alignItems: 'center',\n                fontSize: '16px',\n              }}\n            >\n              <GroupIcon\n                sx={{\n                  mr: '12px',\n                }}\n              />\n              {isExpansion && (\n                <Box\n                  sx={{\n                    fontWeight: 400,\n                  }}\n                >\n                  {b3Lang('global.masquerade.youAreMasqueradeAs')}\n                </Box>\n              )}\n              <Box\n                sx={{\n                  fontWeight: '600',\n                  m: '0 15px 0 10px',\n                }}\n              >\n                {salesRepCompanyName}\n              </Box>\n              {isExpansion && (\n                <Box\n                  sx={{\n                    fontWeight: 500,\n                    fontSize: '13px',\n                    cursor: 'pointer',\n                  }}\n                  onClick={() => endActing()}\n                >\n                  {buttonLabel}\n                </Box>\n              )}\n\n              {isExpansion ? (\n                <KeyboardArrowLeftIcon\n                  onClick={() => setExpansion(false)}\n                  sx={{\n                    ml: '10px',\n                    cursor: 'pointer',\n                  }}\n                />\n              ) : (\n                <KeyboardArrowRightIcon\n                  onClick={() => setExpansion(true)}\n                  sx={{\n                    ml: '10px',\n                    cursor: 'pointer',\n                  }}\n                />\n              )}\n            </Box>\n          </Box>\n        </Snackbar>\n      )}\n\n      {isOpen && isMobile && (\n        <Snackbar\n          sx={{\n            zIndex: '9999999999',\n            borderRadius: '4px',\n            height: '52px',\n            ...sx,\n            ...isMobileCustomStyles,\n          }}\n          anchorOrigin={defaultLocation}\n          open\n        >\n          <Box\n            sx={{\n              padding: '5px 15px',\n              width: '100%',\n            }}\n          >\n            <Box\n              sx={{\n                display: 'flex',\n                alignItems: 'center',\n                fontSize: '16px',\n                width: '100%',\n                justifyContent: 'space-between',\n              }}\n            >\n              <Box\n                sx={{\n                  display: 'flex',\n                  alignItems: 'center',\n                }}\n              >\n                <GroupIcon\n                  sx={{\n                    mr: '12px',\n                  }}\n                />\n\n                <Box\n                  sx={{\n                    fontWeight: '600',\n                    m: '0 15px 0 10px',\n                  }}\n                >\n                  {salesRepCompanyName}\n                </Box>\n              </Box>\n\n              <Box\n                sx={{\n                  fontWeight: 500,\n                  fontSize: '13px',\n                  cursor: 'pointer',\n                }}\n                onClick={() => endActing()}\n              >\n                {buttonLabel}\n              </Box>\n            </Box>\n          </Box>\n        </Snackbar>\n      )}\n    </>\n  );\n}\n","\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = exports.default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5\"\n}), 'Group');","\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = exports.default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6z\"\n}), 'KeyboardArrowLeft');"],"names":["props","isOpen","setOpenPage","dispatch","useAppDispatch","customerId","useAppSelector","company","customer","id","b2bId","salesRepCompanyId","b2bFeatures","masqueradeCompany","salesRepCompanyName","companyName","isAgenting","hash","href","window","location","b3Lang","useB3Lang","state","masqueradeButton","useContext","CustomStyleContext","text","color","customCss","horizontalPadding","verticalPadding","buttonLabel","useGetButtonText","TRANSLATION_MASQUERADE_BUTTON_VARIABLE","END_MASQUERADE_DEFAULT_VALUE","isAddBottom","bottomHeightPage","some","item","includes","isExpansion","setExpansion","useStorageState","sessionStorage","isMobile","useMobile","endActing","async","openUrl","superAdminEndMasquerade","Number","clearMasqueradeCompany","CHECKOUT_URL","defaultLocation","vertical","horizontal","sx","width","bottom","left","borderRadius","cssInfo","splitCustomCssValue","cssValue","mediaBlocks","MUIMediaStyle","setMUIMediaStyle","customStyles","backgroundColor","getContrastColor","padding","getStyles","isMobileCustomStyles","jsxs","Fragment","children","jsx","Snackbar","zIndex","getPosition","anchorOrigin","getLocation","open","Button","height","marginTop","onClick","variant","startIcon","GroupIcon","fontSize","Box","display","alignItems","mr","fontWeight","m","cursor","KeyboardArrowLeftIcon","ml","KeyboardArrowRightIcon","right","top","justifyContent","_interopRequireDefault","require$$0","Object","defineProperty","Group","value","default_1","default","_createSvgIcon","require$$1","_jsxRuntime","require$$2","d","KeyboardArrowLeft"],"mappings":"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","x_google_ignoreList":[1,2]}