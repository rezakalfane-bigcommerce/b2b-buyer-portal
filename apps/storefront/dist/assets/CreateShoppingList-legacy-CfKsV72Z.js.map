{"version":3,"file":"CreateShoppingList-legacy-CfKsV72Z.js","sources":["../../src/pages/OrderDetail/components/CreateShoppingList.tsx"],"sourcesContent":["import { lazy, useRef, useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { LangFormatFunction, useB3Lang } from '@b3/lang';\nimport { Box } from '@mui/material';\n\nimport { isB2BUserSelector, useAppSelector } from '@/store';\nimport createShoppingList from '@/utils/b3ShoppingList/b3ShoppingList';\n\nconst B3Dialog = lazy(() => import('../../../components/B3Dialog'));\nconst B3CustomForm = lazy(() => import('../../../components/B3CustomForm'));\nconst getList = (b3Lang: LangFormatFunction) => [\n  {\n    name: 'name',\n    label: b3Lang('global.createShoppingList.name'),\n    required: true,\n    default: '',\n    fieldType: 'text',\n    xs: 12,\n    variant: 'filled',\n    size: 'small',\n    maxLength: 200,\n  },\n  {\n    name: 'description',\n    label: b3Lang('global.createShoppingList.description'),\n    required: false,\n    default: '',\n    fieldType: 'multiline',\n    xs: 12,\n    variant: 'filled',\n    size: 'small',\n    rows: 4,\n    maxLength: 200,\n  },\n];\n\ninterface CreateShoppingListProps {\n  open: boolean;\n  onChange: () => void;\n  onClose: () => void;\n}\n\nfunction CreateShoppingList({ open, onChange, onClose }: CreateShoppingListProps) {\n  const container = useRef<HTMLInputElement | null>(null);\n\n  const b3Lang = useB3Lang();\n\n  const [loading, setLoading] = useState<boolean>(false);\n\n  const isB2BUser = useAppSelector(isB2BUserSelector);\n\n  const {\n    control,\n    handleSubmit,\n    getValues,\n    formState: { errors },\n    setValue,\n  } = useForm({\n    mode: 'onSubmit',\n  });\n\n  const handleClose = () => {\n    onClose();\n  };\n\n  const handleConfirm = () => {\n    handleSubmit(async (data) => {\n      const { name, description } = data;\n\n      setLoading(true);\n      await createShoppingList({\n        data: { name, description },\n        isB2BUser,\n      });\n      setLoading(false);\n      onChange();\n    })();\n  };\n\n  return (\n    <Box\n      sx={{\n        ml: 3,\n        cursor: 'pointer',\n        width: '50%',\n      }}\n    >\n      <Box ref={container} />\n\n      <B3Dialog\n        isOpen={open}\n        fullWidth\n        title={b3Lang('global.createShoppingList.createNew')}\n        loading={loading}\n        handleLeftClick={handleClose}\n        handRightClick={handleConfirm}\n      >\n        <Box\n          sx={{\n            minHeight: 'auto',\n            display: 'flex',\n            alignItems: 'flex-start',\n          }}\n        >\n          <B3CustomForm\n            formFields={getList(b3Lang)}\n            errors={errors}\n            control={control}\n            getValues={getValues}\n            setValue={setValue}\n          />\n        </Box>\n      </B3Dialog>\n    </Box>\n  );\n}\n\nexport default CreateShoppingList;\n"],"names":["open","onChange","onClose","container","useRef","b3Lang","useB3Lang","loading","setLoading","useState","isB2BUser","useAppSelector","isB2BUserSelector","control","handleSubmit","getValues","formState","errors","setValue","useForm","mode","jsxs","Box","sx","ml","cursor","width","children","jsx","ref","B3Dialog","isOpen","fullWidth","title","handleLeftClick","handleClose","handRightClick","handleConfirm","async","name","description","data","createShoppingList","minHeight","display","alignItems","B3CustomForm","formFields","getList","lazy","module","import","meta","url","label","required","default","fieldType","xs","variant","size","maxLength","rows"],"mappings":"y1BA0CA,UAA4BA,KAAEA,EAAMC,SAAAA,EAAAC,QAAUA,IACtC,MAAAC,EAAYC,SAAgC,MAE5CC,EAASC,KAERC,EAASC,GAAcC,EAAAA,UAAkB,GAE1CC,EAAYC,EAAeC,IAE3BC,QACJA,EAAAC,aACAA,EAAAC,UACAA,EACAC,WAAWC,OAAEA,GAAOC,SACpBA,GACEC,EAAQ,CACVC,KAAM,aAsBN,OAAAC,EAAAA,KAACC,EAAA,CACCC,GAAI,CACFC,GAAI,EACJC,OAAQ,UACRC,MAAO,OAGTC,SAAA,CAACC,EAAAA,IAAAN,EAAA,CAAIO,IAAK1B,IAEVyB,EAAAA,IAACE,EAAA,CACCC,OAAQ/B,EACRgC,WAAS,EACTC,MAAO5B,EAAO,uCACdE,UACA2B,gBAjCcC,KACVjC,GAAA,EAiCJkC,eA9BgBC,KACpBvB,GAAawB,UACL,MAAAC,KAAEA,EAAMC,YAAAA,GAAgBC,EAE9BjC,GAAW,SACLkC,EAAmB,CACvBD,KAAM,CAAEF,OAAMC,eACd9B,cAEFF,GAAW,GACFP,GAAA,GATXa,EAUG,EAqBCa,SAAAC,EAAAA,IAACN,EAAA,CACCC,GAAI,CACFoB,UAAW,OACXC,QAAS,OACTC,WAAY,cAGdlB,SAAAC,EAAAA,IAACkB,EAAA,CACCC,WAAYC,EAAQ3C,GACpBY,SACAJ,UACAE,YACAG,mBAMZ,IA3GA,MAAMY,EAAWmB,EAAAA,MAAK,WAAMC,EAAOC,OAAA,0DAA8B,EAAAD,EAAAE,KAAAC,OAC3DP,EAAeG,EAAAA,MAAK,WAAMC,EAAOC,OAAA,0DAAkC,EAAAD,EAAAE,KAAAC,OACnEL,EAAW3C,GAA+B,CAC9C,CACEkC,KAAM,OACNe,MAAOjD,EAAO,kCACdkD,UAAU,EACVC,QAAS,GACTC,UAAW,OACXC,GAAI,GACJC,QAAS,SACTC,KAAM,QACNC,UAAW,KAEb,CACEtB,KAAM,cACNe,MAAOjD,EAAO,yCACdkD,UAAU,EACVC,QAAS,GACTC,UAAW,YACXC,GAAI,GACJC,QAAS,SACTC,KAAM,QACNE,KAAM,EACND,UAAW"}