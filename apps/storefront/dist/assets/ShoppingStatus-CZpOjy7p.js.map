{"version":3,"file":"ShoppingStatus-CZpOjy7p.js","sources":["../../src/pages/ShoppingLists/config.ts","../../src/pages/ShoppingLists/ShoppingStatus.tsx"],"sourcesContent":["import { LangFormatFunction, useB3Lang } from '@b3/lang';\n\nimport { CompanyInfoTypes } from '@/types';\n\nexport interface ShoppingListSearch {\n  search?: string;\n  createdBy?: string;\n  status?: string | number | number[];\n  offset?: number;\n  first?: number;\n}\n\ninterface ShoppingListStatusProps {\n  label: string;\n  value: number | string;\n  idLang: string;\n}\n\ninterface ShoppingListsItemsCustomerInfoProps {\n  firstName: string;\n  lastName: string;\n  userId: number;\n  email: string;\n  role: string;\n}\n\nexport interface ShoppingListsItemsProps {\n  id?: number;\n  name: string;\n  description: string;\n  status: number;\n  customerInfo: ShoppingListsItemsCustomerInfoProps;\n  products: {\n    totalCount: number;\n  };\n  updatedAt: string | number;\n  sampleShoppingListId?: number | string;\n  channelId: number;\n  approvedFlag: boolean;\n  isOwner: boolean;\n  companyInfo: CompanyInfoTypes | null;\n  companyId?: number;\n}\n\nexport interface GetFilterMoreListProps {\n  options?: Array<ShoppingListStatusProps>;\n  rows?: string | number;\n  name: string;\n  label: string;\n  required: boolean;\n  default: string;\n  fieldType: string;\n  xs: number;\n  variant: string;\n  size: string;\n  maxLength?: number;\n  idLang?: string;\n}\n\nexport const useGetFilterShoppingListStatus = () => {\n  const b3Lang = useB3Lang();\n\n  return (submitShoppingListPermission: boolean) => {\n    const draftStatus = { value: 30, label: b3Lang('global.shoppingLists.status.draft') };\n    const rejectedStatus = { value: 20, label: b3Lang('global.shoppingLists.status.rejected') };\n\n    return [\n      { value: 99, label: b3Lang('global.shoppingLists.status.all') },\n      { value: 0, label: b3Lang('global.shoppingLists.status.approved') },\n      ...(submitShoppingListPermission ? [draftStatus] : []),\n      { value: 40, label: b3Lang('global.shoppingLists.status.readyForApproval') },\n      ...(submitShoppingListPermission ? [rejectedStatus] : []),\n    ];\n  };\n};\n\ninterface CreatedByUsers {\n  createdByUser?: {\n    results: Array<{ firstName: string; lastName: string; email: string }>;\n  };\n}\n\nexport const useGetFilterMoreList = () => {\n  const b3Lang = useB3Lang();\n  const getFilterShoppingListStatus = useGetFilterShoppingListStatus();\n\n  return (submitShoppingListPermission: boolean, createdByUsers: CreatedByUsers) => {\n    const newCreatedByUsers =\n      createdByUsers?.createdByUser?.results.map((item) => ({\n        createdBy: `${item.firstName} ${item.lastName} (${item.email})`,\n      })) || [];\n\n    return [\n      {\n        name: 'createdBy',\n        required: false,\n        default: '',\n        fieldType: 'dropdown',\n        options: newCreatedByUsers,\n        replaceOptions: {\n          label: 'createdBy',\n          value: 'createdBy',\n        },\n        xs: 12,\n        variant: 'filled',\n        size: 'small',\n        label: b3Lang('global.shoppingLists.filter.createdBy'),\n      },\n      {\n        name: 'status',\n        required: false,\n        default: '',\n        fieldType: 'dropdown',\n        options: getFilterShoppingListStatus(submitShoppingListPermission),\n        xs: 12,\n        variant: 'filled',\n        size: 'small',\n        label: b3Lang('global.shoppingLists.filter.status'),\n      },\n    ];\n  };\n};\n\nexport const getCreatedShoppingListFiles = (\n  b3Lang: LangFormatFunction,\n): GetFilterMoreListProps[] => [\n  {\n    name: 'name',\n    label: b3Lang('shoppingLists.name'),\n    required: true,\n    default: '',\n    fieldType: 'text',\n    xs: 12,\n    variant: 'filled',\n    size: 'small',\n    maxLength: 200,\n  },\n  {\n    name: 'description',\n    label: b3Lang('shoppingLists.description'),\n    required: false,\n    default: '',\n    fieldType: 'multiline',\n    xs: 12,\n    variant: 'filled',\n    size: 'small',\n    rows: 4,\n    maxLength: 200,\n  },\n];\n","import { B3Tag } from '@/components';\nimport { rolePermissionSelector, useAppSelector } from '@/store';\n\nimport { useGetFilterShoppingListStatus } from './config';\n\nexport const useGetStatus = () => {\n  const getFilterShoppingListStatus = useGetFilterShoppingListStatus();\n\n  return (submitShoppingListPermission: boolean) => {\n    const statusArr = getFilterShoppingListStatus(submitShoppingListPermission);\n\n    const newStatus = statusArr.map((item) => {\n      if (Number(item.value) === 0) {\n        return {\n          color: '#C4DD6C',\n          textColor: 'black',\n          ...item,\n        };\n      }\n\n      if (Number(item.value) === 40) {\n        return {\n          color: '#F4CC46',\n          textColor: 'black',\n          ...item,\n        };\n      }\n\n      if (Number(item.value) === 30) {\n        return {\n          color: '#899193',\n          textColor: '#FFFFFF',\n          ...item,\n        };\n      }\n      return {\n        color: '#7A6041',\n        textColor: '#FFFFFF',\n        ...item,\n      };\n    });\n\n    return newStatus;\n  };\n};\n\ninterface ShoppingStatusProps {\n  status: number | string;\n}\n\nexport function ShoppingStatus({ status }: ShoppingStatusProps) {\n  const { submitShoppingListPermission } = useAppSelector(rolePermissionSelector);\n  const getStatus = useGetStatus();\n\n  const statusList = getStatus(submitShoppingListPermission);\n  const statusItem = statusList.find((item) => Number(item.value) === Number(status));\n\n  if (statusItem) {\n    return (\n      <B3Tag color={statusItem.color} textColor={statusItem.textColor}>\n        {statusItem.label}\n      </B3Tag>\n    );\n  }\n\n  return null;\n}\n"],"names":["useGetFilterShoppingListStatus","b3Lang","useB3Lang","submitShoppingListPermission","draftStatus","rejectedStatus","useGetFilterMoreList","getFilterShoppingListStatus","createdByUsers","_a","item","getCreatedShoppingListFiles","useGetStatus","ShoppingStatus","status","useAppSelector","rolePermissionSelector","statusItem","jsx","B3Tag"],"mappings":"6OA2DO,MAAMA,EAAiC,IAAM,CAClD,MAAMC,EAASC,EAAU,EAEzB,OAAQC,GAA0C,CAChD,MAAMC,EAAc,CAAE,MAAO,GAAI,MAAOH,EAAO,mCAAmC,CAAE,EAC9EI,EAAiB,CAAE,MAAO,GAAI,MAAOJ,EAAO,sCAAsC,CAAE,EAEnF,MAAA,CACL,CAAE,MAAO,GAAI,MAAOA,EAAO,iCAAiC,CAAE,EAC9D,CAAE,MAAO,EAAG,MAAOA,EAAO,sCAAsC,CAAE,EAClE,GAAIE,EAA+B,CAACC,CAAW,EAAI,CAAC,EACpD,CAAE,MAAO,GAAI,MAAOH,EAAO,8CAA8C,CAAE,EAC3E,GAAIE,EAA+B,CAACE,CAAc,EAAI,CAAA,CACxD,CACF,CACF,EAQaC,EAAuB,IAAM,CACxC,MAAML,EAASC,EAAU,EACnBK,EAA8BP,EAA+B,EAE5D,MAAA,CAACG,EAAuCK,IAAmC,OAMzE,MAAA,CACL,CACE,KAAM,YACN,SAAU,GACV,QAAS,GACT,UAAW,WACX,UAVFC,EAAAD,GAAA,YAAAA,EAAgB,gBAAhB,YAAAC,EAA+B,QAAQ,IAAKC,IAAU,CACpD,UAAW,GAAG,OAAAA,EAAK,UAAS,KAAI,OAAAA,EAAK,SAAQ,MAAK,OAAAA,EAAK,MAAK,IAC9D,MAAO,CAAC,EASN,eAAgB,CACd,MAAO,YACP,MAAO,WACT,EACA,GAAI,GACJ,QAAS,SACT,KAAM,QACN,MAAOT,EAAO,uCAAuC,CACvD,EACA,CACE,KAAM,SACN,SAAU,GACV,QAAS,GACT,UAAW,WACX,QAASM,EAA4BJ,CAA4B,EACjE,GAAI,GACJ,QAAS,SACT,KAAM,QACN,MAAOF,EAAO,oCAAoC,CAAA,CAEtD,CACF,CACF,EAEaU,EACXV,GAC6B,CAC7B,CACE,KAAM,OACN,MAAOA,EAAO,oBAAoB,EAClC,SAAU,GACV,QAAS,GACT,UAAW,OACX,GAAI,GACJ,QAAS,SACT,KAAM,QACN,UAAW,GACb,EACA,CACE,KAAM,cACN,MAAOA,EAAO,2BAA2B,EACzC,SAAU,GACV,QAAS,GACT,UAAW,YACX,GAAI,GACJ,QAAS,SACT,KAAM,QACN,KAAM,EACN,UAAW,GAAA,CAEf,EChJaW,EAAe,IAAM,CAChC,MAAML,EAA8BP,EAA+B,EAEnE,OAAQG,GACYI,EAA4BJ,CAA4B,EAE9C,IAAKO,GAC3B,OAAOA,EAAK,KAAK,IAAM,EAClB,CACL,MAAO,UACP,UAAW,QACX,GAAGA,CACL,EAGE,OAAOA,EAAK,KAAK,IAAM,GAClB,CACL,MAAO,UACP,UAAW,QACX,GAAGA,CACL,EAGE,OAAOA,EAAK,KAAK,IAAM,GAClB,CACL,MAAO,UACP,UAAW,UACX,GAAGA,CACL,EAEK,CACL,MAAO,UACP,UAAW,UACX,GAAGA,CACL,CACD,CAIL,EAMgB,SAAAG,EAAe,CAAE,OAAAC,GAA+B,CAC9D,KAAM,CAAE,6BAAAX,CAAA,EAAiCY,EAAeC,CAAsB,EAIxEC,EAHYL,EAAa,EAEFT,CAA4B,EAC3B,KAAMO,GAAS,OAAOA,EAAK,KAAK,IAAM,OAAOI,CAAM,CAAC,EAElF,OAAIG,EAEAC,EAAA,IAACC,GAAM,MAAOF,EAAW,MAAO,UAAWA,EAAW,UACnD,SAAAA,EAAW,KACd,CAAA,EAIG,IACT"}