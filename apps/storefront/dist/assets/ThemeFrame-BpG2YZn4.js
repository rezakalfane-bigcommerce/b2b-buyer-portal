import{j as u,a4 as L,a5 as S}from"./mui-Cw0dwOiN.js";import{r as i,d as j}from"./reactVendor-BTcQ-GDs.js";import{c as T}from"./eCache-BdHG5F0B.js";import{i as k,N as F,O as b}from"./react-setup-DSYWb28G.js";import"./intl-CKipw3rV.js";import"./redux-D7_Lh1Zo.js";import"./toolkit-C5fVsw89.js";import"./lodashEs-DKEtmQJE.js";import"./base-BCVDEF8S.js";import"./global-D7Yn0gGb.js";import"./load-functions-DL5N0fkL.js";import"../index.hStmN1DJ.js";import"./lang-6J3-0YIA.js";import"./router-DEI8QtBD.js";import"./muiIcon-BiFRwRtm.js";import"./dateFns-CeqDayOU.js";import"./dropzone-Cizh2goU.js";function I(t,n,c=!1){if(t){const o=t;if("srcdoc"in HTMLIFrameElement.prototype&&!c)o.srcdoc=n;else{const e=o.contentDocument;e==null||e.open("text/html","replace"),e==null||e.write(n),e==null||e.close()}}}const p=t=>{var n,c;(c=(n=t.current)==null?void 0:n.contentDocument)!=null&&c.addEventListener&&(t.current.contentDocument.addEventListener("keydown",()=>{document.dispatchEvent(new Event("keydown"))}),t.current.contentDocument.addEventListener("mousedown",()=>{document.dispatchEvent(new Event("mousedown"))}),t.current.contentDocument.addEventListener("touchstart",()=>{document.dispatchEvent(new Event("touchstart"))}),t.current.contentDocument.addEventListener("touchmove",()=>{document.dispatchEvent(new Event("touchmove"))}),t.current.contentDocument.addEventListener("click",()=>{document.dispatchEvent(new Event("click"))}))},N="<!DOCTYPE html><html><head></head><body></body></html>";function P(t){const n=k(),{isSetupComplete:c,emotionCache:o,iframeDocument:e,bodyRef:a,children:d}=t;return i.useEffect(()=>(e&&n(F(e)),()=>{e&&n(b())}),[e]),!c||!o||!e?null:((a==null?void 0:a.current)!==void 0&&(a.current=e.body),j.createPortal(u.jsxs(L,{value:o,children:[u.jsx(S,{}),d]}),e.body))}function Z(t){var v;const{title:n,className:c,fontUrl:o,customStyles:e,children:a,bodyRef:d}=t,r=i.useRef(null),[h,E]=i.useState(!1),[w,x]=i.useState(void 0);return i.useEffect(()=>{var C,y;const f=r.current;if(!f)return;I(f,N,!0);const s=(C=r.current)==null?void 0:C.contentDocument;if(!s)return;if(o){const m=s.createElement("link");m.rel="stylesheet",m.href=o,s.head.appendChild(m)}if(e){const m=s.createElement("style");m.appendChild(document.createTextNode(e)),s.head.appendChild(m)}const D=T({key:"css",container:s.head,prepend:!0});x(D),s.readyState==="complete"?p(r):(y=r.current)==null||y.addEventListener("load",()=>p(r)),E(!0);const l=r.current;return()=>{E(!1),l==null||l.removeEventListener("load",()=>{p(r)})}},[e,o]),u.jsx("iframe",{allowFullScreen:!0,className:h?c:void 0,title:n,ref:r,children:u.jsx(P,{isSetupComplete:h,emotionCache:w,iframeDocument:(v=r.current)==null?void 0:v.contentDocument,bodyRef:d,children:a})})}export{I as IFrameSetContent,Z as default};
//# sourceMappingURL=ThemeFrame-BpG2YZn4.js.map
