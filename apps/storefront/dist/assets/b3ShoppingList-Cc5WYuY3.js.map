{"version":3,"file":"b3ShoppingList-Cc5WYuY3.js","sources":["../../src/utils/b3ShoppingList/b3ShoppingList.ts"],"sourcesContent":["import { createB2BShoppingList, createBcShoppingList } from '@/shared/service/b2b';\nimport { store } from '@/store';\n\nimport { b2bPermissionsMap, validatePermissionWithComparisonType } from '../b3CheckPermissions';\nimport { channelId } from '../basicConfig';\n\ninterface CreateShoppingListParams {\n  data: { name: string; description: string };\n  isB2BUser: boolean;\n}\n\nconst createShoppingList = ({\n  data,\n  isB2BUser,\n}: // currentChannelId,\nCreateShoppingListParams) => {\n  const createShoppingData: Record<string, string | number> = data;\n\n  const createSL = isB2BUser ? createB2BShoppingList : createBcShoppingList;\n\n  if (isB2BUser) {\n    const submitShoppingListPermission = validatePermissionWithComparisonType({\n      containOrEqual: 'contain',\n      code: b2bPermissionsMap.submitShoppingListPermission,\n    });\n    const selectCompanyHierarchyId =\n      store.getState()?.company?.companyHierarchyInfo?.selectCompanyHierarchyId || 0;\n    createShoppingData.status = submitShoppingListPermission ? 30 : 0;\n    if (selectCompanyHierarchyId) {\n      createShoppingData.companyId = selectCompanyHierarchyId;\n    }\n  } else {\n    createShoppingData.channelId = channelId;\n  }\n\n  return createSL({ ...createShoppingData, channelId });\n};\n\nexport default createShoppingList;\n"],"names":["createShoppingList","data","isB2BUser","createShoppingData","createSL","createB2BShoppingList","createBcShoppingList","submitShoppingListPermission","validatePermissionWithComparisonType","b2bPermissionsMap","selectCompanyHierarchyId","_c","_b","_a","store","channelId"],"mappings":"yLAWA,MAAMA,EAAqB,CAAC,CAC1B,KAAAC,EACA,UAAAC,CACF,IAC6B,WAC3B,MAAMC,EAAsDF,EAEtDG,EAAWF,EAAYG,EAAwBC,EAErD,GAAIJ,EAAW,CACb,MAAMK,EAA+BC,EAAqC,CACxE,eAAgB,UAChB,KAAMC,EAAkB,4BAAA,CACzB,EACKC,IACJC,GAAAC,GAAAC,EAAAC,EAAM,SAAA,IAAN,YAAAD,EAAkB,UAAlB,YAAAD,EAA2B,uBAA3B,YAAAD,EAAiD,2BAA4B,EAC5DR,EAAA,OAASI,EAA+B,GAAK,EAC5DG,IACFP,EAAmB,UAAYO,EACjC,MAEAP,EAAmB,UAAYY,EAGjC,OAAOX,EAAS,CAAE,GAAGD,EAAoB,UAAAY,EAAW,CACtD"}