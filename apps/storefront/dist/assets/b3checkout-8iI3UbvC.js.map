{"version":3,"file":"b3checkout-8iI3UbvC.js","sources":["../../src/shared/service/b2b/graphql/checkout.ts","../../src/utils/b3checkout.ts"],"sourcesContent":["import B3Request from '../../request/b3Fetch';\n\nconst checkoutLogin = `mutation checkoutLogin($cartData: CheckoutLoginType!) {\n    checkoutLogin(\n        cartData: $cartData\n    ) {\n        result {\n            redirectUrl\n        }\n    }\n}`;\n\nexport const b2bCheckoutLogin = (data: CustomFieldItems) =>\n  B3Request.graphqlB2B({\n    query: checkoutLogin,\n    variables: data,\n  });\n","import { b2bCheckoutLogin } from '@/shared/service/b2b/graphql/checkout';\n\nconst redirect = (url: string, isReplaceCurrentUrl?: boolean) => {\n  if (isReplaceCurrentUrl) {\n    window.location.replace(url);\n  } else {\n    window.location.href = url;\n  }\n};\n\nexport const attemptCheckoutLoginAndRedirect = async (\n  cartId: any,\n  defaultCheckoutUrl: string,\n  isReplaceCurrentUrl?: boolean,\n) => {\n  try {\n    const resLogin = await b2bCheckoutLogin({\n      cartData: { cartId },\n    });\n\n    const {\n      checkoutLogin: { result },\n    } = resLogin;\n\n    redirect(result.redirectUrl, isReplaceCurrentUrl);\n  } catch (e) {\n    redirect(defaultCheckoutUrl, isReplaceCurrentUrl);\n  }\n};\n\nexport const setQuoteToStorage = (quoteId: string, date: any) => {\n  sessionStorage.setItem('isNewStorefront', JSON.stringify(true));\n  sessionStorage.setItem('quoteCheckoutId', quoteId);\n  sessionStorage.setItem('quoteDate', date?.toString());\n};\n"],"names":["checkoutLogin","b2bCheckoutLogin","data","B3Request","redirect","url","isReplaceCurrentUrl","attemptCheckoutLoginAndRedirect","cartId","defaultCheckoutUrl","resLogin","result","e","setQuoteToStorage","quoteId","date"],"mappings":"8CAEA,MAAMA,EAAgB,oLAUTC,EAAoBC,GAC/BC,EAAU,WAAW,CACnB,MAAOH,EACP,UAAWE,CACb,CAAC,ECdGE,EAAW,CAACC,EAAaC,IAAkC,CAC3DA,EACK,OAAA,SAAS,QAAQD,CAAG,EAE3B,OAAO,SAAS,KAAOA,CAE3B,EAEaE,EAAkC,MAC7CC,EACAC,EACAH,IACG,CACC,GAAA,CACI,MAAAI,EAAW,MAAMT,EAAiB,CACtC,SAAU,CAAE,OAAAO,CAAO,CAAA,CACpB,EAEK,CACJ,cAAe,CAAE,OAAAG,CAAO,CAAA,EACtBD,EAEKN,EAAAO,EAAO,YAAaL,CAAmB,QACzCM,EAAG,CACVR,EAASK,EAAoBH,CAAmB,CAAA,CAEpD,EAEaO,EAAoB,CAACC,EAAiBC,IAAc,CAC/D,eAAe,QAAQ,kBAAmB,KAAK,UAAU,EAAI,CAAC,EAC/C,eAAA,QAAQ,kBAAmBD,CAAO,EACjD,eAAe,QAAQ,YAAaC,GAAA,YAAAA,EAAM,UAAU,CACtD"}