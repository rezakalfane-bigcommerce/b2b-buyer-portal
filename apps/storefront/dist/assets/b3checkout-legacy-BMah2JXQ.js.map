{"version":3,"file":"b3checkout-legacy-BMah2JXQ.js","sources":["../../src/shared/service/b2b/graphql/checkout.ts","../../src/utils/b3checkout.ts"],"sourcesContent":["import B3Request from '../../request/b3Fetch';\n\nconst checkoutLogin = `mutation checkoutLogin($cartData: CheckoutLoginType!) {\n    checkoutLogin(\n        cartData: $cartData\n    ) {\n        result {\n            redirectUrl\n        }\n    }\n}`;\n\nexport const b2bCheckoutLogin = (data: CustomFieldItems) =>\n  B3Request.graphqlB2B({\n    query: checkoutLogin,\n    variables: data,\n  });\n","import { b2bCheckoutLogin } from '@/shared/service/b2b/graphql/checkout';\n\nconst redirect = (url: string, isReplaceCurrentUrl?: boolean) => {\n  if (isReplaceCurrentUrl) {\n    window.location.replace(url);\n  } else {\n    window.location.href = url;\n  }\n};\n\nexport const attemptCheckoutLoginAndRedirect = async (\n  cartId: any,\n  defaultCheckoutUrl: string,\n  isReplaceCurrentUrl?: boolean,\n) => {\n  try {\n    const resLogin = await b2bCheckoutLogin({\n      cartData: { cartId },\n    });\n\n    const {\n      checkoutLogin: { result },\n    } = resLogin;\n\n    redirect(result.redirectUrl, isReplaceCurrentUrl);\n  } catch (e) {\n    redirect(defaultCheckoutUrl, isReplaceCurrentUrl);\n  }\n};\n\nexport const setQuoteToStorage = (quoteId: string, date: any) => {\n  sessionStorage.setItem('isNewStorefront', JSON.stringify(true));\n  sessionStorage.setItem('quoteCheckoutId', quoteId);\n  sessionStorage.setItem('quoteDate', date?.toString());\n};\n"],"names":["redirect","url","isReplaceCurrentUrl","window","location","replace","href","async","cartId","defaultCheckoutUrl","resLogin","data","cartData","B3Request","graphqlB2B","query","variables","checkoutLogin","result","redirectUrl","e","exports","quoteId","date","sessionStorage","setItem","JSON","stringify","toString"],"mappings":"sIAEA,MCAMA,EAAWA,CAACC,EAAaC,KACzBA,EACKC,OAAAC,SAASC,QAAQJ,GAExBE,OAAOC,SAASE,KAAOL,CAAA,SAIoBM,MAC7CC,EACAC,EACAP,KAEI,IACI,MAAAQ,QDJuBC,ECIW,CACtCC,SAAU,CAAEJ,WDJhBK,EAAUC,WAAW,CACnBC,MAZkB,oLAalBC,UAAWL,MCMTM,eAAeC,OAAEA,IACfR,EAEKV,EAAAkB,EAAOC,YAAajB,SACtBkB,GACPpB,EAASS,EAAoBP,EAAmB,CDdnBS,KCcmB,IAInBU,EAAA,KAAA,CAACC,EAAiBC,KACjDC,eAAeC,QAAQ,kBAAmBC,KAAKC,WAAU,IAC1CH,eAAAC,QAAQ,kBAAmBH,GAC1CE,eAAeC,QAAQ,YAAaF,GAAMK,WAAU"}