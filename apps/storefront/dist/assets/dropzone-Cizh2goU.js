import{r as c,b as He}from"./reactVendor-BTcQ-GDs.js";import{P as s}from"./mui-Cw0dwOiN.js";import{_ as j,a as _,b as Me}from"./intl-CKipw3rV.js";var We=new Map([["avi","video/avi"],["gif","image/gif"],["ico","image/x-icon"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["mkv","video/x-matroska"],["mov","video/quicktime"],["mp4","video/mp4"],["pdf","application/pdf"],["png","image/png"],["zip","application/zip"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"]]);function K(e,r){var n=Ne(e);if(typeof n.path!="string"){var o=e.webkitRelativePath;Object.defineProperty(n,"path",{value:typeof r=="string"?r:typeof o=="string"&&o.length>0?o:e.name,writable:!1,configurable:!1,enumerable:!0})}return n}function Ne(e){var r=e.name,n=r&&r.lastIndexOf(".")!==-1;if(n&&!e.type){var o=r.split(".").pop().toLowerCase(),i=We.get(o);i&&Object.defineProperty(e,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return e}var Ge=[".DS_Store","Thumbs.db"];function qe(e){return j(this,void 0,void 0,function(){return _(this,function(r){return[2,Ye(e)&&e.dataTransfer?Ue(e.dataTransfer,e.type):Je(e)]})})}function Ye(e){return!!e.dataTransfer}function Je(e){var r=Qe(e.target)?e.target.files?V(e.target.files):[]:[];return r.map(function(n){return K(n)})}function Qe(e){return e!==null}function Ue(e,r){return j(this,void 0,void 0,function(){var n,o;return _(this,function(i){switch(i.label){case 0:return e.items?(n=V(e.items).filter(function(a){return a.kind==="file"}),r!=="drop"?[2,n]:[4,Promise.all(n.map(Ve))]):[3,2];case 1:return o=i.sent(),[2,he(Ce(o))];case 2:return[2,he(V(e.files).map(function(a){return K(a)}))]}})})}function he(e){return e.filter(function(r){return Ge.indexOf(r.name)===-1})}function V(e){for(var r=[],n=0;n<e.length;n++){var o=e[n];r.push(o)}return r}function Ve(e){if(typeof e.webkitGetAsEntry!="function")return Fe(e);var r=e.webkitGetAsEntry();return r&&r.isDirectory?Ae(r):Fe(e)}function Ce(e){return e.reduce(function(r,n){return Me(r,Array.isArray(n)?Ce(n):[n])},[])}function Fe(e){var r=e.getAsFile();if(!r)return Promise.reject(e+" is not a File");var n=K(r);return Promise.resolve(n)}function Xe(e){return j(this,void 0,void 0,function(){return _(this,function(r){return[2,e.isDirectory?Ae(e):Ze(e)]})})}function Ae(e){var r=e.createReader();return new Promise(function(n,o){var i=[];function a(){var f=this;r.readEntries(function(l){return j(f,void 0,void 0,function(){var F,w,A;return _(this,function(g){switch(g.label){case 0:if(l.length)return[3,5];g.label=1;case 1:return g.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return F=g.sent(),n(F),[3,4];case 3:return w=g.sent(),o(w),[3,4];case 4:return[3,6];case 5:A=Promise.all(l.map(Xe)),i.push(A),a(),g.label=6;case 6:return[2]}})})},function(l){o(l)})}a()})}function Ze(e){return j(this,void 0,void 0,function(){return _(this,function(r){return[2,new Promise(function(n,o){e.file(function(i){var a=K(i,e.fullPath);n(a)},function(i){o(i)})})]})})}var er=function(e,r){if(e&&r){var n=Array.isArray(r)?r:r.split(","),o=e.name||"",i=(e.type||"").toLowerCase(),a=i.replace(/\/.*$/,"");return n.some(function(f){var l=f.trim().toLowerCase();return l.charAt(0)==="."?o.toLowerCase().endsWith(l):l.endsWith("/*")?a===l.replace(/\/.*$/,""):i===l})}return!0};function Pe(e,r){return e.type==="application/x-moz-file"||er(e,r)}function je(e,r,n){if(P(e.size)){if(P(r)&&P(n))return e.size>=r&&e.size<=n;if(P(r))return e.size>=r;if(P(n))return e.size<=n}return!0}function P(e){return e!=null}function rr(e){var r=e.files,n=e.accept,o=e.minSize,i=e.maxSize,a=e.multiple;return!a&&r.length>1?!1:r.every(function(f){return Pe(f,n)&&je(f,o,i)})}function z(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function R(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(r){return r==="Files"||r==="application/x-moz-file"}):!!e.target&&!!e.target.files}function Oe(e){e.preventDefault()}function nr(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function tr(e){return e.indexOf("Edge/")!==-1}function or(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return nr(e)||tr(e)}function y(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return function(o){for(var i=arguments.length,a=new Array(i>1?i-1:0),f=1;f<i;f++)a[f-1]=arguments[f];return r.some(function(l){return!z(o)&&l&&l.apply(void 0,[o].concat(a)),z(o)})}}function Ee(e){return ur(e)||ar(e)||ir()}function ir(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function ar(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function ur(e){if(Array.isArray(e)){for(var r=0,n=new Array(e.length);r<e.length;r++)n[r]=e[r];return n}}function sr(e,r){return lr(e)||fr(e,r)||cr()}function cr(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function fr(e,r){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]"){var n=[],o=!0,i=!1,a=void 0;try{for(var f=e[Symbol.iterator](),l;!(o=(l=f.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(F){i=!0,a=F}finally{try{!o&&f.return!=null&&f.return()}finally{if(i)throw a}}return n}}function lr(e){if(Array.isArray(e))return e}function we(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,o)}return n}function D(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?we(n,!0).forEach(function(o){X(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(n).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function X(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function L(e,r){if(e==null)return{};var n=pr(e,r),o,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)o=a[i],!(r.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}function pr(e,r){if(e==null)return{};var n={},o=Object.keys(e),i,a;for(a=0;a<o.length;a++)i=o[a],!(r.indexOf(i)>=0)&&(n[i]=e[i]);return n}var _e=c.forwardRef(function(e,r){var n=e.children,o=L(e,["children"]),i=dr(o),a=i.open,f=L(i,["open"]);return c.useImperativeHandle(r,function(){return{open:a}},[a]),He.createElement(c.Fragment,null,n(D({},f,{open:a})))});_e.displayName="Dropzone";_e.propTypes={children:s.func,accept:s.oneOfType([s.string,s.arrayOf(s.string)]),multiple:s.bool,preventDropOnDocument:s.bool,noClick:s.bool,noKeyboard:s.bool,noDrag:s.bool,noDragEventsBubbling:s.bool,minSize:s.number,maxSize:s.number,disabled:s.bool,getFilesFromEvent:s.func,onFileDialogCancel:s.func,onDragEnter:s.func,onDragLeave:s.func,onDragOver:s.func,onDrop:s.func,onDropAccepted:s.func,onDropRejected:s.func};var gr={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],rejectedFiles:[]};function dr(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.accept,n=e.disabled,o=n===void 0?!1:n,i=e.getFilesFromEvent,a=i===void 0?qe:i,f=e.maxSize,l=f===void 0?1/0:f,F=e.minSize,w=F===void 0?0:F,A=e.multiple,g=A===void 0?!0:A,$=e.onDragEnter,B=e.onDragLeave,H=e.onDragOver,M=e.onDrop,W=e.onDropAccepted,N=e.onDropRejected,G=e.onFileDialogCancel,Z=e.preventDropOnDocument,q=Z===void 0?!0:Z,ee=e.noClick,re=ee===void 0?!1:ee,ne=e.noKeyboard,Y=ne===void 0?!1:ne,te=e.noDrag,oe=te===void 0?!1:te,ie=e.noDragEventsBubbling,O=ie===void 0?!1:ie,d=c.useRef(null),v=c.useRef(null),ke=c.useReducer(vr,gr),ae=sr(ke,2),k=ae[0],b=ae[1],Se=k.isFocused,ue=k.isFileDialogActive,se=k.draggedFiles,S=c.useCallback(function(){v.current&&(b({type:"openDialog"}),v.current.value=null,v.current.click())},[b]),ce=function(){ue&&setTimeout(function(){if(v.current){var u=v.current.files;u.length||(b({type:"closeDialog"}),typeof G=="function"&&G())}},300)};c.useEffect(function(){return window.addEventListener("focus",ce,!1),function(){window.removeEventListener("focus",ce,!1)}},[v,ue,G]);var fe=c.useCallback(function(t){!d.current||!d.current.isEqualNode(t.target)||(t.keyCode===32||t.keyCode===13)&&(t.preventDefault(),S())},[d,v]),le=c.useCallback(function(){b({type:"focus"})},[]),pe=c.useCallback(function(){b({type:"blur"})},[]),ge=c.useCallback(function(){re||(or()?setTimeout(S,0):S())},[v,re]),E=c.useRef([]),de=function(u){d.current&&d.current.contains(u.target)||(u.preventDefault(),E.current=[])};c.useEffect(function(){return q&&(document.addEventListener("dragover",Oe,!1),document.addEventListener("drop",de,!1)),function(){q&&(document.removeEventListener("dragover",Oe),document.removeEventListener("drop",de))}},[d,q]);var ve=c.useCallback(function(t){t.preventDefault(),t.persist(),I(t),E.current.indexOf(t.target)===-1&&(E.current=[].concat(Ee(E.current),[t.target])),R(t)&&Promise.resolve(a(t)).then(function(u){z(t)&&!O||(b({draggedFiles:u,isDragActive:!0,type:"setDraggedFiles"}),$&&$(t))})},[a,$,O]),me=c.useCallback(function(t){if(t.preventDefault(),t.persist(),I(t),t.dataTransfer)try{t.dataTransfer.dropEffect="copy"}catch(u){}return R(t)&&H&&H(t),!1},[H,O]),De=c.useCallback(function(t){t.preventDefault(),t.persist(),I(t);var u=E.current.filter(function(p){return p!==t.target&&d.current&&d.current.contains(p)});E.current=u,!(u.length>0)&&(b({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),R(t)&&B&&B(t))},[d,B,O]),T=c.useCallback(function(t){t.preventDefault(),t.persist(),I(t),E.current=[],R(t)&&Promise.resolve(a(t)).then(function(u){if(!(z(t)&&!O)){var p=[],m=[];u.forEach(function(h){Pe(h,r)&&je(h,w,l)?p.push(h):m.push(h)}),!g&&p.length>1&&m.push.apply(m,Ee(p.splice(0))),b({acceptedFiles:p,rejectedFiles:m,type:"setFiles"}),M&&M(p,m,t),m.length>0&&N&&N(m,t),p.length>0&&W&&W(p,t)}}),b({type:"reset"})},[g,r,w,l,a,M,W,N,O]),C=function(u){return o?null:u},J=function(u){return Y?null:C(u)},x=function(u){return oe?null:C(u)},I=function(u){O&&u.stopPropagation()},Te=c.useMemo(function(){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=t.refKey,p=u===void 0?"ref":u,m=t.onKeyDown,h=t.onFocus,Q=t.onBlur,U=t.onClick,ze=t.onDragEnter,Le=t.onDragOver,Ke=t.onDragLeave,$e=t.onDrop,Be=L(t,["refKey","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"]);return D(X({onKeyDown:J(y(m,fe)),onFocus:J(y(h,le)),onBlur:J(y(Q,pe)),onClick:C(y(U,ge)),onDragEnter:x(y(ze,ve)),onDragOver:x(y(Le,me)),onDragLeave:x(y(Ke,De)),onDrop:x(y($e,T))},p,d),!o&&!Y?{tabIndex:0}:{},{},Be)}},[d,fe,le,pe,ge,ve,me,De,T,Y,oe,o]),xe=c.useCallback(function(t){t.stopPropagation()},[]),Ie=c.useMemo(function(){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=t.refKey,p=u===void 0?"ref":u,m=t.onChange,h=t.onClick,Q=L(t,["refKey","onChange","onClick"]),U=X({accept:r,multiple:g,type:"file",style:{display:"none"},onChange:C(y(m,T)),onClick:C(y(h,xe)),autoComplete:"off",tabIndex:-1},p,v);return D({},U,{},Q)}},[v,r,g,T,o]),ye=se.length,be=ye>0&&rr({files:se,accept:r,minSize:w,maxSize:l,multiple:g}),Re=ye>0&&!be;return D({},k,{isDragAccept:be,isDragReject:Re,isFocused:Se&&!o,getRootProps:Te,getInputProps:Ie,rootRef:d,inputRef:v,open:C(S)})}function vr(e,r){switch(r.type){case"focus":return D({},e,{isFocused:!0});case"blur":return D({},e,{isFocused:!1});case"openDialog":return D({},e,{isFileDialogActive:!0});case"closeDialog":return D({},e,{isFileDialogActive:!1});case"setDraggedFiles":var n=r.isDragActive,o=r.draggedFiles;return D({},e,{draggedFiles:o,isDragActive:n});case"setFiles":return D({},e,{acceptedFiles:r.acceptedFiles,rejectedFiles:r.rejectedFiles});case"reset":return D({},e,{isFileDialogActive:!1,isDragActive:!1,draggedFiles:[],acceptedFiles:[],rejectedFiles:[]});default:return e}}export{_e as D};
//# sourceMappingURL=dropzone-Cizh2goU.js.map
