{"version":3,"file":"getQuoteExtraFields-B0PuACIs.js","sources":["../../../../node_modules/@mui/icons-material/ExpandLess.js","../../../../node_modules/@mui/icons-material/ExpandMore.js","../../src/components/B3CollapseContainer.tsx","../../../../node_modules/@mui/icons-material/Help.js","../../src/pages/quote/components/FileUpload.tsx","../../src/pages/quote/components/QuoteAttachment.tsx","../../src/pages/quote/style.ts","../../src/pages/quote/components/QuoteInfoAndExtrafieldsItem.tsx","../../src/pages/quote/components/QuoteInfo.tsx","../../src/pages/quote/components/QuoteNote.tsx","../../src/pages/quote/utils/getQuoteExtraFields.ts"],"sourcesContent":["\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = exports.default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z\"\n}), 'ExpandLess');","\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = exports.default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z\"\n}), 'ExpandMore');","import { ReactElement, ReactNode, useEffect, useState } from 'react';\nimport ExpandLess from '@mui/icons-material/ExpandLess';\nimport ExpandMore from '@mui/icons-material/ExpandMore';\nimport { Box, Collapse, Typography } from '@mui/material';\n\ninterface CollapseContainerProps {\n  title?: string | ReactElement;\n  header?: ReactNode;\n  defaultOpen?: boolean;\n  children: ReactNode;\n  handleOnChange?: (open: boolean) => void;\n}\n\nexport default function B3CollapseContainer(props: CollapseContainerProps) {\n  const { children, title = '', header, defaultOpen = false, handleOnChange } = props;\n\n  const [open, setOpen] = useState(defaultOpen);\n\n  const handleClick = () => {\n    setOpen(!open);\n  };\n  useEffect(() => {\n    if (handleOnChange) handleOnChange(open);\n  }, [handleOnChange, open]);\n\n  useEffect(() => {\n    if (defaultOpen) {\n      setOpen(defaultOpen);\n    }\n  }, [defaultOpen]);\n\n  return (\n    <Box>\n      <Box\n        onClick={handleClick}\n        sx={{\n          display: 'flex',\n          justifyContent: 'space-between',\n          cursor: 'pointer',\n          alignItems: 'center',\n        }}\n      >\n        {header || <Typography variant=\"h5\">{title}</Typography>}\n        {open ? <ExpandLess /> : <ExpandMore />}\n      </Box>\n      <Collapse in={open} timeout=\"auto\" unmountOnExit>\n        {children}\n      </Collapse>\n    </Box>\n  );\n}\n","\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = exports.default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 17h-2v-2h2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25\"\n}), 'Help');","import { forwardRef, Ref, useImperativeHandle, useState } from 'react';\nimport { DropzoneArea } from 'react-mui-dropzone';\nimport { useB3Lang } from '@b3/lang';\nimport styled from '@emotion/styled';\nimport AttachFileIcon from '@mui/icons-material/AttachFile';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport HelpIcon from '@mui/icons-material/Help';\nimport { Box, Tooltip, Typography, useTheme } from '@mui/material';\nimport noop from 'lodash-es/noop';\nimport { v1 as uuid } from 'uuid';\n\nimport B3Spin from '@/components/spin/B3Spin';\nimport { uploadB2BFile } from '@/shared/service/b2b';\nimport { snackbar } from '@/utils';\n\nimport { FILE_UPLOAD_ACCEPT_TYPE } from '../../../constants';\n\nconst FileUploadContainer = styled(Box)(({ style }) => ({\n  '& .file-upload-area': {\n    cursor: 'pointer',\n    '& .MuiDropzoneArea-textContainer': {\n      display: 'flex',\n      alignItems: 'center',\n      color: style?.color || '#1976D2',\n    },\n    '& .MuiDropzoneArea-text': {\n      order: 1,\n      textTransform: 'uppercase',\n      fontWeight: 500,\n      fontSize: '14px',\n      lineHeight: '24px',\n    },\n  },\n}));\n\nconst FileListItem = styled(Box)((props: CustomFieldItems) => ({\n  display: 'flex',\n  background: props.hasdelete === 'true' ? 'rgba(25, 118, 210, 0.3)' : 'rgba(0, 0, 0, 0.12)',\n  borderRadius: '18px',\n  padding: '6px 8px',\n  alignItems: 'center',\n  margin: '0 0 2px',\n  color: 'rgba(0, 0, 0, 0.54)',\n  '& .fileList-name-area': {\n    display: 'flex',\n    flex: 1,\n    alignItems: 'center',\n  },\n  '& .fileList-name': {\n    whiteSpace: 'nowrap',\n    textOverflow: 'ellipsis',\n    overflow: 'hidden',\n    flexGrow: 1,\n    flexBasis: '100px',\n    maxWidth: '200px',\n    color: '#313440',\n    fontSize: '14px',\n    cursor: 'pointer',\n  },\n}));\n\nconst FileUserTitle = styled(Typography)({\n  marginBottom: '16px',\n  fontSize: '10px',\n  color: 'rgba(0, 0, 0, 0.38)',\n  padding: '0 12px',\n  textAlign: 'right',\n  wordBreak: 'break-word',\n});\n\nexport interface FileObjects {\n  id?: string;\n  fileName: string;\n  fileType: string;\n  fileUrl: string;\n  fileSize?: number;\n  title?: string;\n  hasDelete?: boolean;\n  isCustomer?: boolean;\n}\n\ninterface FileUploadProps {\n  title?: string;\n  tips?: string;\n  maxFileSize?: number;\n  fileNumber?: number;\n  acceptedFiles?: string[];\n  onchange?: (file: FileObjects) => void;\n  fileList: FileObjects[];\n  allowUpload?: boolean;\n  onDelete?: (id: string) => void;\n  limitUploadFn?: () => boolean;\n  isEndLoadding?: boolean;\n  requestType?: string;\n}\n\nconst AttachFile = styled(AttachFileIcon)(() => ({\n  transform: 'rotate(45deg)',\n  marginRight: '5px',\n}));\n\nfunction FileUpload(props: FileUploadProps, ref: Ref<unknown>) {\n  const b3Lang = useB3Lang();\n  const {\n    title = b3Lang('global.fileUpload.addAttachment'),\n    tips = b3Lang('global.fileUpload.maxFileSizeMessage'),\n    maxFileSize = 2097152, // 2MB\n    fileNumber = 3,\n    limitUploadFn,\n    acceptedFiles = FILE_UPLOAD_ACCEPT_TYPE,\n    onchange = noop,\n    fileList = [],\n    allowUpload = true,\n    onDelete = noop,\n    isEndLoadding = false,\n    requestType = 'quoteAttachedFile',\n  } = props;\n\n  const theme = useTheme();\n\n  const primaryColor = theme.palette.primary.main;\n\n  const [loading, setLoading] = useState<boolean>(false);\n\n  useImperativeHandle(ref, () => ({\n    setUploadLoadding: (flag: boolean) => setLoading(flag),\n  }));\n\n  const getMaxFileSizeLabel = (maxSize: number) => {\n    if (maxSize / 1048576 > 1) {\n      return `${(maxSize / 1048576).toFixed(1)}MB`;\n    }\n    if (maxSize / 1024 > 1) {\n      return `${(maxSize / 1024).toFixed(1)}KB`;\n    }\n    return `${maxSize}B`;\n  };\n\n  const getRejectMessage = (rejectedFile: File, acceptedFiles: string[], maxFileSize: number) => {\n    const { size, type } = rejectedFile;\n\n    let isAcceptFileType = false;\n    acceptedFiles.forEach((acceptedFileType: string) => {\n      isAcceptFileType = new RegExp(acceptedFileType).test(type) || isAcceptFileType;\n    });\n\n    let message = '';\n    if (!isAcceptFileType) {\n      message = b3Lang('global.fileUpload.fileTypeNotSupported');\n    }\n\n    if (size > maxFileSize) {\n      message = b3Lang('global.fileUpload.fileSizeExceedsLimit', {\n        maxFileSize: getMaxFileSizeLabel(maxFileSize),\n      });\n    }\n\n    if (message) {\n      snackbar.error(message);\n    }\n\n    return message;\n  };\n\n  const getFileLimitExceedMessage = () => {\n    snackbar.error(\n      b3Lang('global.fileUpload.fileSizeExceedsLimit', {\n        maxFileSize: getMaxFileSizeLabel(maxFileSize),\n      }),\n    );\n    return '';\n  };\n\n  const handleChange = async (files: File[]) => {\n    const file = files.length > 0 ? files[0] : null;\n\n    if (file && limitUploadFn && limitUploadFn()) {\n      return;\n    }\n\n    if (!limitUploadFn && file && fileList.length >= fileNumber) {\n      snackbar.error(b3Lang('global.fileUpload.maxFileNumber', { fileNumber }));\n      return;\n    }\n\n    if (file) {\n      try {\n        setLoading(true);\n        const {\n          code,\n          data: fileInfo,\n          message,\n        } = await uploadB2BFile({\n          file,\n          type: requestType,\n        });\n        if (code === 200) {\n          onchange({\n            ...fileInfo,\n            id: uuid(),\n          });\n        } else {\n          snackbar.error(message);\n        }\n      } finally {\n        if (!isEndLoadding) {\n          setLoading(false);\n        }\n      }\n    }\n  };\n\n  const handleDelete = (id: string) => {\n    onDelete(id);\n  };\n\n  const downloadFile = (fileUrl: string) => {\n    if (fileUrl) {\n      window.open(fileUrl, '_blank');\n    }\n  };\n\n  return (\n    <B3Spin isSpinning={loading}>\n      <Box\n        sx={{\n          padding: '12px 0 0',\n          width: '100%',\n        }}\n      >\n        <Box>\n          {fileList.map((file, index) => (\n            <Box key={file.id || index}>\n              <FileListItem hasdelete={(file?.hasDelete || '').toString()}>\n                <Box className=\"fileList-name-area\">\n                  <AttachFile />\n                  <Typography\n                    className=\"fileList-name\"\n                    onClick={() => {\n                      downloadFile(file.fileUrl);\n                    }}\n                  >\n                    {file.fileName}\n                  </Typography>\n                </Box>\n                {file.hasDelete && (\n                  <DeleteIcon\n                    sx={{\n                      cursor: 'pointer',\n                    }}\n                    onClick={() => {\n                      handleDelete(file?.id || '');\n                    }}\n                  />\n                )}\n              </FileListItem>\n              <FileUserTitle>{file.title || ''}</FileUserTitle>\n            </Box>\n          ))}\n        </Box>\n        {allowUpload && (\n          <Box\n            sx={{\n              display: 'flex',\n              justifyContent: 'space-between',\n              marginTop: '10px',\n            }}\n          >\n            <FileUploadContainer\n              style={{\n                color: primaryColor,\n              }}\n            >\n              <DropzoneArea\n                dropzoneClass=\"file-upload-area\"\n                Icon={AttachFile}\n                filesLimit={1}\n                onChange={handleChange}\n                showPreviews={false}\n                showPreviewsInDropzone={false}\n                maxFileSize={maxFileSize}\n                showAlerts={false}\n                dropzoneText={title}\n                getDropRejectMessage={getRejectMessage}\n                getFileLimitExceedMessage={getFileLimitExceedMessage}\n                acceptedFiles={acceptedFiles}\n              />\n            </FileUploadContainer>\n\n            <Tooltip\n              title={tips}\n              sx={{\n                fontSize: '20px',\n                color: 'rgba(0, 0, 0, 0.54)',\n              }}\n            >\n              <HelpIcon />\n            </Tooltip>\n          </Box>\n        )}\n      </Box>\n    </B3Spin>\n  );\n}\n\nexport default forwardRef(FileUpload);\n","import { useEffect, useRef, useState } from 'react';\nimport { useB3Lang } from '@b3/lang';\nimport { Box, Card, CardContent } from '@mui/material';\n\nimport { B3CollapseContainer } from '@/components';\nimport { useRole } from '@/hooks';\nimport { quoteDetailAttachFileCreate, quoteDetailAttachFileDelete } from '@/shared/service/b2b';\nimport { setDraftQuoteInfo, useAppDispatch, useAppSelector } from '@/store';\nimport { snackbar } from '@/utils';\n\nimport FileUpload, { FileObjects } from './FileUpload';\n\ninterface UpLoaddingProps extends HTMLInputElement {\n  setUploadLoadding: (flag: boolean) => void;\n}\n\ninterface QuoteAttachmentProps {\n  allowUpload?: boolean;\n  defaultFileList?: FileObjects[];\n  status?: number;\n  quoteId?: number;\n}\n\nexport default function QuoteAttachment(props: QuoteAttachmentProps) {\n  const { allowUpload = true, defaultFileList = [], status, quoteId } = props;\n  const b3Lang = useB3Lang();\n  const dispatch = useAppDispatch();\n\n  const firstName = useAppSelector(({ company }) => company.customer.firstName);\n  const lastName = useAppSelector(({ company }) => company.customer.lastName);\n  const draftQuoteInfo = useAppSelector(({ quoteInfo }) => quoteInfo.draftQuoteInfo);\n\n  const [roleText] = useRole();\n\n  const [fileList, setFileList] = useState<FileObjects[]>([]);\n\n  const uploadRef = useRef<UpLoaddingProps | null>(null);\n\n  useEffect(() => {\n    if (status === 0) {\n      const { fileInfo = [] }: CustomFieldItems = draftQuoteInfo || {};\n\n      setFileList(typeof fileInfo !== 'object' ? [] : fileInfo);\n    } else if (defaultFileList.length) {\n      setFileList(defaultFileList);\n    }\n    // disabling as it throws render errors\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [defaultFileList.length, status]);\n\n  const saveQuoteInfo = (newFileInfo: FileObjects[]) => {\n    if (draftQuoteInfo) {\n      const newQuoteInfo = {\n        ...draftQuoteInfo,\n        fileInfo: newFileInfo,\n      };\n      dispatch(setDraftQuoteInfo(newQuoteInfo));\n    }\n  };\n\n  const handleChange = async (file: FileObjects) => {\n    try {\n      let newFileList: FileObjects[] = [];\n      if (status !== 0) {\n        const createFile: FileObjects = {\n          fileName: file.fileName,\n          fileType: file.fileType,\n          fileUrl: file.fileUrl,\n          fileSize: file.fileSize,\n        };\n        const {\n          quoteAttachFileCreate: { attachFiles },\n        } = await quoteDetailAttachFileCreate({\n          fileList: [\n            {\n              ...createFile,\n            },\n          ],\n          quoteId,\n        });\n\n        createFile.id = attachFiles[0].id;\n        newFileList = [\n          {\n            ...createFile,\n            title: b3Lang('global.quoteAttachment.uploadedByCustomer', {\n              createdBy: attachFiles[0].createdBy,\n            }),\n            hasDelete: true,\n          },\n          ...fileList,\n        ];\n      } else {\n        newFileList = [\n          {\n            ...file,\n            title: b3Lang('global.quoteAttachment.uploadedByCustomerWithName', {\n              firstName,\n              lastName,\n            }),\n            hasDelete: true,\n          },\n          ...fileList,\n        ];\n\n        saveQuoteInfo(newFileList);\n      }\n      setFileList(newFileList);\n    } finally {\n      uploadRef.current?.setUploadLoadding(false);\n    }\n  };\n\n  const handleDelete = async (id: string) => {\n    try {\n      uploadRef.current?.setUploadLoadding(true);\n      const deleteFile = fileList.find((file) => file.id === id);\n      const newFileList = fileList.filter((file) => file.id !== id);\n      if (status !== 0 && deleteFile) {\n        await quoteDetailAttachFileDelete({\n          fileId: deleteFile?.id || '',\n          quoteId,\n        });\n      } else {\n        saveQuoteInfo(newFileList);\n      }\n      setFileList(newFileList);\n    } finally {\n      uploadRef.current?.setUploadLoadding(false);\n    }\n  };\n\n  const limitUploadFn = () => {\n    const customerFiles = fileList.filter(\n      (file: FileObjects) => file?.title && file.title.includes('by customer'),\n    );\n    if (customerFiles.length >= 3) {\n      snackbar.error(b3Lang('global.quoteAttachment.maxFilesMessage'));\n      return true;\n    }\n    return false;\n  };\n\n  return (\n    <Card>\n      <CardContent\n        sx={{\n          p: '16px !important',\n        }}\n      >\n        <B3CollapseContainer title={b3Lang('global.quoteAttachment.title')}>\n          <Box>\n            <FileUpload\n              ref={uploadRef}\n              requestType={roleText !== 'b2b' ? 'customerQuoteAttachedFile' : 'quoteAttachedFile'}\n              isEndLoadding\n              fileList={fileList}\n              limitUploadFn={limitUploadFn}\n              onchange={handleChange}\n              onDelete={handleDelete}\n              allowUpload={allowUpload}\n            />\n          </Box>\n        </B3CollapseContainer>\n      </CardContent>\n    </Card>\n  );\n}\n","import styled from '@emotion/styled';\n\ninterface ContainerProps {\n  padding?: string;\n  flexBasis?: string;\n  alignItems?: string;\n  backgroundColor?: string;\n  width?: string;\n  xs?: {\n    [key: string]: string | number;\n  };\n  flexDirection?:\n    | 'column'\n    | 'inherit'\n    | '-moz-initial'\n    | 'initial'\n    | 'revert'\n    | 'unset'\n    | 'column-reverse'\n    | 'row'\n    | 'row-reverse';\n}\n\nconst Container = styled('div')(\n  ({\n    padding = '1rem',\n    alignItems = 'flex-start',\n    flexDirection = 'row',\n    backgroundColor = 'white',\n    width = '100%',\n    xs,\n  }: ContainerProps) => ({\n    display: 'flex',\n    flexDirection,\n    alignItems,\n    padding,\n    width,\n    backgroundColor,\n    ...xs,\n  }),\n);\n\nexport default Container;\n","import { useB3Lang } from '@b3/lang';\nimport { Box, Typography } from '@mui/material';\n\nimport { QuoteInfoAndExtrafieldsItemProps } from '@/types/quotes';\n\nimport { Base64 } from '../../../utils/b3Product/shared/config';\n\ninterface QuoteInfoAndExtrafieldsProps {\n  quoteInfo: QuoteInfoAndExtrafieldsItemProps;\n  status?: string;\n}\n\nfunction QuoteInfoAndExtrafieldsItem({ status, quoteInfo }: QuoteInfoAndExtrafieldsProps) {\n  const b3Lang = useB3Lang();\n\n  const {\n    info: { quoteTitle, referenceNumber },\n    extraFields = [],\n    recipients,\n  } = quoteInfo;\n\n  return (\n    <Box\n      sx={{\n        width: '100%',\n      }}\n    >\n      <Typography\n        sx={{\n          fontWeight: 400,\n          fontSize: '24px',\n          height: '32px',\n        }}\n      >\n        {b3Lang('quoteDraft.quoteInfo.title')}\n      </Typography>\n      <Box\n        sx={{\n          p: '15px 0',\n        }}\n      >\n        {(quoteTitle || status === 'Draft') && (\n          <Typography>{`${b3Lang('quoteDraft.quoteInfo.titleText')} ${quoteTitle}`}</Typography>\n        )}\n        {(referenceNumber || status === 'Draft') && (\n          <Typography>{`${b3Lang(\n            'quoteDraft.quoteInfo.referenceText',\n          )} ${referenceNumber}`}</Typography>\n        )}\n\n        {status === 'Draft' && !recipients.length ? (\n          <Typography>{b3Lang('quoteDraft.quoteInfo.ccEmailText')}</Typography>\n        ) : (\n          recipients.map((ccEmail) => (\n            <Typography\n              key={`ccEmail-${Base64.encode(ccEmail)}`}\n              sx={{ wordBreak: 'break-all' }}\n            >{`${b3Lang('quoteDraft.quoteInfo.ccEmailText')} ${ccEmail}`}</Typography>\n          ))\n        )}\n\n        {extraFields.map(\n          (field) =>\n            (field.value || status === 'Draft') && (\n              <Typography\n                key={`extraField-${field.fieldName}`}\n              >{`${field.fieldName}: ${field.value}`}</Typography>\n            ),\n        )}\n      </Box>\n    </Box>\n  );\n}\n\nexport default QuoteInfoAndExtrafieldsItem;\n","import { useB3Lang } from '@b3/lang';\nimport { Box, Typography } from '@mui/material';\n\nimport CustomButton from '@/components/button/CustomButton';\nimport { useMobile } from '@/hooks';\nimport {\n  BillingAddress,\n  ContactInfo,\n  QuoteInfoAndExtrafieldsItemProps,\n  ShippingAddress,\n} from '@/types/quotes';\n\nimport Container from '../style';\n\nimport QuoteInfoAndExtrafieldsItem from './QuoteInfoAndExtrafieldsItem';\n\ninterface QuoteInfoItemType {\n  [key: string]: string;\n}\ninterface InfoProps {\n  contactInfo: ContactInfo;\n  quoteAndExtraFieldsInfo: QuoteInfoAndExtrafieldsItemProps;\n  shippingAddress: ShippingAddress;\n  billingAddress: BillingAddress;\n  handleEditInfoClick?: () => void;\n  status?: string;\n}\n\ntype Keys = string | string[];\n\nconst contactInfoKeys: string[] = ['name', 'email', 'companyName', 'phoneNumber'];\n\nconst addressVerifyKeys: string[] = [\n  'label',\n  'firstName',\n  'lastName',\n  'company',\n  'address',\n  'apartment',\n  'city',\n  'state',\n  'zipCode',\n  'country',\n  'phoneNumber',\n];\n\nconst addressKeys: Keys[] = [\n  'label',\n  ['firstName', 'lastName'],\n  'company',\n  'address',\n  'apartment',\n  ['city', 'state', 'zipCode', 'country'],\n  'phoneNumber',\n];\n\ninterface QuoteInfoItemProps {\n  flag?: string;\n  title: string;\n  info: QuoteInfoItemType;\n  status?: string;\n}\n\nfunction QuoteInfoItem({ flag, title, info, status }: QuoteInfoItemProps) {\n  const keyTable = flag === 'info' ? contactInfoKeys : addressKeys;\n  const [isMobile] = useMobile();\n  const b3Lang = useB3Lang();\n\n  const noAddressText =\n    status === 'Draft'\n      ? `Please add ${flag === 'Billing' ? 'billing' : 'shipping'} address `\n      : `No ${flag === 'Billing' ? 'billing' : 'shipping'} address`;\n\n  const isComplete =\n    flag !== 'info' ? addressVerifyKeys.some((item: string) => info && !!info[item]) : false;\n\n  const infoPaddingLeft = flag === 'info' || isMobile ? 0 : '10px';\n  return (\n    <Box\n      sx={{\n        width: isMobile || flag === 'info' ? '100%' : '33.3%',\n        paddingLeft: infoPaddingLeft,\n      }}\n    >\n      <Typography\n        sx={{\n          fontWeight: 400,\n          fontSize: '24px',\n          height: '32px',\n        }}\n      >\n        {title}\n      </Typography>\n      <Box\n        sx={{\n          p: '15px 0',\n        }}\n      >\n        {(isComplete || flag === 'info') &&\n          JSON.stringify(info) !== '{}' &&\n          keyTable.map((list: Keys) => {\n            if (list === 'quoteTitle') {\n              return status === 'Draft' ? (\n                <Typography\n                  sx={{\n                    wordBreak: 'break-all',\n                  }}\n                  key={list}\n                  variant=\"body1\"\n                >\n                  {`${b3Lang('quoteDraft.quoteInfo.quoteTitle')}${info[list] || ''}`}\n                </Typography>\n              ) : (\n                ''\n              );\n            }\n\n            if (typeof list === 'string') {\n              return (\n                <Typography key={list} variant=\"body1\">\n                  {(info && info[list]) || ''}\n                </Typography>\n              );\n            }\n\n            return (\n              <Typography key={`${list}`} variant=\"body1\">\n                {list.map((item: string, index: number) => {\n                  if (index === list.length - 1) {\n                    return info[item] || '';\n                  }\n                  if (item === 'firstName') return `${info[item] || ''} `;\n                  return info[item] ? `${info[item] || ''}, ` : '';\n                })}\n              </Typography>\n            );\n          })}\n\n        {!isComplete && flag !== 'info' && <Box>{noAddressText}</Box>}\n      </Box>\n    </Box>\n  );\n}\n\nfunction QuoteInfo({\n  quoteAndExtraFieldsInfo,\n  contactInfo,\n  shippingAddress,\n  billingAddress,\n  handleEditInfoClick,\n  status,\n}: InfoProps) {\n  const b3Lang = useB3Lang();\n  const [isMobile] = useMobile();\n\n  return (\n    <Container\n      flexDirection=\"column\"\n      xs={{\n        boxShadow:\n          '0px 2px 1px -1px rgba(0, 0, 0, 0.2), 0px 1px 1px rgba(0, 0, 0, 0.14), 0px 1px 3px rgba(0, 0, 0, 0.12)',\n        borderRadius: '4px',\n      }}\n    >\n      <Box\n        sx={{\n          width: '100%',\n          display: 'flex',\n          justifyContent: 'space-between',\n          flexDirection: isMobile ? 'column' : 'row',\n        }}\n      >\n        <Box\n          sx={{\n            width: isMobile ? '100%' : '33.3%',\n          }}\n        >\n          <QuoteInfoItem\n            title={b3Lang('quoteDraft.contactInfo.contact')}\n            flag=\"info\"\n            status={status}\n            info={contactInfo as unknown as QuoteInfoItemType}\n          />\n          <QuoteInfoAndExtrafieldsItem status={status} quoteInfo={quoteAndExtraFieldsInfo} />\n        </Box>\n\n        <QuoteInfoItem\n          title={b3Lang('global.quoteInfo.billing')}\n          flag=\"Billing\"\n          status={status}\n          info={billingAddress as unknown as QuoteInfoItemType}\n        />\n\n        <QuoteInfoItem\n          title={b3Lang('global.quoteInfo.shipping')}\n          flag=\"Shipping\"\n          status={status}\n          info={shippingAddress as unknown as QuoteInfoItemType}\n        />\n      </Box>\n      {handleEditInfoClick && (\n        <CustomButton\n          sx={{\n            mt: '10px',\n            mb: '15px',\n          }}\n          onClick={handleEditInfoClick}\n          variant=\"outlined\"\n        >\n          {b3Lang('global.quoteInfo.editInfo')}\n        </CustomButton>\n      )}\n    </Container>\n  );\n}\n\nexport default QuoteInfo;\n","import { ChangeEvent, useEffect, useState } from 'react';\nimport { useB3Lang } from '@b3/lang';\nimport { Box, Card, CardContent, TextField, Typography } from '@mui/material';\n\nimport { B3CollapseContainer } from '@/components';\nimport {\n  isB2BUserSelector,\n  rolePermissionSelector,\n  setDraftQuoteInfoNote,\n  store,\n  useAppSelector,\n} from '@/store';\n\ninterface QuoteNoteProps {\n  quoteStatus?: string | number;\n  quoteNotes?: string;\n}\n\nexport default function QuoteNote(props: QuoteNoteProps) {\n  const b3Lang = useB3Lang();\n  const { quoteStatus, quoteNotes = '' } = props;\n\n  const [noteText, setNoteText] = useState('');\n  const [defaultOpen, setDefaultOpen] = useState(false);\n\n  const isB2BUser = useAppSelector(isB2BUserSelector);\n  const b2bPermissions = useAppSelector(rolePermissionSelector);\n\n  const quotesActionsPermission = isB2BUser ? b2bPermissions.quotesCreateActionsPermission : true;\n\n  const handleNoteTextChange = (event: ChangeEvent<HTMLInputElement>) => {\n    setNoteText(event?.target.value || '');\n    store.dispatch(setDraftQuoteInfoNote(event?.target.value || ''));\n  };\n\n  useEffect(() => {\n    const note = store.getState().quoteInfo.draftQuoteInfo.note || '';\n\n    setNoteText(note);\n  }, []);\n\n  useEffect(() => {\n    store.dispatch(setDraftQuoteInfoNote(noteText || ''));\n  }, [noteText]);\n\n  useEffect(() => {\n    if (quoteNotes) setDefaultOpen(true);\n  }, [quoteNotes]);\n\n  return (\n    <Card>\n      <CardContent\n        sx={{\n          p: '16px !important',\n        }}\n      >\n        <B3CollapseContainer\n          title={\n            quoteStatus && quoteStatus === 'Draft'\n              ? b3Lang('global.quoteNote.message')\n              : b3Lang('global.quoteNote.notes')\n          }\n          defaultOpen={defaultOpen}\n        >\n          <Box\n            sx={{\n              padding: '16px 0',\n            }}\n          >\n            {quoteStatus && quoteStatus === 'Draft' && (\n              <Box\n                sx={{\n                  fontSize: '16px',\n                  color: 'rgba(0, 0, 0, 0.38)',\n                  mb: '16px',\n                }}\n              >\n                {b3Lang('global.quoteNote.messageNote')}\n              </Box>\n            )}\n            {quoteNotes ? (\n              <Typography\n                variant=\"body1\"\n                style={{\n                  whiteSpace: 'pre-line',\n                  maxHeight: '400px',\n                  overflow: 'auto',\n                }}\n              >\n                {quoteNotes}\n              </Typography>\n            ) : (\n              <Box>\n                {quotesActionsPermission ? (\n                  <TextField\n                    multiline\n                    fullWidth\n                    rows={5}\n                    value={noteText}\n                    onChange={handleNoteTextChange}\n                    label={b3Lang('global.quoteNote.typeMessage')}\n                    size=\"small\"\n                    variant=\"filled\"\n                    sx={{\n                      '& .MuiFormLabel-root': {\n                        color: 'rgba(0, 0, 0, 0.38)',\n                      },\n                    }}\n                  />\n                ) : null}\n              </Box>\n            )}\n          </Box>\n        </B3CollapseContainer>\n      </CardContent>\n    </Card>\n  );\n}\n","import { getQuoteExtraFieldsConfig } from '@/shared/service/b2b';\nimport { QuoteExtraFieldsOrigin, QuoteFormattedItemsProps } from '@/types/quotes';\nimport b2bLogger from '@/utils/b3Logger';\n\nconst handleConversionExtraItemFormat = (quoteExtraFields: QuoteExtraFieldsOrigin[]) => {\n  const formattedQuoteExtraFields = quoteExtraFields.map((item) => {\n    const { listOfValue } = item;\n\n    const currentItems: QuoteFormattedItemsProps = {\n      isExtraFields: true,\n      name: item.fieldName || '',\n      label: item.labelName || '',\n      required: item.isRequired,\n      default: item.defaultValue || '',\n      fieldType: item.fieldCategory || '',\n      xs: 6,\n      variant: 'filled',\n      size: 'small',\n      id: item.id,\n    };\n\n    switch (item.fieldCategory) {\n      case 'dropdown':\n        if (listOfValue) {\n          const options = listOfValue?.map((option) => ({\n            label: option,\n            value: option,\n          }));\n\n          if (options.length > 0) {\n            currentItems.options = options;\n          }\n        }\n\n        break;\n      case 'number':\n        currentItems.max = item.maximumValue || '';\n        break;\n      case 'multiline':\n        currentItems.rows = item.numberOfRows || '';\n        break;\n      default:\n        currentItems.maxLength = item.maximumLength || '';\n        break;\n    }\n\n    return currentItems;\n  });\n\n  return formattedQuoteExtraFields;\n};\n\nconst getB2BQuoteExtraFields = async () => {\n  let quoteExtraFieldsList: QuoteFormattedItemsProps[] = [];\n  try {\n    const { quoteExtraFieldsConfig } = await getQuoteExtraFieldsConfig();\n\n    const visibleFields = quoteExtraFieldsConfig.filter((item) => item.visibleToEnduser);\n\n    const formattedQuoteExtraFields = handleConversionExtraItemFormat(visibleFields);\n\n    quoteExtraFieldsList = formattedQuoteExtraFields;\n  } catch (err) {\n    b2bLogger.error(err);\n  }\n\n  return quoteExtraFieldsList;\n};\n\nexport default getB2BQuoteExtraFields;\n"],"names":["_interopRequireDefault","require$$0","ExpandLess","default_1","_createSvgIcon","require$$1","_jsxRuntime","require$$2","ExpandMore","B3CollapseContainer","props","children","title","header","defaultOpen","handleOnChange","open","setOpen","useState","handleClick","useEffect","Box","jsxs","jsx","Typography","Collapse","Help","FileUploadContainer","styled","style","FileListItem","FileUserTitle","AttachFile","AttachFileIcon","FileUpload","ref","b3Lang","useB3Lang","tips","maxFileSize","fileNumber","limitUploadFn","acceptedFiles","FILE_UPLOAD_ACCEPT_TYPE","onchange","noop","fileList","allowUpload","onDelete","isEndLoadding","requestType","primaryColor","useTheme","loading","setLoading","useImperativeHandle","flag","getMaxFileSizeLabel","maxSize","getRejectMessage","rejectedFile","size","type","isAcceptFileType","acceptedFileType","message","snackbar","getFileLimitExceedMessage","handleChange","files","file","code","fileInfo","uploadB2BFile","uuid","handleDelete","id","downloadFile","fileUrl","B3Spin","index","DeleteIcon","DropzoneArea","Tooltip","HelpIcon","forwardRef","QuoteAttachment","defaultFileList","status","quoteId","dispatch","useAppDispatch","firstName","useAppSelector","company","lastName","draftQuoteInfo","quoteInfo","roleText","useRole","setFileList","uploadRef","useRef","saveQuoteInfo","newFileInfo","newQuoteInfo","setDraftQuoteInfo","newFileList","createFile","attachFiles","quoteDetailAttachFileCreate","_a","deleteFile","quoteDetailAttachFileDelete","_b","Card","CardContent","Container","padding","alignItems","flexDirection","backgroundColor","width","xs","QuoteInfoAndExtrafieldsItem","quoteTitle","referenceNumber","extraFields","recipients","ccEmail","Base64","field","contactInfoKeys","addressVerifyKeys","addressKeys","QuoteInfoItem","info","keyTable","isMobile","useMobile","noAddressText","isComplete","item","infoPaddingLeft","list","QuoteInfo","quoteAndExtraFieldsInfo","contactInfo","shippingAddress","billingAddress","handleEditInfoClick","CustomButton","QuoteNote","quoteStatus","quoteNotes","noteText","setNoteText","setDefaultOpen","isB2BUser","isB2BUserSelector","b2bPermissions","rolePermissionSelector","quotesActionsPermission","handleNoteTextChange","event","store","setDraftQuoteInfoNote","note","TextField","handleConversionExtraItemFormat","quoteExtraFields","listOfValue","currentItems","options","option","getB2BQuoteExtraFields","quoteExtraFieldsList","quoteExtraFieldsConfig","getQuoteExtraFieldsConfig","visibleFields","err","b2bLogger"],"mappings":"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","x_google_ignoreList":[0,1,3]}