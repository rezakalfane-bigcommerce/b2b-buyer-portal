{"version":3,"file":"getQuoteExtraFields-legacy-CzyVHWfV.js","sources":["../../src/pages/quote/components/QuoteInfo.tsx","../../src/pages/quote/components/QuoteNote.tsx","../../src/pages/quote/components/QuoteAttachment.tsx","../../../../node_modules/@mui/icons-material/ExpandLess.js","../../../../node_modules/@mui/icons-material/ExpandMore.js","../../src/components/B3CollapseContainer.tsx","../../../../node_modules/@mui/icons-material/Help.js","../../src/pages/quote/components/FileUpload.tsx","../../src/pages/quote/style.ts","../../src/pages/quote/components/QuoteInfoAndExtrafieldsItem.tsx","../../src/pages/quote/utils/getQuoteExtraFields.ts"],"sourcesContent":["import { useB3Lang } from '@b3/lang';\nimport { Box, Typography } from '@mui/material';\n\nimport CustomButton from '@/components/button/CustomButton';\nimport { useMobile } from '@/hooks';\nimport {\n  BillingAddress,\n  ContactInfo,\n  QuoteInfoAndExtrafieldsItemProps,\n  ShippingAddress,\n} from '@/types/quotes';\n\nimport Container from '../style';\n\nimport QuoteInfoAndExtrafieldsItem from './QuoteInfoAndExtrafieldsItem';\n\ninterface QuoteInfoItemType {\n  [key: string]: string;\n}\ninterface InfoProps {\n  contactInfo: ContactInfo;\n  quoteAndExtraFieldsInfo: QuoteInfoAndExtrafieldsItemProps;\n  shippingAddress: ShippingAddress;\n  billingAddress: BillingAddress;\n  handleEditInfoClick?: () => void;\n  status?: string;\n}\n\ntype Keys = string | string[];\n\nconst contactInfoKeys: string[] = ['name', 'email', 'companyName', 'phoneNumber'];\n\nconst addressVerifyKeys: string[] = [\n  'label',\n  'firstName',\n  'lastName',\n  'company',\n  'address',\n  'apartment',\n  'city',\n  'state',\n  'zipCode',\n  'country',\n  'phoneNumber',\n];\n\nconst addressKeys: Keys[] = [\n  'label',\n  ['firstName', 'lastName'],\n  'company',\n  'address',\n  'apartment',\n  ['city', 'state', 'zipCode', 'country'],\n  'phoneNumber',\n];\n\ninterface QuoteInfoItemProps {\n  flag?: string;\n  title: string;\n  info: QuoteInfoItemType;\n  status?: string;\n}\n\nfunction QuoteInfoItem({ flag, title, info, status }: QuoteInfoItemProps) {\n  const keyTable = flag === 'info' ? contactInfoKeys : addressKeys;\n  const [isMobile] = useMobile();\n  const b3Lang = useB3Lang();\n\n  const noAddressText =\n    status === 'Draft'\n      ? `Please add ${flag === 'Billing' ? 'billing' : 'shipping'} address `\n      : `No ${flag === 'Billing' ? 'billing' : 'shipping'} address`;\n\n  const isComplete =\n    flag !== 'info' ? addressVerifyKeys.some((item: string) => info && !!info[item]) : false;\n\n  const infoPaddingLeft = flag === 'info' || isMobile ? 0 : '10px';\n  return (\n    <Box\n      sx={{\n        width: isMobile || flag === 'info' ? '100%' : '33.3%',\n        paddingLeft: infoPaddingLeft,\n      }}\n    >\n      <Typography\n        sx={{\n          fontWeight: 400,\n          fontSize: '24px',\n          height: '32px',\n        }}\n      >\n        {title}\n      </Typography>\n      <Box\n        sx={{\n          p: '15px 0',\n        }}\n      >\n        {(isComplete || flag === 'info') &&\n          JSON.stringify(info) !== '{}' &&\n          keyTable.map((list: Keys) => {\n            if (list === 'quoteTitle') {\n              return status === 'Draft' ? (\n                <Typography\n                  sx={{\n                    wordBreak: 'break-all',\n                  }}\n                  key={list}\n                  variant=\"body1\"\n                >\n                  {`${b3Lang('quoteDraft.quoteInfo.quoteTitle')}${info[list] || ''}`}\n                </Typography>\n              ) : (\n                ''\n              );\n            }\n\n            if (typeof list === 'string') {\n              return (\n                <Typography key={list} variant=\"body1\">\n                  {(info && info[list]) || ''}\n                </Typography>\n              );\n            }\n\n            return (\n              <Typography key={`${list}`} variant=\"body1\">\n                {list.map((item: string, index: number) => {\n                  if (index === list.length - 1) {\n                    return info[item] || '';\n                  }\n                  if (item === 'firstName') return `${info[item] || ''} `;\n                  return info[item] ? `${info[item] || ''}, ` : '';\n                })}\n              </Typography>\n            );\n          })}\n\n        {!isComplete && flag !== 'info' && <Box>{noAddressText}</Box>}\n      </Box>\n    </Box>\n  );\n}\n\nfunction QuoteInfo({\n  quoteAndExtraFieldsInfo,\n  contactInfo,\n  shippingAddress,\n  billingAddress,\n  handleEditInfoClick,\n  status,\n}: InfoProps) {\n  const b3Lang = useB3Lang();\n  const [isMobile] = useMobile();\n\n  return (\n    <Container\n      flexDirection=\"column\"\n      xs={{\n        boxShadow:\n          '0px 2px 1px -1px rgba(0, 0, 0, 0.2), 0px 1px 1px rgba(0, 0, 0, 0.14), 0px 1px 3px rgba(0, 0, 0, 0.12)',\n        borderRadius: '4px',\n      }}\n    >\n      <Box\n        sx={{\n          width: '100%',\n          display: 'flex',\n          justifyContent: 'space-between',\n          flexDirection: isMobile ? 'column' : 'row',\n        }}\n      >\n        <Box\n          sx={{\n            width: isMobile ? '100%' : '33.3%',\n          }}\n        >\n          <QuoteInfoItem\n            title={b3Lang('quoteDraft.contactInfo.contact')}\n            flag=\"info\"\n            status={status}\n            info={contactInfo as unknown as QuoteInfoItemType}\n          />\n          <QuoteInfoAndExtrafieldsItem status={status} quoteInfo={quoteAndExtraFieldsInfo} />\n        </Box>\n\n        <QuoteInfoItem\n          title={b3Lang('global.quoteInfo.billing')}\n          flag=\"Billing\"\n          status={status}\n          info={billingAddress as unknown as QuoteInfoItemType}\n        />\n\n        <QuoteInfoItem\n          title={b3Lang('global.quoteInfo.shipping')}\n          flag=\"Shipping\"\n          status={status}\n          info={shippingAddress as unknown as QuoteInfoItemType}\n        />\n      </Box>\n      {handleEditInfoClick && (\n        <CustomButton\n          sx={{\n            mt: '10px',\n            mb: '15px',\n          }}\n          onClick={handleEditInfoClick}\n          variant=\"outlined\"\n        >\n          {b3Lang('global.quoteInfo.editInfo')}\n        </CustomButton>\n      )}\n    </Container>\n  );\n}\n\nexport default QuoteInfo;\n","import { ChangeEvent, useEffect, useState } from 'react';\nimport { useB3Lang } from '@b3/lang';\nimport { Box, Card, CardContent, TextField, Typography } from '@mui/material';\n\nimport { B3CollapseContainer } from '@/components';\nimport {\n  isB2BUserSelector,\n  rolePermissionSelector,\n  setDraftQuoteInfoNote,\n  store,\n  useAppSelector,\n} from '@/store';\n\ninterface QuoteNoteProps {\n  quoteStatus?: string | number;\n  quoteNotes?: string;\n}\n\nexport default function QuoteNote(props: QuoteNoteProps) {\n  const b3Lang = useB3Lang();\n  const { quoteStatus, quoteNotes = '' } = props;\n\n  const [noteText, setNoteText] = useState('');\n  const [defaultOpen, setDefaultOpen] = useState(false);\n\n  const isB2BUser = useAppSelector(isB2BUserSelector);\n  const b2bPermissions = useAppSelector(rolePermissionSelector);\n\n  const quotesActionsPermission = isB2BUser ? b2bPermissions.quotesCreateActionsPermission : true;\n\n  const handleNoteTextChange = (event: ChangeEvent<HTMLInputElement>) => {\n    setNoteText(event?.target.value || '');\n    store.dispatch(setDraftQuoteInfoNote(event?.target.value || ''));\n  };\n\n  useEffect(() => {\n    const note = store.getState().quoteInfo.draftQuoteInfo.note || '';\n\n    setNoteText(note);\n  }, []);\n\n  useEffect(() => {\n    store.dispatch(setDraftQuoteInfoNote(noteText || ''));\n  }, [noteText]);\n\n  useEffect(() => {\n    if (quoteNotes) setDefaultOpen(true);\n  }, [quoteNotes]);\n\n  return (\n    <Card>\n      <CardContent\n        sx={{\n          p: '16px !important',\n        }}\n      >\n        <B3CollapseContainer\n          title={\n            quoteStatus && quoteStatus === 'Draft'\n              ? b3Lang('global.quoteNote.message')\n              : b3Lang('global.quoteNote.notes')\n          }\n          defaultOpen={defaultOpen}\n        >\n          <Box\n            sx={{\n              padding: '16px 0',\n            }}\n          >\n            {quoteStatus && quoteStatus === 'Draft' && (\n              <Box\n                sx={{\n                  fontSize: '16px',\n                  color: 'rgba(0, 0, 0, 0.38)',\n                  mb: '16px',\n                }}\n              >\n                {b3Lang('global.quoteNote.messageNote')}\n              </Box>\n            )}\n            {quoteNotes ? (\n              <Typography\n                variant=\"body1\"\n                style={{\n                  whiteSpace: 'pre-line',\n                  maxHeight: '400px',\n                  overflow: 'auto',\n                }}\n              >\n                {quoteNotes}\n              </Typography>\n            ) : (\n              <Box>\n                {quotesActionsPermission ? (\n                  <TextField\n                    multiline\n                    fullWidth\n                    rows={5}\n                    value={noteText}\n                    onChange={handleNoteTextChange}\n                    label={b3Lang('global.quoteNote.typeMessage')}\n                    size=\"small\"\n                    variant=\"filled\"\n                    sx={{\n                      '& .MuiFormLabel-root': {\n                        color: 'rgba(0, 0, 0, 0.38)',\n                      },\n                    }}\n                  />\n                ) : null}\n              </Box>\n            )}\n          </Box>\n        </B3CollapseContainer>\n      </CardContent>\n    </Card>\n  );\n}\n","import { useEffect, useRef, useState } from 'react';\nimport { useB3Lang } from '@b3/lang';\nimport { Box, Card, CardContent } from '@mui/material';\n\nimport { B3CollapseContainer } from '@/components';\nimport { useRole } from '@/hooks';\nimport { quoteDetailAttachFileCreate, quoteDetailAttachFileDelete } from '@/shared/service/b2b';\nimport { setDraftQuoteInfo, useAppDispatch, useAppSelector } from '@/store';\nimport { snackbar } from '@/utils';\n\nimport FileUpload, { FileObjects } from './FileUpload';\n\ninterface UpLoaddingProps extends HTMLInputElement {\n  setUploadLoadding: (flag: boolean) => void;\n}\n\ninterface QuoteAttachmentProps {\n  allowUpload?: boolean;\n  defaultFileList?: FileObjects[];\n  status?: number;\n  quoteId?: number;\n}\n\nexport default function QuoteAttachment(props: QuoteAttachmentProps) {\n  const { allowUpload = true, defaultFileList = [], status, quoteId } = props;\n  const b3Lang = useB3Lang();\n  const dispatch = useAppDispatch();\n\n  const firstName = useAppSelector(({ company }) => company.customer.firstName);\n  const lastName = useAppSelector(({ company }) => company.customer.lastName);\n  const draftQuoteInfo = useAppSelector(({ quoteInfo }) => quoteInfo.draftQuoteInfo);\n\n  const [roleText] = useRole();\n\n  const [fileList, setFileList] = useState<FileObjects[]>([]);\n\n  const uploadRef = useRef<UpLoaddingProps | null>(null);\n\n  useEffect(() => {\n    if (status === 0) {\n      const { fileInfo = [] }: CustomFieldItems = draftQuoteInfo || {};\n\n      setFileList(typeof fileInfo !== 'object' ? [] : fileInfo);\n    } else if (defaultFileList.length) {\n      setFileList(defaultFileList);\n    }\n    // disabling as it throws render errors\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [defaultFileList.length, status]);\n\n  const saveQuoteInfo = (newFileInfo: FileObjects[]) => {\n    if (draftQuoteInfo) {\n      const newQuoteInfo = {\n        ...draftQuoteInfo,\n        fileInfo: newFileInfo,\n      };\n      dispatch(setDraftQuoteInfo(newQuoteInfo));\n    }\n  };\n\n  const handleChange = async (file: FileObjects) => {\n    try {\n      let newFileList: FileObjects[] = [];\n      if (status !== 0) {\n        const createFile: FileObjects = {\n          fileName: file.fileName,\n          fileType: file.fileType,\n          fileUrl: file.fileUrl,\n          fileSize: file.fileSize,\n        };\n        const {\n          quoteAttachFileCreate: { attachFiles },\n        } = await quoteDetailAttachFileCreate({\n          fileList: [\n            {\n              ...createFile,\n            },\n          ],\n          quoteId,\n        });\n\n        createFile.id = attachFiles[0].id;\n        newFileList = [\n          {\n            ...createFile,\n            title: b3Lang('global.quoteAttachment.uploadedByCustomer', {\n              createdBy: attachFiles[0].createdBy,\n            }),\n            hasDelete: true,\n          },\n          ...fileList,\n        ];\n      } else {\n        newFileList = [\n          {\n            ...file,\n            title: b3Lang('global.quoteAttachment.uploadedByCustomerWithName', {\n              firstName,\n              lastName,\n            }),\n            hasDelete: true,\n          },\n          ...fileList,\n        ];\n\n        saveQuoteInfo(newFileList);\n      }\n      setFileList(newFileList);\n    } finally {\n      uploadRef.current?.setUploadLoadding(false);\n    }\n  };\n\n  const handleDelete = async (id: string) => {\n    try {\n      uploadRef.current?.setUploadLoadding(true);\n      const deleteFile = fileList.find((file) => file.id === id);\n      const newFileList = fileList.filter((file) => file.id !== id);\n      if (status !== 0 && deleteFile) {\n        await quoteDetailAttachFileDelete({\n          fileId: deleteFile?.id || '',\n          quoteId,\n        });\n      } else {\n        saveQuoteInfo(newFileList);\n      }\n      setFileList(newFileList);\n    } finally {\n      uploadRef.current?.setUploadLoadding(false);\n    }\n  };\n\n  const limitUploadFn = () => {\n    const customerFiles = fileList.filter(\n      (file: FileObjects) => file?.title && file.title.includes('by customer'),\n    );\n    if (customerFiles.length >= 3) {\n      snackbar.error(b3Lang('global.quoteAttachment.maxFilesMessage'));\n      return true;\n    }\n    return false;\n  };\n\n  return (\n    <Card>\n      <CardContent\n        sx={{\n          p: '16px !important',\n        }}\n      >\n        <B3CollapseContainer title={b3Lang('global.quoteAttachment.title')}>\n          <Box>\n            <FileUpload\n              ref={uploadRef}\n              requestType={roleText !== 'b2b' ? 'customerQuoteAttachedFile' : 'quoteAttachedFile'}\n              isEndLoadding\n              fileList={fileList}\n              limitUploadFn={limitUploadFn}\n              onchange={handleChange}\n              onDelete={handleDelete}\n              allowUpload={allowUpload}\n            />\n          </Box>\n        </B3CollapseContainer>\n      </CardContent>\n    </Card>\n  );\n}\n","\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = exports.default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z\"\n}), 'ExpandLess');","\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = exports.default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z\"\n}), 'ExpandMore');","import { ReactElement, ReactNode, useEffect, useState } from 'react';\nimport ExpandLess from '@mui/icons-material/ExpandLess';\nimport ExpandMore from '@mui/icons-material/ExpandMore';\nimport { Box, Collapse, Typography } from '@mui/material';\n\ninterface CollapseContainerProps {\n  title?: string | ReactElement;\n  header?: ReactNode;\n  defaultOpen?: boolean;\n  children: ReactNode;\n  handleOnChange?: (open: boolean) => void;\n}\n\nexport default function B3CollapseContainer(props: CollapseContainerProps) {\n  const { children, title = '', header, defaultOpen = false, handleOnChange } = props;\n\n  const [open, setOpen] = useState(defaultOpen);\n\n  const handleClick = () => {\n    setOpen(!open);\n  };\n  useEffect(() => {\n    if (handleOnChange) handleOnChange(open);\n  }, [handleOnChange, open]);\n\n  useEffect(() => {\n    if (defaultOpen) {\n      setOpen(defaultOpen);\n    }\n  }, [defaultOpen]);\n\n  return (\n    <Box>\n      <Box\n        onClick={handleClick}\n        sx={{\n          display: 'flex',\n          justifyContent: 'space-between',\n          cursor: 'pointer',\n          alignItems: 'center',\n        }}\n      >\n        {header || <Typography variant=\"h5\">{title}</Typography>}\n        {open ? <ExpandLess /> : <ExpandMore />}\n      </Box>\n      <Collapse in={open} timeout=\"auto\" unmountOnExit>\n        {children}\n      </Collapse>\n    </Box>\n  );\n}\n","\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = exports.default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 17h-2v-2h2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25\"\n}), 'Help');","import { forwardRef, Ref, useImperativeHandle, useState } from 'react';\nimport { DropzoneArea } from 'react-mui-dropzone';\nimport { useB3Lang } from '@b3/lang';\nimport styled from '@emotion/styled';\nimport AttachFileIcon from '@mui/icons-material/AttachFile';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport HelpIcon from '@mui/icons-material/Help';\nimport { Box, Tooltip, Typography, useTheme } from '@mui/material';\nimport noop from 'lodash-es/noop';\nimport { v1 as uuid } from 'uuid';\n\nimport B3Spin from '@/components/spin/B3Spin';\nimport { uploadB2BFile } from '@/shared/service/b2b';\nimport { snackbar } from '@/utils';\n\nimport { FILE_UPLOAD_ACCEPT_TYPE } from '../../../constants';\n\nconst FileUploadContainer = styled(Box)(({ style }) => ({\n  '& .file-upload-area': {\n    cursor: 'pointer',\n    '& .MuiDropzoneArea-textContainer': {\n      display: 'flex',\n      alignItems: 'center',\n      color: style?.color || '#1976D2',\n    },\n    '& .MuiDropzoneArea-text': {\n      order: 1,\n      textTransform: 'uppercase',\n      fontWeight: 500,\n      fontSize: '14px',\n      lineHeight: '24px',\n    },\n  },\n}));\n\nconst FileListItem = styled(Box)((props: CustomFieldItems) => ({\n  display: 'flex',\n  background: props.hasdelete === 'true' ? 'rgba(25, 118, 210, 0.3)' : 'rgba(0, 0, 0, 0.12)',\n  borderRadius: '18px',\n  padding: '6px 8px',\n  alignItems: 'center',\n  margin: '0 0 2px',\n  color: 'rgba(0, 0, 0, 0.54)',\n  '& .fileList-name-area': {\n    display: 'flex',\n    flex: 1,\n    alignItems: 'center',\n  },\n  '& .fileList-name': {\n    whiteSpace: 'nowrap',\n    textOverflow: 'ellipsis',\n    overflow: 'hidden',\n    flexGrow: 1,\n    flexBasis: '100px',\n    maxWidth: '200px',\n    color: '#313440',\n    fontSize: '14px',\n    cursor: 'pointer',\n  },\n}));\n\nconst FileUserTitle = styled(Typography)({\n  marginBottom: '16px',\n  fontSize: '10px',\n  color: 'rgba(0, 0, 0, 0.38)',\n  padding: '0 12px',\n  textAlign: 'right',\n  wordBreak: 'break-word',\n});\n\nexport interface FileObjects {\n  id?: string;\n  fileName: string;\n  fileType: string;\n  fileUrl: string;\n  fileSize?: number;\n  title?: string;\n  hasDelete?: boolean;\n  isCustomer?: boolean;\n}\n\ninterface FileUploadProps {\n  title?: string;\n  tips?: string;\n  maxFileSize?: number;\n  fileNumber?: number;\n  acceptedFiles?: string[];\n  onchange?: (file: FileObjects) => void;\n  fileList: FileObjects[];\n  allowUpload?: boolean;\n  onDelete?: (id: string) => void;\n  limitUploadFn?: () => boolean;\n  isEndLoadding?: boolean;\n  requestType?: string;\n}\n\nconst AttachFile = styled(AttachFileIcon)(() => ({\n  transform: 'rotate(45deg)',\n  marginRight: '5px',\n}));\n\nfunction FileUpload(props: FileUploadProps, ref: Ref<unknown>) {\n  const b3Lang = useB3Lang();\n  const {\n    title = b3Lang('global.fileUpload.addAttachment'),\n    tips = b3Lang('global.fileUpload.maxFileSizeMessage'),\n    maxFileSize = 2097152, // 2MB\n    fileNumber = 3,\n    limitUploadFn,\n    acceptedFiles = FILE_UPLOAD_ACCEPT_TYPE,\n    onchange = noop,\n    fileList = [],\n    allowUpload = true,\n    onDelete = noop,\n    isEndLoadding = false,\n    requestType = 'quoteAttachedFile',\n  } = props;\n\n  const theme = useTheme();\n\n  const primaryColor = theme.palette.primary.main;\n\n  const [loading, setLoading] = useState<boolean>(false);\n\n  useImperativeHandle(ref, () => ({\n    setUploadLoadding: (flag: boolean) => setLoading(flag),\n  }));\n\n  const getMaxFileSizeLabel = (maxSize: number) => {\n    if (maxSize / 1048576 > 1) {\n      return `${(maxSize / 1048576).toFixed(1)}MB`;\n    }\n    if (maxSize / 1024 > 1) {\n      return `${(maxSize / 1024).toFixed(1)}KB`;\n    }\n    return `${maxSize}B`;\n  };\n\n  const getRejectMessage = (rejectedFile: File, acceptedFiles: string[], maxFileSize: number) => {\n    const { size, type } = rejectedFile;\n\n    let isAcceptFileType = false;\n    acceptedFiles.forEach((acceptedFileType: string) => {\n      isAcceptFileType = new RegExp(acceptedFileType).test(type) || isAcceptFileType;\n    });\n\n    let message = '';\n    if (!isAcceptFileType) {\n      message = b3Lang('global.fileUpload.fileTypeNotSupported');\n    }\n\n    if (size > maxFileSize) {\n      message = b3Lang('global.fileUpload.fileSizeExceedsLimit', {\n        maxFileSize: getMaxFileSizeLabel(maxFileSize),\n      });\n    }\n\n    if (message) {\n      snackbar.error(message);\n    }\n\n    return message;\n  };\n\n  const getFileLimitExceedMessage = () => {\n    snackbar.error(\n      b3Lang('global.fileUpload.fileSizeExceedsLimit', {\n        maxFileSize: getMaxFileSizeLabel(maxFileSize),\n      }),\n    );\n    return '';\n  };\n\n  const handleChange = async (files: File[]) => {\n    const file = files.length > 0 ? files[0] : null;\n\n    if (file && limitUploadFn && limitUploadFn()) {\n      return;\n    }\n\n    if (!limitUploadFn && file && fileList.length >= fileNumber) {\n      snackbar.error(b3Lang('global.fileUpload.maxFileNumber', { fileNumber }));\n      return;\n    }\n\n    if (file) {\n      try {\n        setLoading(true);\n        const {\n          code,\n          data: fileInfo,\n          message,\n        } = await uploadB2BFile({\n          file,\n          type: requestType,\n        });\n        if (code === 200) {\n          onchange({\n            ...fileInfo,\n            id: uuid(),\n          });\n        } else {\n          snackbar.error(message);\n        }\n      } finally {\n        if (!isEndLoadding) {\n          setLoading(false);\n        }\n      }\n    }\n  };\n\n  const handleDelete = (id: string) => {\n    onDelete(id);\n  };\n\n  const downloadFile = (fileUrl: string) => {\n    if (fileUrl) {\n      window.open(fileUrl, '_blank');\n    }\n  };\n\n  return (\n    <B3Spin isSpinning={loading}>\n      <Box\n        sx={{\n          padding: '12px 0 0',\n          width: '100%',\n        }}\n      >\n        <Box>\n          {fileList.map((file, index) => (\n            <Box key={file.id || index}>\n              <FileListItem hasdelete={(file?.hasDelete || '').toString()}>\n                <Box className=\"fileList-name-area\">\n                  <AttachFile />\n                  <Typography\n                    className=\"fileList-name\"\n                    onClick={() => {\n                      downloadFile(file.fileUrl);\n                    }}\n                  >\n                    {file.fileName}\n                  </Typography>\n                </Box>\n                {file.hasDelete && (\n                  <DeleteIcon\n                    sx={{\n                      cursor: 'pointer',\n                    }}\n                    onClick={() => {\n                      handleDelete(file?.id || '');\n                    }}\n                  />\n                )}\n              </FileListItem>\n              <FileUserTitle>{file.title || ''}</FileUserTitle>\n            </Box>\n          ))}\n        </Box>\n        {allowUpload && (\n          <Box\n            sx={{\n              display: 'flex',\n              justifyContent: 'space-between',\n              marginTop: '10px',\n            }}\n          >\n            <FileUploadContainer\n              style={{\n                color: primaryColor,\n              }}\n            >\n              <DropzoneArea\n                dropzoneClass=\"file-upload-area\"\n                Icon={AttachFile}\n                filesLimit={1}\n                onChange={handleChange}\n                showPreviews={false}\n                showPreviewsInDropzone={false}\n                maxFileSize={maxFileSize}\n                showAlerts={false}\n                dropzoneText={title}\n                getDropRejectMessage={getRejectMessage}\n                getFileLimitExceedMessage={getFileLimitExceedMessage}\n                acceptedFiles={acceptedFiles}\n              />\n            </FileUploadContainer>\n\n            <Tooltip\n              title={tips}\n              sx={{\n                fontSize: '20px',\n                color: 'rgba(0, 0, 0, 0.54)',\n              }}\n            >\n              <HelpIcon />\n            </Tooltip>\n          </Box>\n        )}\n      </Box>\n    </B3Spin>\n  );\n}\n\nexport default forwardRef(FileUpload);\n","import styled from '@emotion/styled';\n\ninterface ContainerProps {\n  padding?: string;\n  flexBasis?: string;\n  alignItems?: string;\n  backgroundColor?: string;\n  width?: string;\n  xs?: {\n    [key: string]: string | number;\n  };\n  flexDirection?:\n    | 'column'\n    | 'inherit'\n    | '-moz-initial'\n    | 'initial'\n    | 'revert'\n    | 'unset'\n    | 'column-reverse'\n    | 'row'\n    | 'row-reverse';\n}\n\nconst Container = styled('div')(\n  ({\n    padding = '1rem',\n    alignItems = 'flex-start',\n    flexDirection = 'row',\n    backgroundColor = 'white',\n    width = '100%',\n    xs,\n  }: ContainerProps) => ({\n    display: 'flex',\n    flexDirection,\n    alignItems,\n    padding,\n    width,\n    backgroundColor,\n    ...xs,\n  }),\n);\n\nexport default Container;\n","import { useB3Lang } from '@b3/lang';\nimport { Box, Typography } from '@mui/material';\n\nimport { QuoteInfoAndExtrafieldsItemProps } from '@/types/quotes';\n\nimport { Base64 } from '../../../utils/b3Product/shared/config';\n\ninterface QuoteInfoAndExtrafieldsProps {\n  quoteInfo: QuoteInfoAndExtrafieldsItemProps;\n  status?: string;\n}\n\nfunction QuoteInfoAndExtrafieldsItem({ status, quoteInfo }: QuoteInfoAndExtrafieldsProps) {\n  const b3Lang = useB3Lang();\n\n  const {\n    info: { quoteTitle, referenceNumber },\n    extraFields = [],\n    recipients,\n  } = quoteInfo;\n\n  return (\n    <Box\n      sx={{\n        width: '100%',\n      }}\n    >\n      <Typography\n        sx={{\n          fontWeight: 400,\n          fontSize: '24px',\n          height: '32px',\n        }}\n      >\n        {b3Lang('quoteDraft.quoteInfo.title')}\n      </Typography>\n      <Box\n        sx={{\n          p: '15px 0',\n        }}\n      >\n        {(quoteTitle || status === 'Draft') && (\n          <Typography>{`${b3Lang('quoteDraft.quoteInfo.titleText')} ${quoteTitle}`}</Typography>\n        )}\n        {(referenceNumber || status === 'Draft') && (\n          <Typography>{`${b3Lang(\n            'quoteDraft.quoteInfo.referenceText',\n          )} ${referenceNumber}`}</Typography>\n        )}\n\n        {status === 'Draft' && !recipients.length ? (\n          <Typography>{b3Lang('quoteDraft.quoteInfo.ccEmailText')}</Typography>\n        ) : (\n          recipients.map((ccEmail) => (\n            <Typography\n              key={`ccEmail-${Base64.encode(ccEmail)}`}\n              sx={{ wordBreak: 'break-all' }}\n            >{`${b3Lang('quoteDraft.quoteInfo.ccEmailText')} ${ccEmail}`}</Typography>\n          ))\n        )}\n\n        {extraFields.map(\n          (field) =>\n            (field.value || status === 'Draft') && (\n              <Typography\n                key={`extraField-${field.fieldName}`}\n              >{`${field.fieldName}: ${field.value}`}</Typography>\n            ),\n        )}\n      </Box>\n    </Box>\n  );\n}\n\nexport default QuoteInfoAndExtrafieldsItem;\n","import { getQuoteExtraFieldsConfig } from '@/shared/service/b2b';\nimport { QuoteExtraFieldsOrigin, QuoteFormattedItemsProps } from '@/types/quotes';\nimport b2bLogger from '@/utils/b3Logger';\n\nconst handleConversionExtraItemFormat = (quoteExtraFields: QuoteExtraFieldsOrigin[]) => {\n  const formattedQuoteExtraFields = quoteExtraFields.map((item) => {\n    const { listOfValue } = item;\n\n    const currentItems: QuoteFormattedItemsProps = {\n      isExtraFields: true,\n      name: item.fieldName || '',\n      label: item.labelName || '',\n      required: item.isRequired,\n      default: item.defaultValue || '',\n      fieldType: item.fieldCategory || '',\n      xs: 6,\n      variant: 'filled',\n      size: 'small',\n      id: item.id,\n    };\n\n    switch (item.fieldCategory) {\n      case 'dropdown':\n        if (listOfValue) {\n          const options = listOfValue?.map((option) => ({\n            label: option,\n            value: option,\n          }));\n\n          if (options.length > 0) {\n            currentItems.options = options;\n          }\n        }\n\n        break;\n      case 'number':\n        currentItems.max = item.maximumValue || '';\n        break;\n      case 'multiline':\n        currentItems.rows = item.numberOfRows || '';\n        break;\n      default:\n        currentItems.maxLength = item.maximumLength || '';\n        break;\n    }\n\n    return currentItems;\n  });\n\n  return formattedQuoteExtraFields;\n};\n\nconst getB2BQuoteExtraFields = async () => {\n  let quoteExtraFieldsList: QuoteFormattedItemsProps[] = [];\n  try {\n    const { quoteExtraFieldsConfig } = await getQuoteExtraFieldsConfig();\n\n    const visibleFields = quoteExtraFieldsConfig.filter((item) => item.visibleToEnduser);\n\n    const formattedQuoteExtraFields = handleConversionExtraItemFormat(visibleFields);\n\n    quoteExtraFieldsList = formattedQuoteExtraFields;\n  } catch (err) {\n    b2bLogger.error(err);\n  }\n\n  return quoteExtraFieldsList;\n};\n\nexport default getB2BQuoteExtraFields;\n"],"names":["quoteAndExtraFieldsInfo","contactInfo","shippingAddress","billingAddress","handleEditInfoClick","status","b3Lang","useB3Lang","isMobile","useMobile","jsxs","Container","flexDirection","xs","boxShadow","borderRadius","children","Box","sx","width","display","justifyContent","jsx","QuoteInfoItem","title","flag","info","QuoteInfoAndExtrafieldsItem","quoteInfo","CustomButton","mt","mb","onClick","variant","props","quoteStatus","quoteNotes","noteText","setNoteText","useState","defaultOpen","setDefaultOpen","isB2BUser","useAppSelector","isB2BUserSelector","b2bPermissions","rolePermissionSelector","quotesActionsPermission","quotesCreateActionsPermission","useEffect","note","store","getState","draftQuoteInfo","dispatch","setDraftQuoteInfoNote","Card","CardContent","p","B3CollapseContainer","padding","fontSize","color","Typography","style","whiteSpace","maxHeight","overflow","TextField","multiline","fullWidth","rows","value","onChange","event","target","label","size","allowUpload","defaultFileList","quoteId","useAppDispatch","firstName","company","customer","lastName","roleText","useRole","fileList","setFileList","uploadRef","useRef","fileInfo","length","saveQuoteInfo","newFileInfo","newQuoteInfo","setDraftQuoteInfo","FileUpload","ref","requestType","isEndLoadding","limitUploadFn","filter","file","includes","snackbar","error","onchange","async","newFileList","createFile","fileName","fileType","fileUrl","fileSize","quoteAttachFileCreate","attachFiles","quoteDetailAttachFileCreate","id","createdBy","hasDelete","current","setUploadLoadding","onDelete","deleteFile","find","quoteDetailAttachFileDelete","fileId","_interopRequireDefault","require$$0","Object","defineProperty","ExpandLess","default_1","default","_createSvgIcon","require$$1","_jsxRuntime","require$$2","d","ExpandMore","header","handleOnChange","open","setOpen","handleClick","cursor","alignItems","Collapse","in","timeout","unmountOnExit","Help","FileUploadContainer","styled","order","textTransform","fontWeight","lineHeight","FileListItem","background","hasdelete","margin","flex","textOverflow","flexGrow","flexBasis","maxWidth","FileUserTitle","marginBottom","textAlign","wordBreak","AttachFile","AttachFileIcon","transform","marginRight","forwardRef","tips","maxFileSize","fileNumber","acceptedFiles","FILE_UPLOAD_ACCEPT_TYPE","noop","primaryColor","useTheme","palette","primary","main","loading","setLoading","useImperativeHandle","getMaxFileSizeLabel","maxSize","toFixed","B3Spin","isSpinning","map","index","toString","className","window","DeleteIcon","marginTop","DropzoneArea","dropzoneClass","Icon","filesLimit","files","code","data","message","uploadB2BFile","type","uuid","showPreviews","showPreviewsInDropzone","showAlerts","dropzoneText","getDropRejectMessage","getRejectMessage","rejectedFile","isAcceptFileType","forEach","acceptedFileType","RegExp","test","getFileLimitExceedMessage","Tooltip","HelpIcon","exports","backgroundColor","quoteTitle","referenceNumber","extraFields","recipients","height","ccEmail","Base64","encode","field","fieldName","contactInfoKeys","addressVerifyKeys","addressKeys","keyTable","noAddressText","isComplete","some","item","infoPaddingLeft","paddingLeft","JSON","stringify","list","quoteExtraFieldsList","quoteExtraFieldsConfig","getQuoteExtraFieldsConfig","visibleFields","visibleToEnduser","listOfValue","currentItems","isExtraFields","name","labelName","required","isRequired","defaultValue","fieldType","fieldCategory","options","option","max","maximumValue","numberOfRows","maxLength","maximumLength","err","b2bLogger"],"mappings":"0sBAgJA,UAAmBA,wBACjBA,EAAAC,YACAA,EAAAC,gBACAA,EAAAC,eACAA,EAAAC,oBACAA,EAAAC,OACAA,IAEA,MAAMC,EAASC,KACRC,GAAYC,IAGjB,OAAAC,EAAAA,KAACC,GAAA,CACCC,cAAc,SACdC,GAAI,CACFC,UACE,wGACFC,aAAc,OAGhBC,SAAA,CAAAN,EAAAA,KAACO,EAAA,CACCC,GAAI,CACFC,MAAO,OACPC,QAAS,OACTC,eAAgB,gBAChBT,cAAeJ,EAAW,SAAW,OAGvCQ,SAAA,CAAAN,EAAAA,KAACO,EAAA,CACCC,GAAI,CACFC,MAAOX,EAAW,OAAS,SAG7BQ,SAAA,CAAAM,EAAAA,IAACC,GAAA,CACCC,MAAOlB,EAAO,kCACdmB,KAAK,OACLpB,SACAqB,KAAMzB,IAEPqB,EAAAA,IAAAK,GAAA,CAA4BtB,SAAgBuB,UAAW5B,OAG1DsB,EAAAA,IAACC,GAAA,CACCC,MAAOlB,EAAO,4BACdmB,KAAK,UACLpB,SACAqB,KAAMvB,IAGRmB,EAAAA,IAACC,GAAA,CACCC,MAAOlB,EAAO,6BACdmB,KAAK,WACLpB,SACAqB,KAAMxB,OAGTE,GACCkB,EAAAA,IAACO,EAAA,CACCX,GAAI,CACFY,GAAI,OACJC,GAAI,QAENC,QAAS5B,EACT6B,QAAQ,WAEPjB,WAAO,iCAKlB,ICpMA,SAAkCkB,GAChC,MAAM5B,EAASC,KACT4B,YAAEA,EAAAC,WAAaA,EAAa,IAAOF,GAElCG,EAAUC,GAAeC,EAAAA,SAAS,KAClCC,EAAaC,GAAkBF,EAAAA,UAAS,GAEzCG,EAAYC,EAAeC,GAC3BC,EAAiBF,EAAeG,GAEhCC,GAA0BL,GAAYG,EAAeG,8BAqB3D,OAdAC,EAAAA,WAAU,KACR,MAAMC,EAAOC,EAAMC,WAAWxB,UAAUyB,eAAeH,MAAQ,GAE/DZ,EAAYY,EAAI,GACf,IAEHD,EAAAA,WAAU,KACRE,EAAMG,SAASC,EAAsBlB,GAAY,IAAG,GACnD,CAACA,IAEJY,EAAAA,WAAU,KACJb,MAA2B,EAAI,GAClC,CAACA,UAGDoB,EACC,CAAAxC,SAAAM,EAAAA,IAACmC,EAAA,CACCvC,GAAI,CACFwC,EAAG,mBAGL1C,SAAAM,EAAAA,IAACqC,EAAA,CACCnC,MAEMlB,EADJ6B,GAA+B,UAAhBA,EACJ,2BACA,0BAEbK,cAEAxB,SAAAN,EAAAA,KAACO,EAAA,CACCC,GAAI,CACF0C,QAAS,UAGV5C,SAAA,CAAAmB,GAA+B,UAAhBA,GACdb,EAAAA,IAACL,EAAA,CACCC,GAAI,CACF2C,SAAU,OACVC,MAAO,sBACP/B,GAAI,QAGLf,WAAO,kCAGXoB,EACCd,EAAAA,IAACyC,EAAA,CACC9B,QAAQ,QACR+B,MAAO,CACLC,WAAY,WACZC,UAAW,QACXC,SAAU,QAGXnD,SAAAoB,IAGFd,EAAAA,IAAAL,EAAA,CACED,SACC+B,EAAAzB,EAAAA,IAAC8C,EAAA,CACCC,WAAS,EACTC,WAAS,EACTC,KAAM,EACNC,MAAOnC,EACPoC,SArEYC,IAChBpC,EAAAoC,GAAOC,OAAOH,OAAS,IACnCrB,EAAMG,SAASC,EAAsBmB,GAAOC,OAAOH,OAAS,IAAG,EAoE/CI,MAAOtE,EAAO,gCACduE,KAAK,QACL5C,QAAQ,SACRf,GAAI,CACF,uBAAwB,CACtB4C,MAAO,0BAIX,eAQpB,IC9FA,SAAwC5B,GAChC,MAAA4C,YAAEA,GAAc,EAAMC,gBAAAA,EAAkB,GAAI1E,OAAAA,EAAA2E,QAAQA,GAAY9C,EAChE5B,EAASC,IACT+C,EAAW2B,IAEXC,EAAYvC,GAAe,EAAGwC,aAAcA,EAAQC,SAASF,YAC7DG,EAAW1C,GAAe,EAAGwC,aAAcA,EAAQC,SAASC,WAC5DhC,EAAiBV,GAAe,EAAGf,eAAgBA,EAAUyB,kBAE5DiC,GAAYC,KAEZC,EAAUC,GAAelD,EAAAA,SAAwB,IAElDmD,EAAYC,SAA+B,MAEjD1C,EAAAA,WAAU,KACR,GAAe,IAAX5C,EAAc,CAChB,MAAMuF,SAAEA,EAAW,IAAyBvC,GAAkB,CAAC,EAE/DoC,EAAgC,iBAAbG,EAAwB,GAAKA,EAAQ,MAC/Cb,EAAgBc,QACzBJ,EAAYV,EAAe,GAI5B,CAACA,EAAgBc,OAAQxF,IAEtB,MAAAyF,EAAiBC,IACrB,GAAI1C,EAAgB,CAClB,MAAM2C,EAAe,IAChB3C,EACHuC,SAAUG,GAEHzC,EAAA2C,EAAkBD,GAAa,GAuF5C,aACGxC,EACC,CAAAxC,SAAAM,EAAAA,IAACmC,EAAA,CACCvC,GAAI,CACFwC,EAAG,mBAGL1C,eAAC2C,EAAoB,CAAAnC,MAAOlB,EAAO,gCACjCU,eAACC,EACC,CAAAD,SAAAM,EAAAA,IAAC4E,GAAA,CACCC,IAAKT,EACLU,YAA0B,QAAbd,EAAqB,4BAA8B,oBAChEe,eAAa,EACbb,WACAc,cAzBUA,IACEd,EAASe,QAC5BC,GAAsBA,GAAMhF,OAASgF,EAAKhF,MAAMiF,SAAS,iBAE1CZ,QAAU,IACjBa,EAAAC,MAAMrG,EAAO,4CACf,GAoBCsG,SAlGSC,UACf,IACF,IAAIC,EAA6B,GACjC,GAAe,IAAXzG,EAAc,CAChB,MAAM0G,EAA0B,CAC9BC,SAAUR,EAAKQ,SACfC,SAAUT,EAAKS,SACfC,QAASV,EAAKU,QACdC,SAAUX,EAAKW,WAGfC,uBAAuBC,YAAEA,UACjBC,EAA4B,CACpC9B,SAAU,CACR,IACKuB,IAGP/B,YAGS+B,EAAAQ,GAAKF,EAAY,GAAGE,GACjBT,EAAA,CACZ,IACKC,EACHvF,MAAOlB,EAAO,4CAA6C,CACzDkH,UAAWH,EAAY,GAAGG,YAE5BC,WAAW,MAEVjC,EACL,MAEcsB,EAAA,CACZ,IACKN,EACHhF,MAAOlB,EAAO,oDAAqD,CACjE4E,YACAG,aAEFoC,WAAW,MAEVjC,GAGLM,EAAcgB,GAEhBrB,EAAYqB,EAAW,CACvB,QACUpB,EAAAgC,SAASC,mBAAkB,EAAK,GAkDlCC,SA9CSf,UACf,IACQnB,EAAAgC,SAASC,mBAAkB,GACrC,MAAME,EAAarC,EAASsC,MAAMtB,GAASA,EAAKe,KAAOA,IACjDT,EAActB,EAASe,QAAQC,GAASA,EAAKe,KAAOA,IAC3C,IAAXlH,GAAgBwH,QACZE,EAA4B,CAChCC,OAAQH,GAAYN,IAAM,GAC1BvC,YAGFc,EAAcgB,GAEhBrB,EAAYqB,EAAW,CACvB,QACUpB,EAAAgC,SAASC,mBAAkB,EAAK,GAgClC7C,uBAOd,aCpKImD,EAAyBC,EAC7BC,OAAOC,eAAeC,EAAS,aAAc,CAC3C7D,OAAO,IAET,IAAe8D,EAAAD,EAAAE,aAAG,EACdC,EAAiBP,EAAuBQ,KACxCC,EAAcC,EACHL,EAAeD,EAAAE,SAAG,EAAIC,EAAeD,UAAuB,EAAIG,EAAYpH,KAAK,OAAQ,CACtGsH,EAAG,kDACD,uBCTAX,EAAyBC,EAC7BC,OAAOC,eAAeS,EAAS,aAAc,CAC3CrE,OAAO,IAET,IAAe8D,EAAAO,EAAAN,aAAG,EACdC,EAAiBP,EAAuBQ,KACxCC,EAAcC,ECIlB,SAAwBhF,EAAoBzB,GACpC,MAAAlB,SAAEA,QAAUQ,EAAQ,GAAAsH,OAAIA,cAAQtG,GAAc,EAAAuG,eAAOA,GAAmB7G,GAEvE8G,EAAMC,GAAW1G,EAAAA,SAASC,GAejC,OAVAS,EAAAA,WAAU,KACJ8F,KAA+BC,EAAI,GACtC,CAACD,EAAgBC,IAEpB/F,EAAAA,WAAU,KACJT,GACFyG,EAAQzG,EAAW,GAEpB,CAACA,WAGDvB,EACC,CAAAD,SAAA,CAAAN,EAAAA,KAACO,EAAA,CACCe,QAhBckH,KAClBD,GAASD,EAAI,EAgBT9H,GAAI,CACFE,QAAS,OACTC,eAAgB,gBAChB8H,OAAQ,UACRC,WAAY,UAGbpI,SAAA,CAAA8H,GAAWxH,EAAAA,IAAAyC,EAAA,CAAW9B,QAAQ,KAAMjB,SAAMQ,IAC1CwH,EAAO1H,EAAAA,IAAC+G,EAAW,CAAA,SAAMQ,EAAW,CAAA,MAEvCvH,MAAC+H,GAASC,GAAIN,EAAMO,QAAQ,OAAOC,eAAa,EAC7CxI,eAIT,CDxCesH,EAAeO,EAAAN,SAAG,EAAIC,EAAeD,UAAuB,EAAIG,EAAYpH,KAAK,OAAQ,CACtGsH,EAAG,iDACD,uBETAX,EAAyBC,EAC7BC,OAAOC,eAAeqB,EAAS,aAAc,CAC3CjF,OAAO,IAET,IAAe8D,EAAAmB,EAAAlB,aAAG,EACdC,EAAiBP,EAAuBQ,KACxCC,GAAcC,EACHL,EAAemB,EAAAlB,SAAG,EAAIC,EAAeD,UAAuB,EAAIG,GAAYpH,KAAK,OAAQ,CACtGsH,EAAG,4QACD,QCKJ,MAAMc,GAAsBC,EAAO1I,EAAP0I,EAAY,EAAG3F,aACzC,sBAAuB,CACrBmF,OAAQ,UACR,mCAAoC,CAClC/H,QAAS,OACTgI,WAAY,SACZtF,MAAOE,GAAOF,OAAS,WAEzB,0BAA2B,CACzB8F,MAAO,EACPC,cAAe,YACfC,WAAY,IACZjG,SAAU,OACVkG,WAAY,aAKZC,GAAeL,EAAO1I,EAAP0I,EAAazH,IAA6B,CAC7Dd,QAAS,OACT6I,WAAgC,SAApB/H,EAAMgI,UAAuB,0BAA4B,sBACrEnJ,aAAc,OACd6C,QAAS,UACTwF,WAAY,SACZe,OAAQ,UACRrG,MAAO,sBACP,wBAAyB,CACvB1C,QAAS,OACTgJ,KAAM,EACNhB,WAAY,UAEd,mBAAoB,CAClBnF,WAAY,SACZoG,aAAc,WACdlG,SAAU,SACVmG,SAAU,EACVC,UAAW,QACXC,SAAU,QACV1G,MAAO,UACPD,SAAU,OACVsF,OAAQ,eAINsB,GAAgBd,EAAO5F,EAAP4F,CAAmB,CACvCe,aAAc,OACd7G,SAAU,OACVC,MAAO,sBACPF,QAAS,SACT+G,UAAW,QACXC,UAAW,eA6BPC,GAAalB,EAAOmB,EAAPnB,EAAuB,KAAA,CACxCoB,UAAW,gBACXC,YAAa,UA+MAC,GAAAA,EAAAA,YA5Mf,SAAoB/I,EAAwBiE,GAC1C,MAAM7F,EAASC,KACTiB,MACJA,EAAQlB,EAAO,mCAAiC4K,KAChDA,EAAO5K,EAAO,wCAAsC6K,YACpDA,EAAc,QAAAC,WACdA,EAAa,EAAA9E,cACbA,EAAA+E,cACAA,EAAgBC,EAAA1E,SAChBA,EAAW2E,EAAA/F,SACXA,EAAW,GAACV,YACZA,GAAc,EAAA8C,SACdA,EAAW2D,EAAAlF,cACXA,GAAgB,EAAAD,YAChBA,EAAc,qBACZlE,EAIEsJ,EAFQC,IAEaC,QAAQC,QAAQC,MAEpCC,EAASC,GAAcvJ,EAAAA,UAAkB,GAEhDwJ,EAAAA,oBAAoB5F,GAAK,MACvBwB,kBAAoBlG,GAAkBqK,EAAWrK,OAG7C,MAAAuK,EAAuBC,GACvBA,EAAU,QAAU,EACf,IAAIA,EAAU,SAASC,QAAQ,OAEpCD,EAAU,KAAO,EACZ,IAAIA,EAAU,MAAMC,QAAQ,OAE9B,GAAGD,KAwFV,OAAA3K,EAAAA,IAAC6K,EAAO,CAAAC,WAAYP,EAClB7K,SAAAN,EAAAA,KAACO,EAAA,CACCC,GAAI,CACF0C,QAAS,WACTzC,MAAO,QAGTH,SAAA,CAAAM,EAAAA,IAACL,GACED,SAASwE,EAAA6G,KAAI,CAAC7F,EAAM8F,WAClBrL,EACC,CAAAD,SAAA,CAAAN,OAACsJ,IAAaE,WAAY1D,GAAMiB,WAAa,IAAI8E,WAC/CvL,SAAA,CAACN,EAAAA,KAAAO,EAAA,CAAIuL,UAAU,qBACbxL,SAAA,CAAAM,EAAAA,IAACuJ,GAAW,IACZvJ,EAAAA,IAACyC,EAAA,CACCyI,UAAU,gBACVxK,QAASA,KAtBLkF,SAuBWV,EAAKU,UArB3BuF,OAAAzD,KAAK9B,EAAS,SAqBoB,EAG1BlG,SAAKwF,EAAAQ,cAGTR,EAAKiB,WACJnG,EAAAA,IAACoL,EAAA,CACCxL,GAAI,CACFiI,OAAQ,WAEVnH,QAASA,KArCzB4F,EAsC+BpB,GAAMe,IAAM,GAAE,OAKlCjG,EAAAA,IAAAmJ,GAAA,CAAezJ,SAAKwF,EAAAhF,OAAS,OAxBtBgF,EAAKe,IAAM+E,OA4BxBxH,GACCpE,EAAAA,KAACO,EAAA,CACCC,GAAI,CACFE,QAAS,OACTC,eAAgB,gBAChBsL,UAAW,QAGb3L,SAAA,CAAAM,EAAAA,IAACoI,GAAA,CACC1F,MAAO,CACLF,MAAO0H,GAGTxK,SAAAM,EAAAA,IAACsL,EAAA,CACCC,cAAc,mBACdC,KAAMjC,GACNkC,WAAY,EACZtI,SAxGOoC,UACnB,MAAML,EAAOwG,EAAMnH,OAAS,EAAImH,EAAM,GAAK,KAEvC,KAAAxG,GAAQF,GAAiBA,KAI7B,IAAKA,GAAiBE,GAAQhB,EAASK,QAAUuF,EAC/C1E,EAASC,MAAMrG,EAAO,kCAAmC,CAAE8K,qBAI7D,GAAI5E,EACE,IACFsF,GAAW,GACL,MAAAmB,KACJA,EACAC,KAAMtH,EAAAuH,QACNA,SACQC,EAAc,CACtB5G,OACA6G,KAAMjH,IAEK,MAAT6G,EACOrG,EAAA,IACJhB,EACH2B,GAAI+F,MAGN5G,EAASC,MAAMwG,EACjB,CACA,QACK9G,GACHyF,GAAW,EACb,CACF,EAsEUyB,cAAc,EACdC,wBAAwB,EACxBrC,cACAsC,YAAY,EACZC,aAAclM,EACdmM,qBAjJWC,CAACC,EAAoBxC,EAAyBF,KAC/D,MAAAtG,KAAEA,EAAMwI,KAAAA,GAASQ,EAEvB,IAAIC,GAAmB,EACvBzC,EAAc0C,SAASC,IACrBF,EAAmB,IAAIG,OAAOD,GAAkBE,KAAKb,IAASS,CAAA,IAGhE,IAAIX,EAAU,GAeP,OAdFW,IACHX,EAAU7M,EAAO,2CAGfuE,EAAOsG,IACTgC,EAAU7M,EAAO,yCAA0C,CACzD6K,YAAaa,EAAoBb,MAIjCgC,GACFzG,EAASC,MAAMwG,GAGVA,CAAA,EA2HKgB,0BAxHoBA,KACvBzH,EAAAC,MACPrG,EAAO,yCAA0C,CAC/C6K,YAAaa,EAAoBb,MAG9B,IAmHKE,oBAIJ/J,EAAAA,IAAC8M,EAAA,CACC5M,MAAO0J,EACPhK,GAAI,CACF2C,SAAU,OACVC,MAAO,uBAGT9C,eAACqN,EAAS,CAAA,YAOxB,ICxRM1N,GAAA2N,EAAA,IAAY3E,EAAO,MAAPA,EAChB,EACE/F,UAAU,OACVwF,aAAa,aACbxI,gBAAgB,MAChB2N,kBAAkB,QAClBpN,QAAQ,OACRN,SACqB,CACrBO,QAAS,OACTR,gBACAwI,aACAxF,UACAzC,QACAoN,qBACG1N,OC1BP,SAASc,IAA4BtB,OAAEA,EAAQuB,UAAAA,IAC7C,MAAMtB,EAASC,KAGbmB,MAAM8M,WAAEA,EAAAC,gBAAYA,GAAgBC,YACpCA,EAAc,GAACC,WACfA,GACE/M,EAGF,OAAAlB,EAAAA,KAACO,EAAA,CACCC,GAAI,CACFC,MAAO,QAGTH,SAAA,CAAAM,EAAAA,IAACyC,EAAA,CACC7C,GAAI,CACF4I,WAAY,IACZjG,SAAU,OACV+K,OAAQ,QAGT5N,WAAO,gCAEVN,EAAAA,KAACO,EAAA,CACCC,GAAI,CACFwC,EAAG,UAGH1C,SAAA,EAAcwN,GAAW,UAAXnO,IACdiB,EAAAA,IAACyC,EAAY,CAAA/C,SAAA,GAAGV,EAAO,qCAAqCkO,OAE5DC,GAA8B,UAAXpO,IACnBiB,EAAAA,IAACyC,GAAY/C,SAAG,GAAAV,EACd,yCACGmO,MAGK,UAAXpO,GAAuBsO,EAAW9I,OAGjC8I,EAAWtC,KAAKwC,GACdvN,EAAAA,IAACyC,EAAA,CAEC7C,GAAI,CAAE0J,UAAW,aACjB5J,SAAG,GAAAV,EAAO,uCAAuCuO,KAF5C,WAAWC,EAAOC,OAAOF,QAJjCvN,EAAAA,IAAAyC,EAAA,CAAY/C,SAAOV,EAAA,sCAUrBoO,EAAYrC,KACV2C,IACEA,EAAMxK,OAAoB,UAAXnE,IACdiB,EAAAA,IAACyC,EAAA,CAEC/C,SAAG,GAAAgO,EAAMC,cAAcD,EAAMxK,SADxB,cAAcwK,EAAMC,oBAOzC,CT1CA,MAAMC,GAA4B,CAAC,OAAQ,QAAS,cAAe,eAE7DC,GAA8B,CAClC,QACA,YACA,WACA,UACA,UACA,YACA,OACA,QACA,UACA,UACA,eAGIC,GAAsB,CAC1B,QACA,CAAC,YAAa,YACd,UACA,UACA,YACA,CAAC,OAAQ,QAAS,UAAW,WAC7B,eAUF,SAAS7N,IAAcE,KAAEA,EAAAD,MAAMA,EAAOE,KAAAA,EAAArB,OAAMA,IACpC,MAAAgP,EAAoB,SAAT5N,EAAkByN,GAAkBE,IAC9C5O,GAAYC,IACbH,EAASC,IAET+O,EACO,UAAXjP,EACI,cAAuB,YAAToB,EAAqB,UAAY,sBAC/C,MAAe,YAATA,EAAqB,UAAY,qBAEvC8N,EACK,SAAT9N,GAAkB0N,GAAkBK,MAAMC,GAAiB/N,KAAUA,EAAK+N,KAEtEC,EAA2B,SAATjO,GAAmBjB,EAAW,EAAI,OAExD,OAAAE,EAAAA,KAACO,EAAA,CACCC,GAAI,CACFC,MAAOX,GAAqB,SAATiB,EAAkB,OAAS,QAC9CkO,YAAaD,GAGf1O,SAAA,CAAAM,EAAAA,IAACyC,EAAA,CACC7C,GAAI,CACF4I,WAAY,IACZjG,SAAU,OACV+K,OAAQ,QAGT5N,SAAAQ,IAEHd,EAAAA,KAACO,EAAA,CACCC,GAAI,CACFwC,EAAG,UAGH1C,SAAA,EAAcuO,GAAS,SAAT9N,IACW,OAAzBmO,KAAKC,UAAUnO,IACf2N,EAAShD,KAAKyD,GACC,eAATA,EACgB,UAAXzP,EACLiB,EAAAA,IAACyC,EAAA,CACC7C,GAAI,CACF0J,UAAW,aAGb3I,QAAQ,QAEPjB,SAAA,GAAGV,EAAO,qCAAqCoB,EAAKoO,IAAS,MAHzDA,GAMP,GAIgB,iBAATA,EAEPxO,MAACyC,GAAsB9B,QAAQ,QAC3BjB,YAAQU,EAAKoO,IAAU,IADVA,GAOnBxO,MAACyC,GAA2B9B,QAAQ,QACjCjB,WAAKqL,KAAI,CAACoD,EAAcnD,IACnBA,IAAUwD,EAAKjK,OAAS,EACnBnE,EAAK+N,IAAS,GAEV,cAATA,EAA6B,GAAG/N,EAAK+N,IAAS,MAC3C/N,EAAK+N,GAAQ,GAAG/N,EAAK+N,IAAS,OAAS,MANjC,GAAGK,QAYxBP,GAAuB,SAAT9N,GAAmBH,EAAAA,IAACL,GAAKD,SAAcsO,SAI/D,QU1F+BzI,UAC7B,IAAIkJ,EAAmD,GACnD,IACF,MAAMC,uBAAEA,SAAiCC,IAEnCC,EAAgBF,EAAuBzJ,QAAQkJ,GAASA,EAAKU,mBAI5CJ,EAF2CG,EAtDjB7D,KAAKoD,IAChD,MAAAW,YAAEA,GAAgBX,EAElBY,EAAyC,CAC7CC,eAAe,EACfC,KAAMd,EAAKR,WAAa,GACxBrK,MAAO6K,EAAKe,WAAa,GACzBC,SAAUhB,EAAKiB,WACfnI,QAASkH,EAAKkB,cAAgB,GAC9BC,UAAWnB,EAAKoB,eAAiB,GACjChQ,GAAI,EACJoB,QAAS,SACT4C,KAAM,QACN0C,GAAIkI,EAAKlI,IAGX,OAAQkI,EAAKoB,eACX,IAAK,WACH,GAAIT,EAAa,CACf,MAAMU,EAAUV,GAAa/D,KAAK0E,IAAY,CAC5CnM,MAAOmM,EACPvM,MAAOuM,MAGLD,EAAQjL,OAAS,IACnBwK,EAAaS,QAAUA,EACzB,CAGF,MACF,IAAK,SACUT,EAAAW,IAAMvB,EAAKwB,cAAgB,GACxC,MACF,IAAK,YACUZ,EAAA9L,KAAOkL,EAAKyB,cAAgB,GACzC,MACF,QACeb,EAAAc,UAAY1B,EAAK2B,eAAiB,GAI5C,OAAAf,CAAA,UAgBAgB,GACPC,EAAU3K,MAAM0K,EAAG,CAGd,OAAAtB,CAAA","x_google_ignoreList":[3,4,6]}