{"version":3,"file":"index-Bo5TSmVq.js","sources":["../../src/pages/CompanyHierarchy/components/CompanyTableRowCard.tsx","../../src/pages/CompanyHierarchy/components/TableTree.tsx","../../src/pages/CompanyHierarchy/index.tsx"],"sourcesContent":["import { useContext, useMemo, useState } from 'react';\nimport { useB3Lang } from '@b3/lang';\nimport { Business as BusinessIcon, MoreHoriz as MoreHorizIcon } from '@mui/icons-material';\nimport { Box, Card, Chip, IconButton, Menu, MenuItem } from '@mui/material';\n\nimport { CustomStyleContext } from '@/shared/customStyleButton';\n\nimport { RecursiveNode, TreeNodeProps } from './types';\n\ninterface CompanyTableRowCardProps<T extends TreeNodeProps> {\n  company: RecursiveNode<T>;\n  currentCompanyId?: string | number;\n  selectCompanyId?: string | number;\n  onSwitchCompany?: (node: T) => void;\n  getDisplayName?: (node: T) => string;\n  getNodeId?: (node: T) => string | number;\n}\n\nfunction CompanyTableRowCard<T extends TreeNodeProps>({\n  company,\n  currentCompanyId = '',\n  selectCompanyId = '',\n  onSwitchCompany,\n  getDisplayName = (node) => node.companyName,\n  getNodeId = (node) => node.companyId,\n}: CompanyTableRowCardProps<T>) {\n  const nodeId = getNodeId(company);\n  const [anchorEl, setAnchorEl] = useState<null | HTMLElement>(null);\n  const b3Lang = useB3Lang();\n  const {\n    state: {\n      switchAccountButton: { color = '#ED6C02' },\n    },\n  } = useContext(CustomStyleContext);\n  const isCurrentCompanyId = Number(nodeId) === Number(currentCompanyId);\n  const isSelectCompanyId = Number(nodeId) === Number(selectCompanyId);\n\n  const open = Boolean(anchorEl);\n  const isDisabledAction = useMemo(() => {\n    if (selectCompanyId) {\n      return Number(selectCompanyId) !== Number(company.companyId);\n    }\n\n    return Number(currentCompanyId) !== Number(company.companyId);\n  }, [currentCompanyId, selectCompanyId, company]);\n\n  const handleClick = (event: React.MouseEvent<HTMLElement>) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleSwitchClick = () => {\n    handleClose();\n    onSwitchCompany?.(company);\n  };\n\n  const openIcon = open\n    ? {\n        borderRadius: '10%',\n        backgroundColor: 'rgba(0, 0, 0, 0.14)',\n      }\n    : {};\n\n  return (\n    <Card\n      sx={{\n        padding: '16px',\n        marginBottom: '16px',\n      }}\n    >\n      <Box>\n        <Box sx={{ display: 'flex', alignItems: 'flex-start', justifyContent: 'space-between' }}>\n          <Box sx={{ display: 'flex', alignItems: 'flex-start' }}>\n            <BusinessIcon sx={{ color: 'rgba(0, 0, 0, 0.54)', mr: 1 }} />\n            {getDisplayName(company)}\n          </Box>\n          {company?.channelFlag && isDisabledAction && (\n            <IconButton\n              size=\"small\"\n              onClick={handleClick}\n              aria-controls={open ? 'company-menu' : undefined}\n              aria-haspopup=\"true\"\n              aria-expanded={open ? 'true' : undefined}\n              sx={{\n                pt: 0,\n\n                '& svg': {\n                  ...openIcon,\n                },\n              }}\n            >\n              <MoreHorizIcon />\n            </IconButton>\n          )}\n        </Box>\n        {isSelectCompanyId && (\n          <Chip\n            label={b3Lang('companyHierarchy.chip.selectCompany')}\n            size=\"small\"\n            sx={{\n              mt: 2,\n              backgroundColor: color,\n              color: 'white',\n              height: 24,\n              '& .MuiChip-label': {\n                px: 1,\n              },\n            }}\n          />\n        )}\n        {isCurrentCompanyId && (\n          <Chip\n            label={b3Lang('companyHierarchy.chip.currentCompany')}\n            size=\"small\"\n            sx={{\n              mt: 2,\n              backgroundColor: 'primary.main',\n              color: 'white',\n              height: 24,\n              '& .MuiChip-label': {\n                px: 1,\n              },\n            }}\n          />\n        )}\n      </Box>\n      <Menu\n        id=\"company-menu\"\n        anchorEl={anchorEl}\n        open={open}\n        onClose={handleClose}\n        MenuListProps={{\n          'aria-labelledby': 'company-button',\n        }}\n        anchorOrigin={{\n          vertical: 'bottom',\n          horizontal: 'right',\n        }}\n        transformOrigin={{\n          vertical: 'top',\n          horizontal: 'right',\n        }}\n      >\n        <MenuItem\n          sx={{\n            color: 'primary.main',\n          }}\n          onClick={handleSwitchClick}\n        >\n          {b3Lang('companyHierarchy.dialog.title')}\n        </MenuItem>\n      </Menu>\n    </Card>\n  );\n}\n\nexport default CompanyTableRowCard;\n","import { useContext, useMemo, useState } from 'react';\nimport { useB3Lang } from '@b3/lang';\nimport {\n  Business as BusinessIcon,\n  KeyboardArrowDown as KeyboardArrowDownIcon,\n  MoreHoriz as MoreHorizIcon,\n} from '@mui/icons-material';\nimport {\n  Box,\n  Chip,\n  IconButton,\n  Menu,\n  MenuItem,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n} from '@mui/material';\n\nimport useMobile from '@/hooks/useMobile';\nimport { CustomStyleContext } from '@/shared/customStyleButton';\n\nimport CompanyTableRowCard from './CompanyTableRowCard';\nimport { RecursiveNode, TreeNodeProps } from './types';\n\ninterface CompanyTableProps<T extends TreeNodeProps> {\n  data: RecursiveNode<T>[];\n  currentCompanyId?: string | number;\n  selectCompanyId?: string | number;\n  onSwitchCompany?: (node: T) => void;\n  getDisplayName?: (node: T) => string;\n  getNodeId?: (node: T) => string | number;\n}\n\ninterface CompanyTableRowProps<T extends TreeNodeProps> {\n  node: RecursiveNode<T>;\n  level?: number;\n  currentCompanyId?: string | number;\n  selectCompanyId?: string | number;\n  onSwitchCompany?: (node: T) => void;\n  getDisplayName?: (node: T) => string;\n  getNodeId?: (node: T) => string | number;\n}\n\nfunction CompanyTableRow<T extends TreeNodeProps>({\n  node,\n  level = 0,\n  currentCompanyId = '',\n  selectCompanyId = '',\n  onSwitchCompany,\n  getDisplayName = (node) => node.companyName,\n  getNodeId = (node) => node.companyId,\n}: CompanyTableRowProps<T>) {\n  const [expanded, setExpanded] = useState(true);\n  const [anchorEl, setAnchorEl] = useState<null | HTMLElement>(null);\n\n  const b3Lang = useB3Lang();\n\n  const {\n    state: {\n      switchAccountButton: { color = '#ED6C02' },\n    },\n  } = useContext(CustomStyleContext);\n\n  const hasChildren = node.children && node.children.length > 0;\n  const nodeId = getNodeId(node);\n  const isCurrentCompanyId = Number(nodeId) === Number(currentCompanyId);\n\n  const isSelectCompanyId = Number(nodeId) === Number(selectCompanyId);\n  const open = Boolean(anchorEl);\n\n  const isDisabledAction = useMemo(() => {\n    if (selectCompanyId) {\n      return Number(selectCompanyId) !== Number(node.companyId);\n    }\n\n    return Number(currentCompanyId) !== Number(node.companyId);\n  }, [currentCompanyId, selectCompanyId, node]);\n\n  const handleClick = (event: React.MouseEvent<HTMLElement>) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleSwitchClick = () => {\n    handleClose();\n    onSwitchCompany?.(node);\n  };\n\n  return (\n    <>\n      <TableRow\n        sx={{\n          '&:last-child td, &:last-child th': { border: 0 },\n          '& > td': { bgcolor: 'background.paper' },\n          height: '3.25rem',\n        }}\n      >\n        <TableCell sx={{ width: '100%', py: 1 }}>\n          <Box sx={{ display: 'flex', alignItems: 'center' }}>\n            <Box sx={{ display: 'flex', ml: level * 4, alignItems: 'center' }}>\n              {hasChildren ? (\n                <IconButton size=\"small\" onClick={() => setExpanded(!expanded)} sx={{ mr: 1 }}>\n                  <KeyboardArrowDownIcon\n                    sx={{\n                      transform: expanded ? 'rotate(0deg)' : 'rotate(-90deg)',\n                      transition: 'transform 0.2s',\n                      color: 'rgba(0, 0, 0, 0.54)',\n                    }}\n                  />\n                </IconButton>\n              ) : (\n                <Box sx={{ width: 40 }} />\n              )}\n              <Box sx={{ mr: 1, display: 'flex', alignItems: 'center' }}>\n                <BusinessIcon sx={{ color: 'rgba(0, 0, 0, 0.54)' }} />\n              </Box>\n              <Box component=\"span\" sx={{ mr: 1 }}>\n                {getDisplayName(node)}\n              </Box>\n              {isSelectCompanyId && (\n                <Chip\n                  label={b3Lang('companyHierarchy.chip.selectCompany')}\n                  size=\"small\"\n                  sx={{\n                    backgroundColor: color,\n                    color: 'white',\n                    height: 24,\n                    '& .MuiChip-label': {\n                      px: 1,\n                    },\n                  }}\n                />\n              )}\n              {isCurrentCompanyId && (\n                <Chip\n                  label={b3Lang('companyHierarchy.chip.currentCompany')}\n                  size=\"small\"\n                  sx={{\n                    backgroundColor: 'primary.main',\n                    color: 'white',\n                    height: 24,\n                    '& .MuiChip-label': {\n                      px: 1,\n                    },\n                  }}\n                />\n              )}\n            </Box>\n          </Box>\n        </TableCell>\n        <TableCell align=\"right\" sx={{ width: 48, py: 1 }}>\n          {node?.channelFlag && isDisabledAction && (\n            <IconButton\n              size=\"small\"\n              onClick={handleClick}\n              aria-controls={open ? 'company-menu' : undefined}\n              aria-haspopup=\"true\"\n              aria-expanded={open ? 'true' : undefined}\n            >\n              <MoreHorizIcon />\n            </IconButton>\n          )}\n          <Menu\n            id=\"company-menu\"\n            anchorEl={anchorEl}\n            open={open}\n            onClose={handleClose}\n            MenuListProps={{\n              'aria-labelledby': 'company-button',\n            }}\n            anchorOrigin={{\n              vertical: 'bottom',\n              horizontal: 'right',\n            }}\n            transformOrigin={{\n              vertical: 'top',\n              horizontal: 'right',\n            }}\n          >\n            <MenuItem\n              sx={{\n                color: 'primary.main',\n              }}\n              onClick={handleSwitchClick}\n            >\n              {b3Lang('companyHierarchy.dialog.title')}\n            </MenuItem>\n          </Menu>\n        </TableCell>\n      </TableRow>\n      {expanded &&\n        hasChildren &&\n        (node?.children || []).map((child) => (\n          <CompanyTableRow\n            key={getNodeId(child)}\n            node={child}\n            level={level + 1}\n            currentCompanyId={currentCompanyId}\n            selectCompanyId={selectCompanyId}\n            onSwitchCompany={onSwitchCompany}\n            getDisplayName={getDisplayName}\n            getNodeId={getNodeId}\n          />\n        ))}\n    </>\n  );\n}\n\nfunction CompanyHierarchyTableTree<T extends TreeNodeProps>({\n  data,\n  currentCompanyId,\n  selectCompanyId,\n  onSwitchCompany,\n  getDisplayName = (node) => node.companyName,\n  getNodeId = (node) => node.companyId,\n}: CompanyTableProps<T>) {\n  const [isMobile] = useMobile();\n  const b3Lang = useB3Lang();\n\n  const handleExpandCompanyData = (\n    companies: RecursiveNode<T>[] | [],\n    companyData: RecursiveNode<T>[],\n  ) => {\n    if (companies.length === 0) return companyData;\n    companies.forEach((company) => {\n      companyData.push({\n        ...company,\n        children: [],\n      });\n\n      const isHasChildren = company.children && company.children.length > 0;\n\n      if (isHasChildren) {\n        handleExpandCompanyData(company?.children || [], companyData);\n      }\n    });\n\n    return companyData;\n  };\n  const mobileCompanyData = handleExpandCompanyData(data, []);\n\n  return (\n    <>\n      {isMobile ? (\n        <>\n          {mobileCompanyData.map((company) => (\n            <CompanyTableRowCard\n              company={company}\n              currentCompanyId={currentCompanyId}\n              selectCompanyId={selectCompanyId}\n              onSwitchCompany={onSwitchCompany}\n              getDisplayName={getDisplayName}\n              getNodeId={getNodeId}\n            />\n          ))}\n        </>\n      ) : (\n        <Paper sx={{ width: '100%', minHeight: '100px', mx: 'auto', mt: 2 }}>\n          <TableContainer>\n            <Table size=\"small\" aria-label=\"company structure table\">\n              <TableHead>\n                <TableRow sx={{ height: '3.25rem' }}>\n                  <TableCell sx={{ fontWeight: 500, pl: 8 }}>\n                    {b3Lang('companyHierarchy.table.name')}\n                  </TableCell>\n                  <TableCell sx={{ width: 48 }} />\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                {data.map((company) => (\n                  <CompanyTableRow\n                    key={getNodeId(company)}\n                    node={company}\n                    currentCompanyId={currentCompanyId}\n                    selectCompanyId={selectCompanyId}\n                    onSwitchCompany={onSwitchCompany}\n                    getDisplayName={getDisplayName}\n                    getNodeId={getNodeId}\n                  />\n                ))}\n              </TableBody>\n            </Table>\n          </TableContainer>\n        </Paper>\n      )}\n    </>\n  );\n}\n\nexport default CompanyHierarchyTableTree;\n","import { useEffect, useRef, useState } from 'react';\nimport { Box } from '@mui/material';\n\nimport B3Spin from '@/components/spin/B3Spin';\nimport { getCompanySubsidiaries } from '@/shared/service/b2b';\nimport { useAppSelector } from '@/store';\nimport { CompanyHierarchyListProps, CompanyHierarchyProps } from '@/types';\nimport { buildHierarchy } from '@/utils';\n\nimport HierarchyDialog from './components/HierarchyDialog';\nimport CompanyHierarchyTableTree from './components/TableTree';\n\nfunction CompanyHierarchy() {\n  const [data, setData] = useState<CompanyHierarchyProps[]>([]);\n\n  const [open, setOpen] = useState<boolean>(false);\n\n  const [currentRow, setCurrentRow] = useState<CompanyHierarchyProps | null>(null);\n\n  const [loading, setLoading] = useState<boolean>(false);\n\n  const originDataRef = useRef<CompanyHierarchyListProps[]>([]);\n\n  const { id: currentCompanyId } = useAppSelector(({ company }) => company.companyInfo);\n\n  const { selectCompanyHierarchyId } = useAppSelector(\n    ({ company }) => company.companyHierarchyInfo,\n  );\n\n  const init = async () => {\n    setLoading(true);\n\n    const { companySubsidiaries } = await getCompanySubsidiaries();\n\n    const list = buildHierarchy({\n      data: companySubsidiaries || [],\n    });\n\n    originDataRef.current = companySubsidiaries;\n\n    setData(list);\n\n    setLoading(false);\n  };\n\n  useEffect(() => {\n    if (currentCompanyId) {\n      init();\n    }\n\n    // ignore init\n    // due they are funtions that do not depend on any reactive value\n  }, [currentCompanyId]);\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleRowClick = (row: CompanyHierarchyProps) => {\n    setCurrentRow(row);\n    setOpen(true);\n  };\n\n  return (\n    <B3Spin isSpinning={loading}>\n      <Box\n        sx={{\n          display: 'flex',\n          flexDirection: 'column',\n          flex: 1,\n          width: '100%',\n        }}\n      >\n        <CompanyHierarchyTableTree<CompanyHierarchyProps>\n          data={data}\n          onSwitchCompany={handleRowClick}\n          currentCompanyId={currentCompanyId}\n          selectCompanyId={selectCompanyHierarchyId}\n        />\n\n        <HierarchyDialog\n          open={open}\n          handleClose={handleClose}\n          currentRow={currentRow}\n          companyHierarchyAllList={originDataRef?.current || []}\n        />\n      </Box>\n    </B3Spin>\n  );\n}\n\nexport default CompanyHierarchy;\n"],"names":["CompanyTableRowCard","company","currentCompanyId","selectCompanyId","onSwitchCompany","getDisplayName","node","getNodeId","nodeId","anchorEl","setAnchorEl","useState","b3Lang","useB3Lang","color","useContext","CustomStyleContext","isCurrentCompanyId","isSelectCompanyId","open","isDisabledAction","useMemo","handleClick","event","handleClose","handleSwitchClick","openIcon","jsxs","Card","Box","jsx","BusinessIcon","IconButton","MoreHorizIcon","Chip","Menu","MenuItem","CompanyTableRow","level","expanded","setExpanded","hasChildren","Fragment","TableRow","TableCell","KeyboardArrowDownIcon","child","CompanyHierarchyTableTree","data","isMobile","useMobile","handleExpandCompanyData","companies","companyData","mobileCompanyData","Paper","TableContainer","Table","TableHead","TableBody","CompanyHierarchy","setData","setOpen","currentRow","setCurrentRow","loading","setLoading","originDataRef","useRef","useAppSelector","selectCompanyHierarchyId","init","companySubsidiaries","getCompanySubsidiaries","list","buildHierarchy","useEffect","handleRowClick","row","B3Spin","HierarchyDialog"],"mappings":"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"}