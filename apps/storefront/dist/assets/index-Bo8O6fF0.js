import{j as s,o as ct,B as te,T as re,I as $r,x as de,y as br,w as Pn,f as Cn,ah as kn,L as ar,ae as ir,ai as Tr,a0 as An,G as Ae}from"./mui-Cw0dwOiN.js";import{r as x,a as In,e as Ie}from"./reactVendor-BTcQ-GDs.js";import{u as ve}from"./lang-6J3-0YIA.js";import{a5 as Tn,aM as Dn,r as lt,u as ie,t as or,a as Ce,aN as Ln,aw as er,af as le,ab as jn,aO as Nn,aP as On,aQ as En,aR as Bn,aS as Rn,a1 as Mn,aT as Hr,x as zn,a0 as Un,G as pt,au as xr,am as qn,ar as Wn,aU as Vr,ad as Fn,aV as Cr,aW as Gn,aX as Zn,aj as Kn,C as $n,k as Hn,ac as Vn,a8 as Xn}from"./react-setup-DSYWb28G.js";import"./load-functions-DL5N0fkL.js";import{b as Dr}from"./base-BCVDEF8S.js";import{f as Qn}from"./address-5yfgx4S5.js";import{g as Jn,a as Yn,O as ht,o as mt,b as eu,c as ru,d as tu,e as nu}from"./OrderStatus-hBxTUXFw.js";import{a as dt,u as ft,c as uu}from"./router-DEI8QtBD.js";import{h as au}from"./lodashEs-DKEtmQJE.js";import{H as iu}from"./HierarchyDialog-C6ceVNTM.js";import{u as ou}from"./form-hNmOEDBo.js";import{B as su}from"./B3CustomForm-B8D1YiOY.js";import{s as Xr}from"./B3LinkTipContent-DnqeZwRf.js";import{b as cu}from"./b3TriggerCartNumber-6ZWpUTGT.js";import lu from"./CreateShoppingList-DGdQuhPc.js";import pu from"./OrderShoppingList-BGbqjbi-.js";import{g as hu}from"./dateFns-CeqDayOU.js";import{A as mu,b as du}from"./muiIcon-BiFRwRtm.js";import"./intl-CKipw3rV.js";import"./eCache-BdHG5F0B.js";import"./redux-D7_Lh1Zo.js";import"./toolkit-C5fVsw89.js";import"../index.hStmN1DJ.js";import"./global-D7Yn0gGb.js";import"./dropzone-Cizh2goU.js";import"./useB2BCallback-DOyIFx1A.js";import"./b3ShoppingList-DdH6MiKu.js";const fu=(t,e)=>{var u;let r=document.getElementById(e);r||(r=document.createElement("iframe"),r.src="about:blank",r.id=e,r.style.display="none",document.body.appendChild(r));const n=(u=r.contentWindow)==null?void 0:u.document;n&&(n.open(),n.write(t),n.close()),r.style.display="block"},wu=async(t,e)=>{await fetch("/account.php?action=print_invoice&order_id=".concat(t)).then(r=>{if(r.ok)return r.text();throw new Error("Network response was not ok.")}).then(r=>{fu(r,e)}).catch(r=>{Dr.error("Error Invoice:",r)})},gu={currency_location:"left",currency_token:"$",decimal_token:".",decimal_places:2,thousands_token:",",currency_exchange_rate:"1.0000000000"},wt={shippings:[],billings:[],history:[],poNumber:"",status:"",statusCode:"",currencyCode:"",currency:"",orderSummary:{createAt:"",name:"",priceData:{},priceSymbol:{}},customStatus:"",money:{...gu},payment:{},orderComments:"",products:[],orderId:"",orderStatus:[],ipStatus:0,invoiceId:0,addressLabelPermission:!1,canReturn:!1,createdEmail:"",orderIsDigital:!1,companyInfo:{companyId:"",companyName:"",companyAddress:"",companyCountry:"",companyState:"",companyCity:"",companyZipCode:"",phoneNumber:"",bcId:""}},Ee=x.createContext({state:wt,dispatch:()=>{}}),yu=(t,e)=>{switch(e.type){case"all":return{...t,...e.payload};case"statusType":return{...t,orderStatus:e.payload.orderStatus};case"addressLabel":return{...t,addressLabelPermission:e.payload.addressLabelPermission};default:return t}};function _u(t){const[e,r]=x.useReducer(yu,wt),{children:n}=t,u=x.useMemo(()=>({state:e,dispatch:r}),[e]);return s.jsx(Ee.Provider,{value:u,children:n})}const vu=t=>{const{shipments:e,shippingAddress:r=[],products:n=[]}=t,a=(e||[]).map(c=>{const{items:p}=c,m=[];return p.forEach(y=>{const h=n.find(P=>P.id===y.order_product_id);h&&m.push({...h,current_quantity_shipped:y.quantity,not_shipping_number:h.quantity-h.quantity_shipped})}),{...c,itemsInfo:m}});return r.map(c=>({...c,shipmentItems:[...a.filter(p=>p.order_address_id===c.id)],notShip:{itemsInfo:n.filter(p=>{const m=p;return m.not_shipping_number=p.quantity-p.quantity_shipped,p.quantity>p.quantity_shipped&&c.id===p.order_address_id})}}))},bu=t=>{const{billingAddress:e,products:r}=t;return[{billingAddress:e,products:r}]},Te=t=>{const{decimal_places:e=2}=Dn();try{return(parseFloat(t.toString())||0).toFixed(e)}catch(r){return"0.00"}},xu=(t,e)=>{const{dateCreated:r,firstName:n,lastName:u,totalTax:a,subtotalExTax:i,subtotalIncTax:c,totalExTax:p,totalIncTax:m,handlingCostExTax:y,handlingCostIncTax:h,shippingCostExTax:P,shippingCostIncTax:M,coupons:D,discountAmount:b}=t,{global:{showInclusiveTaxPrice:A}}=Tn.getState(),k={},L={},q={};D.forEach(w=>{const _=e("orderDetail.summary.coupon",{couponCode:w!=null&&w.code?"(".concat(w.code,")"):""});k[_]=_,L[_]=w==null?void 0:w.discount,q[_]="coupon"});const T={subTotal:e("orderDetail.summary.subTotal"),shipping:e("orderDetail.summary.shipping"),handingFee:e("orderDetail.summary.handingFee"),discountAmount:e("orderDetail.summary.discountAmount"),...k,tax:e("orderDetail.summary.tax"),grandTotal:e("orderDetail.summary.grandTotal")};return{createAt:r,name:"".concat(n," ").concat(u),priceData:{[T.subTotal]:Te(A?c:i),[T.shipping]:Te(A?M:P),[T.handingFee]:Te(h||y||""),[T.discountAmount]:Te(b||""),...L,[T.tax]:Te(a||""),[T.grandTotal]:Te(m||p||"")},priceSymbol:{[T.subTotal]:"subTotal",[T.shipping]:"shipping",[T.handingFee]:"handingFee",[T.discountAmount]:"discountAmount",...q,[T.tax]:"tax",[T.grandTotal]:"grandTotal"}}},Su=t=>{const{updatedAt:e,billingAddress:r,paymentMethod:n,dateCreated:u}=t,a=new Date(u).getTime()/1e3;return{updatedAt:e,billingAddress:r,paymentMethod:n,dateCreateAt:JSON.stringify(a)}},Pu=t=>{const{products:e}=t,r=[];return e.forEach(n=>{const u=r.findIndex(a=>Number(a.variant_id)===Number(n.variant_id));if(u===-1)r.push(n);else{const a=r[u];r[u]={...a,quantity:Number(a.quantity)+Number(n.quantity)}}}),r},gt=(t,e)=>{var r;return{shippings:t.orderIsDigital?[]:vu(t),billings:t.orderIsDigital?bu(t):[],history:t.orderHistoryEvent||[],poNumber:t.poNumber||"",status:t.status,statusCode:t.statusId,currencyCode:t.currencyCode,currency:((r=t.money)==null?void 0:r.currency_token)||"$",money:t.money,orderSummary:xu(t,e),payment:Su(t),orderComments:t.customerMessage,products:Pu(t),orderId:Number(t.id),customStatus:t.customStatus,ipStatus:Number(t.ipStatus)||0,invoiceId:Number(t.invoiceId||0),canReturn:t.canReturn,createdEmail:t.createdEmail,orderIsDigital:t.orderIsDigital,companyInfo:t.companyInfo}};var Lr={},Cu=ct;Object.defineProperty(Lr,"__esModule",{value:!0});var yt=Lr.default=void 0,ku=Cu(lt()),Au=s;yt=Lr.default=(0,ku.default)((0,Au.jsx)("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"NavigateBefore");var jr={},Iu=ct;Object.defineProperty(jr,"__esModule",{value:!0});var _t=jr.default=void 0,Tu=Iu(lt()),Du=s;_t=jr.default=(0,Tu.default)((0,Du.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext");const Sr=1e8;function Lu({onChange:t,color:e}){const r=ve(),n=ie(or),[u,a]=x.useState(Sr),[i,c]=x.useState(""),[p,m]=x.useState(!1),[y,h]=x.useState({rightId:"",leftId:""}),P=dt(),[M]=Ce();let D=0,b=0,A=null,k=null,L={offset:0};if(P!=null&&P.state){const _=P.state;D=(_==null?void 0:_.currentIndex)||0,b=(_==null?void 0:_.totalCount)||0,A=(_==null?void 0:_.beginDateAt)||null,k=(_==null?void 0:_.endDateAt)||null,L=(_==null?void 0:_.searchParams)||{offset:0}}const q=async()=>{var ne,J,I,X;m(!0);const E={...L,first:3,offset:u?u-1:0,beginDateAt:A||null,endDateAt:k||null,orderBy:"-createdAt"},{edges:j,totalCount:G}=n?await Jn(E):await Yn(E);let z="",F="",O="";u===G-1?(z="toRight",O=((ne=j[j.length-2])==null?void 0:ne.node.orderId)||0):u===0?(z="toLeft",F=((J=j[1])==null?void 0:J.node.orderId)||0):(O=((I=j[0])==null?void 0:I.node.orderId)||0,F=((X=j[2])==null?void 0:X.node.orderId)||0),h({leftId:O,rightId:F}),c(z),m(!1)};if(x.useEffect(()=>{if(b>0&&a(D),u===Sr)return;const _=D+(L.offset||0);a(_)},[L]),x.useEffect(()=>{u!==Sr&&q()},[u]),JSON.stringify(L)==="{}")return null;const T=()=>{a(u-1),t(y.leftId)},V=()=>{a(u+1),t(y.rightId)},w=u+1;return s.jsxs(te,{sx:{display:"flex",color:e},children:[!M&&s.jsxs(te,{sx:{display:"flex",alignItems:"center"},children:[r("orderDetail.pagination.order"),s.jsx(re,{sx:{m:1},children:w}),r("orderDetail.pagination.of"),s.jsx(te,{sx:{ml:1},children:b})]}),s.jsx($r,{onClick:T,disabled:b<=1||i==="toLeft"||p,children:s.jsx(yt,{sx:{color:e}})}),s.jsx($r,{onClick:V,disabled:b<=1||i==="toRight"||p,children:s.jsx(_t,{sx:{color:e}})})]})}const ju=()=>[{name:"return_reason",label:"Return reason",required:!0,xs:12,variant:"filled",size:"small",fieldType:"dropdown",default:"",options:[{label:"Received Wrong Product",value:"Received wrong product"},{label:"Wrong Product Ordered",value:"Wrong product ordered"},{label:"Not Satisfied With The Product",value:"Not satisfied with the product"},{label:"There Was A Problem With The Product",value:"There was a problem with the product"}]},{name:"return_action",label:"Return action",required:!0,xs:12,variant:"filled",size:"small",fieldType:"dropdown",default:"",options:[{label:"Repair",value:"Repair"},{label:"Replacement",value:"Replacement"},{label:"Store Credit",value:"Store credit"}]},{name:"return_comments",label:"Comment",required:!1,xs:12,rows:5,variant:"filled",size:"small",fieldType:"multiline",default:""}],Qr=de("div")(({isHeader:t,isMobile:e})=>({display:"flex",wordBreak:"break-word",padding:"8px 0 0",gap:"8px",flexWrap:e?"wrap":"initial",...t?{borderBottom:"1px solid #D9DCE9",paddingBottom:"8px",alignItems:"center"}:{alignItems:"flex-start"},...e?{borderTop:"1px solid #D9DCE9",padding:"12px 0 12px","&:first-of-type":{marginTop:"12px"}}:{}})),_e=de("div")(({width:t,padding:e="0",flexBasis:r,textAlignLocation:n})=>({display:"flex",flexGrow:t?0:1,flexShrink:t?0:1,alignItems:"flex-start",justifyContent:n==="right"?"flex-end":"flex-start",flexBasis:r,width:t,padding:e})),Je=de("div")(()=>({fontSize:"0.875rem",lineHeight:"1.5",color:"#263238"})),Nu=de("img")(()=>({width:"60px",borderRadius:"4px",flexShrink:0})),Ou=de("div")(()=>({fontSize:"0.75rem",lineHeight:"1.5",color:"#455A64"})),Eu={default:{width:"15%"}},Bu={default:{width:"100%",padding:"0 0 0 128px"}};function Ru(t){const{products:e,getProductQuantity:r=w=>w.editQuantity,onProductChange:n=()=>{},setCheckedArr:u=()=>{},setReturnArr:a=()=>{},textAlign:i="left",type:c}=t,p=ve(),[m]=Ce(),[y,h]=x.useState([]),[P,M]=x.useState([]),D=(w,_)=>{const E=parseFloat(_.toString())||0;return(parseInt(w.toString(),10)||0)*E},b=m?Bu:Eu,A=()=>{if([...y].length===e.length)h([]),M([]);else{const _=e.map(j=>j.variant_id),E=[];e.forEach((j,G)=>{E[G]={returnId:j.id,returnQty:Number(j.editQuantity)}}),h(_),M(E)}},k=(w,_,E)=>{const j=[...y],G=[...P],z=j.findIndex(O=>O===w),F=G.findIndex(O=>O.returnId===_);z!==-1?(j.splice(z,1),G.splice(F,1)):(j.push(w),G.push({returnId:_,returnQty:E})),h(j),M(G)},L=w=>y.includes(w),q=w=>_=>{const E=w,j=_.target.value;Number(j)>=0&&Number(j)<=1e6&&(E.editQuantity=j,c==="return"&&(Number(j)>Number(w.quantity)?(E.editQuantity=w.quantity,le.error(p("purchasedProducts.error.returnedQuantityShouldBeWithinThePurchase"))):(P.forEach(G=>{const z=G;z.returnId===w.id&&(z.returnQty=Number(j))}),a(P))),n([...e]))},T=w=>{["KeyE","Equal","Minus"].indexOf(w.code)>-1&&w.preventDefault()},V=w=>()=>{const _=w;(!w.editQuantity||Number(w.editQuantity)===0)&&(_.editQuantity="1",n([...e]))};return x.useEffect(()=>{u(y)},[y]),x.useEffect(()=>{a(P)},[P]),e.length>0?s.jsxs(te,{children:[!m&&s.jsxs(Qr,{isHeader:!0,isMobile:m,children:[s.jsx(br,{checked:y.length===e.length,onChange:A}),s.jsx(_e,{children:s.jsx(Je,{children:p("orderDetail.reorder.product")})}),s.jsx(_e,{textAlignLocation:i,...b.default,children:s.jsx(Je,{children:p("orderDetail.reorder.price")})}),s.jsx(_e,{textAlignLocation:i,...b.default,children:s.jsx(Je,{children:p("orderDetail.reorder.qty")})}),s.jsx(_e,{textAlignLocation:i,...b.default,children:s.jsx(Je,{children:p("orderDetail.reorder.total")})})]}),m&&s.jsx(Pn,{label:"Select all products",control:s.jsx(br,{checked:y.length===e.length,onChange:A}),sx:{paddingLeft:"0.6rem"}}),e.map(w=>s.jsxs(Qr,{isMobile:m,children:[s.jsx(br,{checked:L(w.variant_id),onChange:()=>k(w.variant_id,w.id,Number(w.editQuantity))}),s.jsxs(_e,{children:[s.jsx(Nu,{src:w.imageUrl||Ln}),s.jsxs(te,{sx:{marginLeft:"16px"},children:[s.jsx(re,{variant:"body1",color:"#212121",children:w.name}),s.jsx(re,{variant:"body1",color:"#616161",children:w.sku}),(w.product_options||[]).map(_=>s.jsx(Ou,{children:"".concat(_.display_name,": ").concat(_.display_value)},_.display_name))]})]}),s.jsxs(_e,{textAlignLocation:i,padding:"10px 0 0",...b.default,children:[m&&s.jsxs("span",{children:[p("orderDetail.reorder.price")," "]}),er(w.base_price)]}),s.jsx(_e,{textAlignLocation:i,...b.default,children:s.jsx(Cn,{type:"number",variant:"filled",hiddenLabel:!m,label:m?p("orderDetail.reorder.qty"):"",value:r(w),onChange:q(w),onKeyDown:T,onBlur:V(w),size:"small",sx:{width:m?"60%":"80px","& .MuiFormHelperText-root":{marginLeft:"0",marginRight:"0"}},error:!!w.helperText,helperText:w.helperText})}),s.jsxs(_e,{textAlignLocation:i,padding:"10px 0 0",...b.default,children:[m&&s.jsxs("span",{children:[p("orderDetail.reorder.total")," "]}),er(D(r(w),w.base_price))]})]},w.sku))]}):null}const Mu=()=>{const t=zn.get("XSRF-TOKEN");if(t)return decodeURIComponent(t)};function zu({open:t,products:e=[],type:r,currentDialogData:n=void 0,setOpen:u,itemKey:a,orderId:i}){const c=ie(or),[p,m]=x.useState(!1),[y,h]=x.useState(!1),[P,M]=x.useState([]),[D,b]=x.useState([]),[A,k]=x.useState(!1),[L,q]=x.useState([]),[T,V]=x.useState([]),[w]=x.useState(ju()),[_]=Ce(),{control:E,handleSubmit:j,getValues:G,formState:{errors:z},setValue:F}=ou({mode:"all"}),O=ve(),ne=()=>{u(!1)},J=async(N,K,B)=>{if(!Object.keys(N).length||!K.length){le.error(O("purchasedProducts.error.selectOneItem"));return}const ee=K.reduce((ae,ye)=>{const Me=ae,ze="return_qty[".concat(ye.returnId,"]");return Me[ze]=ye.returnQty,ae},N);ee.authenticity_token=Mu(),ee.order_id=B;const $=new URLSearchParams(ee),Z={method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},referrer:"".concat(Hr,"/account.php?action=new_return&order_id=").concat(B),body:$,mode:"no-cors"};try{k(!0);const ae=await fetch("".concat(Hr,"/account.php?action=save_new_return"),Z);ae.status===200&&ae.url.includes("saved_new_return")?le.success(O("purchasedProducts.success.successfulApplication")):le.error("purchasedProducts.error.failedApplication"),k(!1),ne()}catch(ae){Dr.error(ae)}},I=()=>{j(N=>{J(N,T,i)})()},X=(N,K)=>{let B=!0;return K.forEach(ee=>{const $=(N||[]).find(qe=>qe.variantSku.toUpperCase()===ee.toUpperCase()),Z=P.find(qe=>qe.sku===ee);if(!$||!Z)return;const{maxQuantity:ae=0,minQuantity:ye=0,stock:Me=0,isStock:ze="0"}=$,Ue=(Z==null?void 0:Z.editQuantity)||1;ze==="1"&&Ue>Me?(Z.helperText=O("purchasedProducts.outOfStock"),B=!1):ye!==0&&Ue<ye?(Z.helperText=O("purchasedProducts.minQuantity",{minQuantity:ye}),B=!1):ae!==0&&Ue>ae?(Z.helperText=O("purchasedProducts.maxQuantity",{maxQuantity:ae}),B=!1):Z.helperText=""}),B||M([...P]),B},l=async()=>{k(!0);try{const N=[],K=[];if(P.forEach($=>{L.includes($.variant_id)&&(N.push({quantity:parseInt("".concat($.editQuantity),10)||1,productId:$.product_id,variantId:$.variant_id,optionSelections:($.product_options||[]).map(Z=>({optionId:Z.product_option_id,optionValue:Z.value})),allOptions:$.product_options}),K.push($.sku))}),K.length<=0)return;if(!X(D,K)){le.error(O("purchasedProducts.error.fillCorrectQuantity"));return}const B=await Rn(N);B&&(B.data.cart.createCart||B.data.cart.addCartLineItems)?(u(!1),le.success("",{jsx:Xr({message:O("orderDetail.reorder.productsAdded"),link:Mn,linkText:O("orderDetail.viewCart"),isOutLink:!0,isCustomEvent:!0}),isClose:!0}),cu()):B.errors&&le.error(B.errors[0].message,{isClose:!0})}catch(N){if(N instanceof Error)le.error(N.message,{isClose:!0});else if(typeof N=="object"&&N!==null&&"detail"in N){const K=N;le.error(K.detail,{isClose:!0})}}finally{k(!1)}},d=()=>{if(L.length===0&&le.error(O("purchasedProducts.error.selectOneItem")),r==="shoppingList"){if(L.length===0)return;ne(),h(!0)}r==="reOrder"&&l(),r==="return"&&I()},f=()=>{m(!1),h(!0)},C=()=>{h(!1)},v=async N=>{k(!0);try{const B=P.map($=>{const{product_id:Z,variant_id:ae,editQuantity:ye,product_options:Me}=$;return{productId:Number(Z),variantId:ae,quantity:Number(ye),optionList:Me.map(ze=>{const{product_option_id:Ue,value:qe}=ze;return{optionId:"attribute[".concat(Ue,"]"),optionValue:qe}})}}).filter($=>L.includes(Number($.variantId)));await(c?Nn:On)({shoppingListId:Number(N),items:B}),le.success("",{jsx:Xr({message:O("orderDetail.addToShoppingList.productsAdded"),link:"/shoppingList/".concat(N),linkText:O("orderDetail.viewShoppingList")}),isClose:!0}),h(!1)}finally{k(!1)}},W=()=>{h(!1),m(!0)},ce=()=>{m(!1),h(!0)};x.useEffect(()=>{if(!t)return;M(e.map(K=>({...K,editQuantity:K.quantity}))),(async()=>{const B=e.filter(Z=>Z==null?void 0:Z.isVisible).map(Z=>Z.sku);if(B.length===0)return;const ee={skus:B},{variantSku:$=[]}=c?await En(ee):await Bn(ee);b($)})()},[c,t,e]);const xe=N=>{M(N)};return s.jsxs(s.Fragment,{children:[s.jsx(te,{sx:{ml:3,width:"50%"},children:s.jsxs(jn,{isOpen:t,fullWidth:!0,handleLeftClick:ne,handRightClick:d,title:(n==null?void 0:n.dialogTitle)||"",rightSizeBtn:(n==null?void 0:n.confirmText)||"Save",maxWidth:"md",loading:A,children:[s.jsx(re,{sx:{margin:_?"0 0 1rem":"1rem 0"},children:(n==null?void 0:n.description)||""}),s.jsx(Ru,{products:P,onProductChange:xe,setCheckedArr:q,setReturnArr:V,textAlign:_?"left":"right",type:r}),r==="return"&&s.jsxs(s.Fragment,{children:[s.jsx(re,{variant:"body1",sx:{margin:"20px 0"},children:O("purchasedProducts.orderDialog.additionalInformation")}),s.jsx(su,{formFields:w,errors:z,control:E,getValues:G,setValue:F})]})]})}),a==="order-summary"&&s.jsx(pu,{isOpen:y,dialogTitle:O("purchasedProducts.orderDialog.addToShoppingList"),onClose:C,onConfirm:v,onCreate:W,isLoading:A,setLoading:k}),a==="order-summary"&&s.jsx(lu,{open:p,onChange:f,onClose:ce})]})}const Uu=de("div")(()=>({})),qu=de("div")(t=>({flexWrap:"wrap",padding:t.isShowButtons?"0 1rem 1rem 1rem":0,"& button":{marginLeft:"0",marginRight:"8px",margin:"8px 8px 0 0"}})),Wu=de("div")(t=>({display:"flex",justifyContent:"space-between",fontWeight:t.nameKey==="grandTotal"?700:400,"& p":{marginTop:0,marginBottom:t.nameKey==="grandTotal"?"0":"12px",lineHeight:1}})),Fu=de("div")(()=>({display:"flex",justifyContent:"space-between",fontWeight:400}));function Gu(t){const{header:e,subtitle:r,buttons:n,infos:u,products:a,itemKey:i,orderId:c,role:p,invoiceId:m,ipStatus:y,isCurrentCompany:h,switchCompanyId:P}=t,M=["coupon","discountAmount"],D=ve(),b=ie(({b2bFeatures:I})=>I.masqueradeCompany.isAgenting),A=[{dialogTitle:D("orderDetail.orderCard.reorder"),type:"reOrder",description:D("orderDetail.orderCard.reorderDescription"),confirmText:D("orderDetail.orderCard.reorderConfirmText")},{dialogTitle:D("orderDetail.orderCard.return"),type:"return",description:D("orderDetail.orderCard.returnDescription"),confirmText:D("orderDetail.orderCard.returnConfirmText")},{dialogTitle:D("orderDetail.orderCard.addToShoppingList"),type:"shoppingList",description:D("orderDetail.orderCard.addToShoppingListDescription"),confirmText:D("orderDetail.orderCard.addToShoppingListConfirmText")}],k=ft(),[L,q]=x.useState(!1),[T,V]=x.useState(!1),[w,_]=x.useState(""),[E,j]=x.useState(),G=n.filter(I=>I.isCanShow).length>0;let z=[],F=[];if(typeof u!="string"){const{info:I}=u;z=Object.keys(I),F=Object.values(I)}const O=()=>!h&&P?(q(!0),!0):!1,ne=I=>{if(I==="viewInvoice")y!==0?k("/invoice?invoiceId=".concat(m)):wu(c,"b2b_print_invoice");else if(I==="printInvoice")window.open("/account.php?action=print_invoice&order_id=".concat(c));else{if(O())return;if(!b&&Number(p)===3){le.error(D("orderDetail.orderCard.errorMasquerade"));return}V(!0),_(I);const l=A.find(d=>d.type===I);j(l)}};let J=F==null?void 0:F.map(I=>s.jsx(Fu,{children:I},I));if(typeof u=="string")J=u;else if(u!=null&&u.money){const I=(u==null?void 0:u.symbol)||{};J=z==null?void 0:z.map((X,l)=>s.jsxs(x.Fragment,{children:[I[X]==="grandTotal"&&s.jsx(kn,{sx:{marginBottom:"1rem",marginTop:"0.5rem"}}),s.jsxs(Wu,{nameKey:I[X],children:[s.jsx("p",{id:"item-name-key",children:X}),M.includes(I[X])?s.jsx("p",{children:u!=null&&u.money?"-".concat(Vr(u.money,F[l])):"-".concat(er(F[l]))}):s.jsx("p",{children:u!=null&&u.money?Vr(u.money,F[l]):er(F[l])})]},X)]},X))}return s.jsxs(ar,{sx:{marginBottom:"1rem"},children:[s.jsxs(te,{sx:{padding:"1rem 1rem 0 1rem"},children:[s.jsx(re,{variant:"h5",children:e}),r&&s.jsx("div",{children:r})]}),s.jsx(ir,{children:s.jsx(te,{sx:{"& #item-name-key":{maxWidth:"70%",wordBreak:"break-word"}},children:J})}),s.jsx(qu,{isShowButtons:G,children:n&&n.map(I=>s.jsx(x.Fragment,{children:I.isCanShow&&s.jsx(Fn,{value:I.value,name:I.name,variant:I.variant,onClick:au(()=>{ne(I.name)},2e3),children:I.value},I.key)},I.key))}),s.jsx(zu,{open:T,products:a,currentDialogData:E,type:w,setOpen:V,itemKey:i,orderId:Number(c)}),s.jsx(iu,{open:L,currentRow:{companyId:Number(P||0)},handleClose:()=>q(!1),title:D("orderDetail.switchCompany.title"),context:D("orderDetail.switchCompany.content.tipsText"),dialogParams:{rightSizeBtn:D("global.B2BSwitchCompanyModal.confirm.button")}})]})}function Zu(t){const{detailsData:e,isCurrentCompany:r}=t,n=ve(),u=ie(or),a=ie(({company:v})=>v.customer.emailAddress),i=ie(({company:v})=>v.customer.role),c=ie(Un),{state:{shoppingListEnabled:p=!1}}=x.useContext(pt),{state:{addressLabelPermission:m,createdEmail:y}}=x.useContext(Ee),{money:h,orderSummary:{createAt:P,name:M,priceData:D,priceSymbol:b}={},payment:{billingAddress:A,paymentMethod:k,dateCreateAt:L}={},orderComments:q="",products:T,orderId:V,ipStatus:w=0,invoiceId:_,poNumber:E,customerId:j,companyInfo:{companyId:G}={}}=e,z=x.useCallback(()=>{let v="";return P&&(E?v=n("orderDetail.paidWithPo",{paidDate:xr(P,!0)}):v=n("orderDetail.paidInFull",{paidDate:xr(P,!0)})),v},[E,P,n]);if(!V)return null;const{purchasabilityPermission:F,shoppingListCreateActionsPermission:O}=c,{getInvoicesPermission:ne}=qn,J=Wn({code:ne,companyId:G?Number(G):0,userId:j?Number(j):0}),I=v=>{if(m)return v;const W=v.indexOf("/");return v.substring(W+1,v.length)},X=v=>{if(!v)return{};const{first_name:W,last_name:ce,company:xe,street_1:N,state:K,zip:B,country:ee,city:$}=v||{};return{paymentMethod:n("orderDetail.paymentMethod",{paymentMethod:k!=null?k:""}),name:n("orderDetail.customerName",{firstName:W,lastName:ce}),company:I(xe),street:N,address:n("orderDetail.customerAddress",{city:$,state:K,zip:B,country:ee})}},l=v=>{const W=v.split(/\n/g),ce={},xe=["-------------------------------------"];return W.forEach((N,K)=>{if(N.trim().length>0){let ee=N.trim().includes(":")?N:n("orderDetail.itemComments",{item:N});xe.includes(N)&&(ee=N),ce["mes".concat(K)]=ee}}),ce},d=[{value:n("orderDetail.reorder"),key:"Re-Order",name:"reOrder",variant:"outlined",isCanShow:u?F:!0},{value:n("orderDetail.return"),key:"Return",name:"return",variant:"outlined",isCanShow:!1},{value:n("orderDetail.addToShoppingList"),key:"add-to-shopping-list",name:"shoppingList",variant:"outlined",isCanShow:u?O&&p:p}],f=Number(w)!==0||y===a,C=[{header:n("orderDetail.summary"),key:"order-summary",subtitle:L&&M?n("orderDetail.purchaseDetails",{name:M,updatedAt:xr(Number(L))}):"",buttons:d,infos:{money:h,info:D||{},symbol:b||{}}},{header:n("orderDetail.payment"),key:"payment",subtitle:z(),buttons:[{value:n(u?"orderDetail.viewInvoice":"orderDetail.printInvoice"),key:"aboutInvoice",name:u?"viewInvoice":"printInvoice",variant:"outlined",isCanShow:u?f&&J:f}],infos:{info:X(A)}},{header:n("orderDetail.comments"),key:"order-comments",subtitle:"",buttons:[],infos:{info:l(q)}}];return s.jsx(Uu,{children:C&&C.map(v=>x.createElement(Gu,{products:T,orderId:V.toString(),...v,itemKey:v.key,role:i,ipStatus:w,invoiceId:_,key:v.key,isCurrentCompany:r,switchCompanyId:G}))})}function Ku({isCurrentCompany:t}){const{state:{billings:e=[],addressLabelPermission:r,orderId:n,orderIsDigital:u}}=x.useContext(Ee),[a]=Ce(),i=m=>{const{billingAddress:y}=m;if(y){const{first_name:h,last_name:P}=y;return"".concat(h," ").concat(P)}return""},c=m=>{const{billingAddress:y}=m;if(y){const{street_1:h,city:P,state:M,zip:D,country:b}=y;return"".concat(h,", ").concat(P,", ").concat(M," ").concat(D,", ").concat(b)}return""},p=m=>{if(r)return m;const y=m.indexOf("/");return m.substring(y+1,m.length)};return u?s.jsx(Tr,{spacing:2,children:e.map(m=>s.jsx(ar,{children:s.jsxs(ir,{children:[s.jsxs(te,{sx:{wordBreak:"break-word",color:"rgba(0, 0, 0, 0.87)"},children:[s.jsxs(re,{variant:"h6",sx:{fontSize:"24px",fontWeight:"400"},children:[i(m)," – ",p(m.billingAddress.company||"")]}),s.jsx(re,{variant:"h6",sx:{fontSize:"24px",fontWeight:"400"},children:c(m)})]}),s.jsx(Cr,{products:m.products,totalText:"Total",canToProduct:t,textAlign:a?"left":"right"})]})},"billing-".concat(n)))}):null}const $u=de("div")(()=>({"& > .MuiPaper-root":{boxShadow:"none"},"& table":{"& td, & th":{"&:first-of-type":{paddingLeft:0}}}}));function Hu(){const t=ve(),{state:{history:e=[],orderStatus:r=[],customStatus:n}}=x.useContext(Ee),[u]=Ce(),a=c=>{const p=r.find(y=>y.systemLabel===c);let m=(p==null?void 0:p.customLabel)||n;if(p){const y=mt[p.systemLabel];m=y&&t(y)!==p.systemLabel?t(y):m}return m},i=[{key:"time",title:t("orderDetail.history.dateHeader"),render:c=>"".concat(Gn(c.createdAt)),width:u?"100px":"200px"},{key:"code",title:t("orderDetail.history.statusHeader"),render:c=>s.jsx(ht,{code:c.status,text:a(c.status)})}];return e.length>0?s.jsx(ar,{children:s.jsxs(ir,{sx:{paddingBottom:"50px"},children:[s.jsx(re,{variant:"h5",children:t("orderDetail.history.title")}),s.jsx($u,{children:s.jsx(Zn,{columnItems:i,listItems:e,showPagination:!1})})]})}):null}var vt={};const Vu="Amazon",Xu="amazon",Qu=[{name:"Amazon Logistics",id:"amazon_logistics",regex:["\\s*T\\s*B\\s*A\\s*(?<SerialNumber>([0-9]\\s*){12,12})\\s*"],validation:{},test_numbers:{valid:["TBA000000000000","TBA010000000000","TBA 000000000000","TBA502887274000"],invalid:["TBA50288727400A","000000000000000","000000000000","TBB000000000000"]}},{name:"Amazon International",id:"amazon_international",regex:["\\s*[AFC]\\s*(?<SerialNumber>([0-9]\\s*){10,10})\\s*"],validation:{},test_numbers:{valid:["C1004444443","C1004444444"],invalid:["D1234567890"]}}],Ju={name:Vu,courier_code:Xu,tracking_numbers:Qu},Yu="DHL",ea="dhl",ra=[{name:"DHL Express",id:"dhl_express",regex:"\\s*(?<SerialNumber>([0-9]\\s*){9,10})(?<CheckDigit>([0-9]\\s*))",validation:{checksum:{name:"mod7"}},tracking_url:"http://www.dhl.com/en/express/tracking.html?brand=DHL&AWB=%s",test_numbers:{valid:["3318810025","73891051146","8487135506","1099255990","3821724944","3318810036","3318810014"],invalid:["3318810010","3318810034","3318810011"]}},{name:"DHL Express (Piece ID)",id:"dhl_express_piece_id",regex:"\\s*(J[A-Z]{2,3})(?<SerialNumber>([0-9]\\s*){9,10})",validation:{},tracking_url:"http://www.dhl.com/en/express/tracking.html?brand=DHL&AWB=%s",test_numbers:{valid:["JJD0099999999","JVGL0999999990"],invalid:["XJD0099999998"]}},{name:"DHL E-Commerce",id:"dhl_ecommerce",regex:"\\s*((GM)|(LX)|(RX)|(UV)|(CN)|(SG)|(TH)|(IN)|(HK)|(MY))\\s*(?<SerialNumber>([0-9]\\s*){10,39})",validation:{},tracking_url:"http://www.dhl.com/en/express/tracking.html?brand=DHL&AWB=%s",test_numbers:{valid:["GM2951173225174494","GM 2 9 5 117 32 25 1 7 44 9 4","GM295117494011169042"],invalid:["GS295117494011169041","GR295117494011169045"]}}],ta={name:Yu,courier_code:ea,tracking_numbers:ra},na="FedEx",ua="fedex",aa=[{name:"FedEx Express (12)",id:"fedex_12",regex:"\\s*(?<SerialNumber>([0-9]\\s*){11})(?<CheckDigit>[0-9]\\s*)",validation:{checksum:{name:"sum_product_with_weightings_and_modulo",weightings:[3,1,7,3,1,7,3,1,7,3,1],modulo1:11,modulo2:10}},tracking_url:"https://www.fedex.com/apps/fedextrack/?tracknumbers=%s",test_numbers:{valid:["986578788855","477179081230","799531274483","790535312317"," 7 9 0 5 3 5 3 1 2 3 1 7 ","974367662710"],invalid:["996578788855"]}},{name:"FedEx Express (34)",id:"fedex_34",regex:["\\s*1\\s*0\\s*[0-9]\\s*[0-9]\\s*[0-9]\\s*","([0-9]\\s*){10}","(?<DestinationZip>([0-9]\\s*){5})","(?<SerialNumber>([0-9]\\s*){13})","(?<CheckDigit>[0-9]\\s*)"],validation:{checksum:{name:"sum_product_with_weightings_and_modulo",weightings:[1,7,3,1,7,3,1,7,3,1,7,3,1],modulo1:11,modulo2:10}},tracking_url:"https://www.fedex.com/apps/fedextrack/?tracknumbers=%s",test_numbers:{valid:["1001921334250001000300779017972697","1001921380360001000300639585804382","1001901781990001000300617767839437"," 1 0 0 1 9 0 1 7 8 1 9 9 0 0 0 1 0 0 0 3 0 0 6 1 7 7 6 7 8 3 9 4 3 7 ","1002297871540001000300790695517286","1027590111820004833500785458233610"],invalid:["1001901781990001000300617767839438"]}},{name:"FedEx SmartPost",id:"fedex_smartpost",description:"Shipped by FedEx, Delivered by USPS",regex:["\\s*(?:","(?:(?<RoutingApplicationId>4\\s*2\\s*0\\s*)(?<DestinationZip>([0-9]\\s*){5}))?","(?<ApplicationIdentifier>9\\s*2\\s*)",")?","(?<SerialNumber>","(?<SCNC>([0-9]\\s*){2})","(?<ServiceType>2\\s*9\\s*)","(?<ShipperId>([0-9]\\s*){8})","(?<PackageId>([0-9]\\s*){11}|([0-9]\\s*){7})",")","(?<CheckDigit>([0-9]\\s*))"],additional:[{name:"Service Type",regex_group_name:"ServiceType",lookup:[{matches_regex:".",name:"Delivered by USPS"}]}],partners:[{partner_id:"usps_91",partner_type:"carrier",description:"FedEx SmartPost is a shipping service that utilizes FedEx for the initial transport and the United States Postal Service for final delivery."}],validation:{checksum:{name:"mod10",evens_multiplier:3,odds_multiplier:1},serial_number_format:{prepend_if:{matches_regex:"^(?!92).+",content:"92"}}},tracking_url:"https://www.fedex.com/apps/fedextrack/?tracknumbers=%s",test_numbers:{valid:["61299998820821171811","9261292700768711948021","420 11213 92 6129098349792366623 8","92 6129098349792366623 8","6129098349792366623 8"],invalid:["9261292700768711948020","92001903060085300042901077","420 11213 61290983497923666231","92 6129098349792366623 5","9400 1112 0108 0805 4830 16","9361 2898 7870 0317 6337 95"]}},{name:"FedEx Ground",id:"fedex_ground",regex:"\\s*(?<SerialNumber>([0-9]\\s*){14})(?<CheckDigit>([0-9]\\s*))",validation:{checksum:{name:"mod10",evens_multiplier:1,odds_multiplier:3}},tracking_url:"https://www.fedex.com/apps/fedextrack/?tracknumbers=%s",test_numbers:{valid:["0414 4176 0228 964","5682 8361 0012 000"," 5 6 8 2   8 3 6 1   0 0 1 2   0 0 0 ","5682 8361 0012 734"],invalid:["5682 8361 0012 732"]}},{name:"FedEx Ground (SSCC-18)",id:"fedex_ground_sscc_18",regex:"\\s*(?<ShippingContainerType>([0-9]\\s*){2})(?<SerialNumber>([0-9]\\s*){15})(?<CheckDigit>[0-9]\\s*)",tracking_url:"https://www.fedex.com/apps/fedextrack/?tracknumbers=%s",validation:{checksum:{name:"mod10",evens_multiplier:3,odds_multiplier:1}},test_numbers:{valid:["00 0123 4500 0000 0027"," 0 0   0 1 2 3   4 5 0 0   0 0 0 0   0 0 2 7 "],invalid:["000000000000000001"]},additional:[{name:"Container Type",regex_group_name:"ShippingContainerType",lookup:[{matches:"00",name:"case/carton"},{matches:"01",name:"pallet"},{matches:"02",name:"larger than a pallet"},{matches:"04",name:"internally defined for intra-company use"}]}]},{name:"FedEx Ground 96 (22)",id:"fedex_ground_96",regex:["\\s*(?<ApplicationIdentifier>9\\s*6\\s*)","(?<SCNC>([0-9]\\s*){2})","(?<ServiceType>([0-9]\\s*){3})","(?<SerialNumber>(?<ShipperId>([0-9]\\s*){7})(?<PackageId>([0-9]\\s*){7}))","(?<CheckDigit>[0-9]\\s*)"],validation:{checksum:{name:"mod10",evens_multiplier:1,odds_multiplier:3}},tracking_url:"https://www.fedex.com/apps/fedextrack/?tracknumbers=%s",test_numbers:{valid:["9611020987654312345672"," 9 6 1 1 0 2 0 9 8 7 6 5 4 3 1 2 3 4 5 6 7 2 "],invalid:["9600000000000000000001"]}},{name:"FedEx Ground GSN",id:"fedex_ground_gsn",regex:["\\s*(?<ApplicationIdentifier>9\\s*6\\s*)","(?<SCNC>([0-9]\\s*){2})","([0-9]\\s*){5}","(?<GSN>([0-9]\\s*){10})","[0-9]\\s*","(?<SerialNumber>([0-9]\\s*){13})","(?<CheckDigit>[0-9]\\s*)"],validation:{checksum:{name:"sum_product_with_weightings_and_modulo",weightings:[1,7,3,1,7,3,1,7,3,1,7,3,1],modulo1:11,modulo2:10}},tracking_url:"https://www.fedex.com/apps/fedextrack/?tracknumbers=%s",test_numbers:{valid:["9622001900000000000000776632517510","9622001560000000000000794808390594","9622001560001234567100794808390594"," 9 6 2 2 0 0 1 5 6 0 0 0 1 2 3 4 5 6 7 1 0 0 7 9 4 8 0 8 3 9 0 5 9 4 ","9632001560123456789900794808390594"],invalid:["9622001560001234567100794808390595","9622001560001234567100794808390597"]}}],ia={name:na,courier_code:ua,tracking_numbers:aa},oa="OnTrac",sa="ontrac",ca=[{name:"OnTrac",id:"ontrac_c",regex:"\\s*C\\s*(?<SerialNumber>([0-9]\\s*){13})(?<CheckDigit>[0-9]\\s*)",validation:{checksum:{name:"mod10",evens_multiplier:1,odds_multiplier:2},serial_number_format:{prepend_if:{matches_regex:"^(?!4).+$",content:"4"}}},tracking_url:"http://www.ontrac.com/tracking/?number=%s",test_numbers:{valid:["C11031500001879","C 110 31 500 00187 9","C10999911320231","C11121552953069","C11121553156000","C11121552829468"],invalid:["C10000000000000","C11031500001889"]}},{name:"OnTrac D",id:"ontrac_d",regex:"\\s*D\\s*(?<SerialNumber>([0-9]\\s*){13})(?<CheckDigit>[0-9]\\s*)",validation:{checksum:{name:"mod10",evens_multiplier:1,odds_multiplier:2},serial_number_format:{prepend_if:{matches_regex:"^(?!5).+$",content:"5"}}},tracking_url:"http://www.ontrac.com/tracking/?number=%s",test_numbers:{valid:["D10011354453707","D10011345983010","D 100 113 459 830 10","D10011342332145"],invalid:["D10011345983012","D10011342332144"]}}],la={name:oa,courier_code:sa,tracking_numbers:ca},pa="S10 International Standard",ha="s10",ma=[{id:"s10",name:"S10",validation:{checksum:{name:"s10"},additional:{exists:["Courier"]}},regex:"\\s*(?<ServiceType>([A-Z]\\s*){2})(?<SerialNumber>([0-9]\\s*){8})(?<CheckDigit>([0-9]\\s*))(?<CountryCode>([A-Z]\\s*){2})",tracking_url:null,test_numbers:{valid:["RB123456785GB","RB123456785US","RB123456785CV","RB123456785CF"],invalid:["RB123456786US","RB123456785XX"]},additional:[{name:"Service Type",regex_group_name:"ServiceType",lookup:[{name:"EMS",matches_regex:"E[A-Z]",description:"International Express Mail Service"},{name:"Letter Post Express",matches_regex:"L[A-Z]",description:""},{name:"Letter Post M-bag",matches_regex:"M[A-Z]",description:"Direct sacks of printed matter sent to a single foreign addressee at a single address"},{name:"Letter Post IBRS",matches_regex:"Q[A-M]",description:"International Business Reply Service"},{name:"Letter Post Registered",matches_regex:"R[A-Z]",description:"Prepaid first-class mail that is recorded by the post office before being sent and at each point along its route to safeguard against loss, theft, or damage."},{name:"Letter Post Misc",matches_regex:"U[A-Z]",description:""},{name:"Letter Post Insured",matches_regex:"V[A-Z]",description:""},{name:"Parcel Post",matches_regex:"C[A-Z]",description:""},{name:"Parcel Post (e-commerce)",matches_regex:"H[A-Z]",description:""},{name:"Domestic",matches_regex:"([BDNPZ][A-Z]|A[V-Z]|G[AD])",description:"Mail designated for domestic, bilateral, or multilateral use"}]},{name:"Courier",regex_group_name:"CountryCode",lookup:[{matches:"AF",country:"Afghanistan",courier:"Afghan Post",courier_url:"http://postalcode.afghanpost.gov.af/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/afghanistan.html"},{matches:"AL",country:"Albania",courier:"Posta Shqiptare",courier_url:"http://www.postashqiptare.al/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/albania.html"},{matches:"DZ",country:"Algeria",courier:"Algérie Poste",courier_url:"http://www.poste.dz/codepostal/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/algeria.html"},{matches:"AO",country:"Angola",courier:"Correios de Angola",courier_url:"http://www.correiosdeangola.co.ao/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/angola.html"},{country:"Antigua and Barbuda",matches:"AG",courier:"Antigua Postal Services",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/antigua-and-barbuda.html"},{matches:"AR",country:"Argentina",courier:"Correo Argentino",courier_url:"http://www.correoargentino.com.ar/formularios/cpa",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/argentina.html"},{matches:"AM",country:"Armenia",courier:"Haypost - Armenian Postal Service",courier_url:"http://www.haypost.am/view-lang-eng-page-25.html",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/armenia.html"},{matches:"AU",country:"Australia",courier:"Australia Post",courier_url:"http://www1.auspost.com.au/postcodes/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/australia.html"},{matches:"AT",country:"Austria",courier:"Österreichische Post AG",courier_url:"http://www.post.at/en/index.php",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/austria.html"},{matches:"AZ",country:"Azerbaijan",courier:"Azarpoçt",courier_url:"http://www.azerpost.az/?options=content&id=188&language=en",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/azerbaijan.html"},{matches:"BS",country:"Bahamas",courier:"Bahamas Postal Service",courier_url:"http://www.bahamas.gov.bs/postalservice",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/bahamas.html"},{matches:"BH",country:"Bahrain",courier:"Bahrain Post",courier_url:"http://www.transportation.gov.bh/en/modules.php?name=Content&pa=showpage&pid=97",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/bahrain.html"},{matches:"BD",country:"Bangladesh",courier:"Bangladesh Post Office",courier_url:"http://www.bangladeshpost.gov.bd/PostCode.asp",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/bangladesh.html"},{matches:"BB",country:"Barbados",courier:"Barbados Postal Service",courier_url:"http://www.bps.gov.bb/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/barbados.html"},{matches:"BY",country:"Belarus",courier:"Belpochta",courier_url:"http://zip.belpost.by/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/belarus.html"},{matches:"BE",country:"Belgium",courier:"bpost",courier_url:"http://www.bpost.be/site/fr/residential/customerservice/search/postal_codes.html",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/belgium.html"},{matches:"BZ",country:"Belize",courier:"Belize Postal Service",courier_url:"http://www.belizepostalservice.gov.bz/site/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/belize.html"},{matches:"BJ",country:"Benin",courier:"La Poste du Bénin",courier_url:"http://www.laposte.bj/index1.php?id_page=1",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/benin.html"},{matches:"BT",country:"Bhutan",courier:"Bhutan Post",courier_url:"http://www.bhutanpost.com.bt/postcode/postcode.php",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/bhutan.html"},{matches:"BO",country:"Bolivia",courier:"ECOBOL – Empresa de Correos de Bolivia",courier_url:"http://www.correosbolivia.com/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/bolivia.html"},{matches:"BA",country:"Bosnia and Herzegovina",courier:"JP BH POŠTA d.o.o. Sarajevo",courier_url:"http://www.post.ba/postanski_brojevi_bih.php",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/bosnia-and-herzegovina.html"},{matches:"BW",country:"Botswana",courier:"BotswanaPost",courier_url:"http://www.botspost.co.bw/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/botswana.html"},{matches:"BR",country:"Brazil",courier:"CORREIOS",courier_url:"http://www.buscacep.correios.com.br/servicos/dnec/index.do",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/brazil.html"},{matches:"BN",country:"Brunei Darussalam",courier:"Brunei Postal Services",courier_url:"http://www.post.gov.bn/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/brunei-darussalam.html"},{matches:"BG",country:"Bulgaria (Rep.)",courier:"Bulgarian Posts",courier_url:"http://www.bgpost.bg/?cid=131",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/bulgaria-rep.html"},{matches:"BF",country:"Burkina Faso",courier:"SONAPOST",courier_url:"http://www.sonapost.bf/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/burkina-faso.html"},{matches:"BI",country:"Burundi",courier:"RNP – Régie nationale des postes",courier_url:"http://www.poste.bi/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/burundi.html"},{matches:"KH",country:"Cambodia",courier:"Ministry of Posts and Telecommunications",courier_url:"http://www.mptc.gov.kh/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/cambodia.html"},{matches:"CM",country:"Cameroon",courier:"CAMPOST – Cameroon Postal Services",courier_url:"http://campostonline.com/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/cameroon.html"},{matches:"CA",country:"Canada",courier:"Canada Post",courier_url:"http://www.canadapost.ca/cpotools/apps/fpc/personal/findByCity?execution=e1s1",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/canada.html"},{country:"Cape Verde",matches:"CV",courier:"Correios de Cabo Verde",courier_url:"http://www.correios.cv/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/cape-verde.html"},{country:"Central African Rep.",matches:"CF",courier:"Direction des services postaux de l'Office National des Postes et de l'Épargne",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/central-african-rep.html"},{matches:"TD",country:"Chad",courier:"Société tchadienne des postes et de l'épargne",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/chad.html"},{matches:"CL",country:"Chile",courier:"Correos de Chile",courier_url:"http://www.correos.cl/SitePages/home.aspx",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/chile.html"},{matches:"CN",country:"China (People's Rep.)",courier:"China Post",courier_url:"http://www.cpdc.com.cn/web/index.php?m=postsearch&c=index&a=init&t=addr",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/china-peoples-rep.html"},{matches:"HK",country:"China",courier:"Hong Kong Post",courier_url:"http://www.hongkongpost.hk",upu_reference_url:""},{matches:"CO",country:"Colombia",courier:"4-72 La Red Postal de Colombia",courier_url:"http://visor.codigopostal.gov.co/472/visor/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/colombia.html"},{matches:"KM",country:"Comoros",courier:"Societé Nationale des Postes et des Services Financiers",courier_url:"http://www.lapostecomores.com/bureaux.php",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/comoros.html"},{matches:"CG",country:"Congo (Rep.)",courier:"Congolese Posts and Savings Company",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/congo-rep.html"},{country:"Costa Rica",matches:"CR",courier:"Correos de Costa Rica",courier_url:"https://www.correos.go.cr/nosotros/codigopostal/busqueda.html",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/costa-rica.html"},{matches:"HR",country:"Croatia",courier:"Hrvatska Posta - Croatian Post",courier_url:"http://www.posta.hr/default.aspx?pretpum&id=3417",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/croatia.html"},{matches:"CU",country:"Cuba",courier:"Ministerio de la Informática y las comunicaciones de Cuba",courier_url:"http://www.mic.gov.cu/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/cuba.html"},{matches:"CY",country:"Cyprus",courier:"Cyprus Post",courier_url:"http://www.mcw.gov.cy/mcw/dps/dps.nsf/index_en/index_en?OpenDocument",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/cyprus.html"},{matches:"CZ",country:"Czech Rep.",courier:"Česká Pošta",courier_url:"http://psc.cpost.cz/CleanForm.action?request_locale=en",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/czech-rep.html"},{matches:"CI",country:"Côte d'Ivoire (Rep.)",courier:"La Poste de Côte d’Ivoire",courier_url:"http://www.laposte.ci/bureau.php",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/cote-divoire-rep.html"},{matches:"KP",country:"Dem People's Rep. of Korea",courier:"Korea Post and Telecommunications Corporation",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/dem-peoples-rep-of-korea.html"},{matches:"CD",country:"Democratic Republic of the Congo",courier:"Congolese Posts and Telecommunications Corporation",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/democratic-republic-of-the-congo.html"},{matches:"DK",country:"Denmark",courier:"Post Danmark",courier_url:"http://www.postdanmark.dk/en/find_postcode/Pages/home.aspx",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/denmark.html"},{matches:"DJ",country:"Djibouti",courier:"La Poste de Djibouti",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/djibouti.html"},{matches:"DM",country:"Dominica",courier:"General Post Office",courier_url:"http://publicworks.gov.dm/index.php/divisions/general-post-office/20-gpo-about-us",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/dominica.html"},{matches:"DO",country:"Dominican Republic",courier:"INPOSDOM – Instituto Postal Dominicano",courier_url:"http://www.inposdom.gob.do/servicios/codigo-postal",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/dominican-republic.html"},{matches:"EC",country:"Ecuador",courier:"Correos del Ecuador",courier_url:"http://www.codigopostal.gob.ec/#",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/ecuador.html"},{matches:"EG",country:"Egypt",courier:"Egypt Post",courier_url:"http://www.egyptpost.org/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/egypt.html"},{matches:"SV",country:"El Salvador",courier:"Correos de El Salvador",courier_url:"http://www.correos.gob.sv/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/el-salvador.html"},{matches:"GQ",country:"Equatorial Guinea",courier:"Equatorial Guinea Post",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/equatorial-guinea.html"},{matches:"ER",country:"Eritrea",courier:"Eritrean Postal Service",courier_url:"http://www.eriposta.com/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/eritrea.html"},{matches:"EE",country:"Estonia",courier:"Eesti Post",courier_url:"http://www.post.ee/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/estonia.html"},{matches:"ET",country:"Ethiopia",courier:"Ethiopian postal service",courier_url:"http://www.ethiopostal.com/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/ethiopia.html"},{matches:"FJ",country:"Fiji",courier:"Post Fiji",courier_url:"http://www.postfiji.com.fj/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/fiji.html"},{matches:"FI",country:"Finland (including the Åland Islands)",courier:"Posti Ltd",courier_url:"http://www.verkkoposti.com/e3/english/postalcodecatalog",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/finland-including-the-aaland-islands.html"},{matches:"FR",country:"France",courier:"La Poste",courier_url:"http://www.laposte.fr/Entreprise/Outils-Indispensables/Outils/Trouvez-un-code-postal",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/france.html"},{matches:"GA",country:"Gabon",courier:"La Poste SA",courier_url:"http://www.laposte.ga/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/gabon.html"},{matches:"GM",country:"Gambia",courier:"Gambia Postal services Corporation",courier_url:"http://www.gampost.gm/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/gambia.html"},{matches:"GE",country:"Georgia",courier:"Georgian Post",courier_url:"http://www.georgianpost.ge/?site-lang=en&site-path=help/zipcodes/&letter=A",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/georgia.html"},{matches:"DE",country:"Germany",courier:"Deutsche Post",courier_url:"http://www.postdirekt.de/plzserver/PlzSearchServlet?lang=en_GB&id=viewstreet",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/germany.html"},{matches:"GH",country:"Ghana",courier:"Ghana Post",courier_url:"http://www.ghanapostgh.com/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/ghana.html"},{country:"Great Britain",matches:"GB",courier:"Royal Mail Group plc",courier_url:"http://www.royalmail.com/postcode-finder?gear=postcode&campaignid=postcodefinder_redirect",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/great-britain.html"},{matches:"GR",country:"Greece",courier:"Hellenic Post ELTA",courier_url:"http://www.elta.gr/en-us/findapostcode.aspx",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/greece.html"},{matches:"GD",country:"Grenada",courier:"Grenada Postal Corporation",courier_url:"http://www.grenadapostal.com/index.html",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/grenada.html"},{matches:"GT",country:"Guatemala",courier:"El Correo",courier_url:"http://www.elcorreo.com.gt/cdgcorreo/index.php?option=com_content&view=article&id=104&Itemid=233",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/guatemala.html"},{matches:"GN",country:"Guinea",courier:"Office de la poste guinéenne",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/guinea.html"},{country:"Guinea-Bissau",matches:"GW",courier:"Correios da Guiné-Bissau",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/guinea-bissau.html"},{matches:"GY",country:"Guyana",courier:"Guyana Post Office Corporation",courier_url:"http://guypost.gy/gpoc/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/guyana.html"},{matches:"HT",country:"Haiti",courier:"Office des Postes d’Haiti",courier_url:"http://postehaiti.gouv.ht/notre-reseau-postal",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/haiti.html"},{matches:"HN",country:"Honduras (Rep.)",courier:"Honducor",courier_url:"http://honducor.gob.hn/codpost/consulta.php",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/honduras-rep.html"},{matches:"HU",country:"Hungary",courier:"Magyar Posta",courier_url:"http://www.posta.hu/ugyfelszolgalat/iranyitoszam_kereso",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/hungary.html"},{matches:"IS",country:"Iceland",courier:"Íslandspóstur hf",courier_url:"http://www.postur.is/en/desktopdefault.aspx/tabid-450/700_read-1715/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/iceland.html"},{matches:"IN",country:"India",courier:"India Post",courier_url:"http://www.indiapost.gov.in/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/india.html"},{matches:"ID",country:"Indonesia",courier:"Pos Indonesia",courier_url:"http://kodepos.indonesiaweb.info/en/street/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/indonesia.html"},{matches:"IR",country:"Iran (Islamic Rep.)",courier:"Islamic Republic of Iran Post Co.",courier_url:"http://www.post.ir/Homepage.aspx?site=PostPortal&lang=fa-IR&tabid=0",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/iran-islamic-rep.html"},{matches:"IQ",country:"Iraq",courier:"Iraqi Post",courier_url:"http://www.iraqipost.net/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/iraq.html"},{matches:"IE",country:"Ireland",courier:"AN Post - regulatory and International affairs Unit",courier_url:"http://locator.anpost.ie/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/ireland.html"},{matches:"IL",country:"Israel",courier:"Israel Post",courier_url:"http://www.israelpost.co.il/zipcode.nsf/demozip?openform",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/israel.html"},{matches:"IT",country:"Italy",courier:"Poste Italiane",courier_url:"http://www.poste.it/online/cercacap/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/italy.html"},{matches:"JM",country:"Jamaica",courier:"Jamaica Post",courier_url:"http://www.jamaicapost.gov.jm/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/jamaica.html"},{matches:"JP",country:"Japan",courier:"Japan Post",courier_url:"http://www.post.japanpost.jp/zipcode/index.html",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/japan.html"},{matches:"JO",country:"Jordan",courier:"Jordan Post",courier_url:"http://www.jordanpost.com.jo/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/jordan.html"},{matches:"KZ",country:"Kazakhstan",courier:"Kazpost",courier_url:"http://www.kazpost.kz/ru/poisk-pochtovogo-indeksa-0",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/kazakhstan.html"},{matches:"KE",country:"Kenya",courier:"Posta Kenya",courier_url:"http://www.posta.co.ke/postOfficeFind.asp",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/kenya.html"},{matches:"KI",country:"Kiribati",courier:"Kiribati Public Service Public",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/kiribati.html"},{matches:"KR",country:"Korea (Rep.)",courier:"Korea Post",courier_url:"http://www.epost.go.kr/roadAreaCdEng.retrieveRdEngAreaCdList.comm",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/korea-rep.html"},{matches:"KW",country:"Kuwait",courier:"Kuwait Ministry of Communications",courier_url:"http://moc.kw/English/index.html",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/kuwait.html"},{matches:"KG",country:"Kyrgyzstan",courier:"Kyrgyz Post",courier_url:"http://kyrgyzpost.kg/ru/news.html",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/kyrgyzstan.html"},{matches:"LA",country:"Laos",courier:"Entreprise des Postes Lao",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/lao-peoples-dem-rep.html"},{matches:"LV",country:"Latvia",courier:"Latvia Post",courier_url:"http://www.pasts.lv/lv/uzzinas/parbaudit-adresi/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/latvia.html"},{matches:"LB",country:"Lebanon",courier:"LibanPost",courier_url:"http://www.libanpost.com.lb/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/lebanon.html"},{matches:"LS",country:"Lesotho",courier:"Lesotho Post",courier_url:"http://lesothopost.org.ls/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/lesotho.html"},{matches:"LR",country:"Liberia",courier:"Ministry of Posts and Telecommunications",courier_url:"http://www.mopt.gov.lr/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/liberia.html"},{matches:"LY",country:"Libya",courier:"Libya Post",courier_url:"http://libyapost.ly/en/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/libya.html"},{matches:"LI",country:"Liechtenstein",courier:"Liechtensteinische Post AG",courier_url:"http://www.post.li/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/liechtenstein.html"},{matches:"LT",country:"Lithuania",courier:"Lietuvos Pastas",courier_url:"http://www.post.lt/en/help/postal-code-search",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/lithuania.html"},{matches:"LU",country:"Luxembourg",courier:"Post",courier_url:"http://www.post.lu/en/particuliers/courrier/rechercher-un-code-postal",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/luxembourg.html"},{matches:"MG",country:"Madagascar",courier:"PAOSITRA MALAGASY",courier_url:"http://www.mtpc.gov.mg/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/madagascar.html"},{matches:"MW",country:"Malawi",courier:"Malawi Posts Corporation",courier_url:"http://www.malawiposts.com/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/malawi.html"},{matches:"MY",country:"Malaysia",courier:"Pos Malaysia",courier_url:"http://www.pos.com.my/pos/homepage.aspx",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/malaysia.html"},{matches:"MV",country:"Maldives",courier:"Maldives Post",courier_url:"http://www.maldivespost.com/index.php?lid=10",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/maldives.html"},{matches:"ML",country:"Mali",courier:"Office national des postes",courier_url:"http://www.laposte.ml/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/mali.html"},{matches:"MT",country:"Malta",courier:"Malta Post",courier_url:"http://postcodes.maltapost.com/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/malta.html"},{matches:"MR",country:"Mauritania",courier:"MAURIPOST – Société Mauritanienne des Postes",courier_url:"http://www.mauripost.mr/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/mauritania.html"},{matches:"MU",country:"Mauritius",courier:"Mauritius Post",courier_url:"http://www.mauritiuspost.mu/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/mauritius.html"},{matches:"MX",country:"Mexico",courier:"Correos de México",courier_url:"http://www.correosdemexico.gob.mx/ServiciosLinea/Paginas/ccpostales.aspx",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/mexico.html"},{matches:"MD",country:"Moldova",courier:"Posta Moldovei",courier_url:"http://www.posta.md/ro/postal_code.html",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/moldova.html"},{matches:"MC",country:"Monaco",courier:"La Poste Monaco",courier_url:"http://www.lapostemonaco.mc/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/monaco.html"},{matches:"MN",country:"Mongolia",courier:"Mongol Post - Монгол шуудан компани",courier_url:"http://www.zipcode.mn/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/mongolia.html"},{country:"Montenegro (Rep.)",matches:"ME",courier:"Pošta Crne Gore",courier_url:"http://www.postacg.me/main.php?idstr=177",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/montenegro-rep.html"},{matches:"MA",country:"Morocco",courier:"Barid Al-Maghrib – Poste Maroc",courier_url:"http://www.codepostal.ma/search_mot.aspx?keyword=",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/morocco.html"},{matches:"MZ",country:"Mozambique",courier:"Correios de Moçambique",courier_url:"http://www.correios.co.mz/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/mozambique.html"},{matches:"MM",country:"Myanmar",courier:"Myanmar Post and Telecommunications Department",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/myanmar.html"},{matches:"NA",country:"Namibia",courier:"NAM Post",courier_url:"https://www.nampost.com.na/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/namibia.html"},{matches:"NR",country:"Nauru",courier:"Nauru General Post Office",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/nauru.html"},{matches:"NP",country:"Nepal",courier:"Nepal Postal Services",courier_url:"http://www.gpo.gov.np/postalcode.aspx",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/nepal.html"},{matches:"NL",country:"Netherlands",courier:"PostNL",courier_url:"http://www.postnl.nl/voorthuis/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/netherlands.html"},{matches:"NZ",country:"New Zealand (including the Ross Dependency)",courier:"New Zealand Post",courier_url:"http://www.nzpost.co.nz/Cultures/en-NZ/OnlineTools/PostCodeFinder/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/new-zealand-including-the-ross-dependency.html"},{matches:"NI",country:"Nicaragua",courier:"Correos de Nicaragua",courier_url:"http://www.correos.gob.ni/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/nicaragua.html"},{matches:"NE",country:"Niger",courier:"Niger Poste",courier_url:"http://www.nigerposte.net/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/niger.html"},{matches:"NG",country:"Nigeria",courier:"Nigerian Postal Service",courier_url:"http://www.nigeriapostcodes.com/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/nigeria.html"},{matches:"NO",country:"Norway",courier:"Posten",courier_url:"http://adressesok.posten.no/en/postal_codes/search",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/norway.html"},{matches:"OM",country:"Oman",courier:"Oman Post",courier_url:"http://www.omanpost.om/Portals/2/Skins/skins//tabid/64/Default.aspx",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/oman.html"},{matches:"PK",country:"Pakistan",courier:"Pakistan Post",courier_url:"http://www.pakpost.gov.pk/postcode/postcode.html",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/pakistan.html"},{matches:"PA",country:"Panama (Rep.)",courier:"Correos de Panamá",courier_url:"http://www.correospanama.gob.pa/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/panama-rep.html"},{matches:"PG",country:"Papua New Guinea",courier:"Post PNG",courier_url:"http://www.postpng.com.pg/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/papua-new-guinea.html"},{matches:"PY",country:"Paraguay",courier:"Correo Paraguayo",courier_url:"http://www.correoparaguayo.gov.py/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/paraguay.html"},{matches:"PE",country:"Peru",courier:"SERPOST – Servicios Postales del Perú",courier_url:"http://www.mtc.gob.pe/portal/CPOSTAL/Listado_codigo_postal.html",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/peru.html"},{matches:"PH",country:"Philippines",courier:"PHLPOST – Philippine Postal Corporation",courier_url:"https://www.phlpost.gov.ph/zip-code-search.php",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/philippines.html"},{matches:"PL",country:"Poland",courier:"Poczta Polska",courier_url:"http://kody.poczta-polska.pl/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/poland.html"},{matches:"PT",country:"Portugal",courier:"CTT - Correios",courier_url:"http://www.ctt.pt/feapl_2/app/open/tools.jspx?tool=1",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/portugal.html"},{matches:"QA",country:"Qatar",courier:"Qatar Post",courier_url:"http://www.qpost.com.qa/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/qatar.html"},{matches:"RO",country:"Romania",courier:"Posta Romana",courier_url:"http://www.posta-romana.ro/postal_codes",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/romania.html"},{matches:"RU",country:"Russian Federation",courier:"Russian Post",courier_url:"http://www.russianpost.ru/rp/servise/ru/home/postuslug/searchops",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/russian-federation.html"},{matches:"RW",country:"Rwanda",courier:"National Post Office (Iposita)",courier_url:"http://i-posita.rw/spip.php?article1",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/rwanda.html"},{matches:"KN",country:"Saint Christopher (Saint Kitts) and Nevis",courier:"St. Kitts & Nevis Postal Services",courier_url:"http://www.post.gov.kn/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/saint-christopher-saint-kitts-and-nevis.html"},{matches:"LC",country:"Saint Lucia",courier:"Saint Lucia Postal Service",courier_url:"http://www.stluciapostal.com/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/saint-lucia.html"},{matches:"VC",country:"Saint Vincent and the Grenadines",courier:"SVG Postal Corporation",courier_url:"http://www.svgpost.gov.vc/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/saint-vincent-and-the-grenadines.html"},{matches:"WS",country:"Samoa",courier:"Samoa Post",courier_url:"http://www.samoapost.ws/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/samoa.html"},{matches:"SM",country:"San Marino",courier:"Poste San Marino",courier_url:"http://www.poste.sm/on-line/home.html",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/san-marino.html"},{matches:"ST",country:"Sao Tome and Principe",courier:"Correios de São Tomé e Príncipe",courier_url:"http://www.inh.st/correios.st.htm",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/sao-tome-and-principe.html"},{matches:"SA",country:"Saudi Arabia",courier:"Saudi Post",courier_url:"http://maps.address.gov.sa",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/saudi-arabia.html"},{matches:"SN",country:"Senegal",courier:"La Poste Senegal",courier_url:"http://www.laposte.sn/laposte/trouver_codepostal.php",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/senegal.html"},{matches:"RS",country:"Serbia (Rep.)",courier:'PTT Communications "Srbija"',courier_url:"http://www.posta.rs/struktura/eng/aplikacije/pronadji/nadji-pak-rezultat.asp",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/serbia-rep.html"},{matches:"SC",country:"Seychelles",courier:"Seychelles Postal Service",courier_url:"http://www.seychellespost.gov.sc/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/seychelles.html"},{matches:"SL",country:"Sierra Leone",courier:"Sierra Leone Postal Services",courier_url:"http://www.salpost.sl/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/sierra-leone.html"},{matches:"SG",country:"Singapore",courier:"SingPost",courier_url:"http://www.singpost.com.sg/quick_services/index.htm",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/singapore.html"},{matches:"SK",country:"Slovakia",courier:"Slovenská Posta",courier_url:"http://psc.posta.sk/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/slovakia.html"},{matches:"SI",country:"Slovenia",courier:"Posta Slovenije d.o.o.",courier_url:"http://www.posta.si/postne-stevilke-doma",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/slovenia.html"},{matches:"SB",country:"Solomon Islands",courier:"Solomon Post",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/solomon-islands.html"},{matches:"SO",country:"Somalia",courier:"Somali Post",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/somalia.html"},{matches:"ZA",country:"South Africa",courier:"South African Post Office",courier_url:"http://www.postoffice.co.za/ContactUs/postalcode.html",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/south-africa.html"},{matches:"SS",country:"South Sudan (Rep.)",courier:"Minister of Telecommunication and Postal Services",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/south-sudan-rep.html"},{matches:"ES",country:"Spain",courier:"Correos y Telégrafos",courier_url:"http://www.correos.es/ss/Satellite/site/pagina-buscador_codigos_postales/sidioma=es_ES",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/spain.html"},{matches:"LK",country:"Sri Lanka",courier:"Sri Lanka Post",courier_url:"http://www.slpost.gov.lk/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/sri-lanka.html"},{matches:"SD",country:"Sudan",courier:"Sudapost",courier_url:"http://sudapost.sd/index.php/en/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/sudan.html"},{matches:"SR",country:"Suriname",courier:"SURPOST",courier_url:"http://www.surpost.com/surpost2/index.php",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/suriname.html"},{matches:"SZ",country:"Swaziland",courier:"Swaziland Posts & Telecommunications Corporation",courier_url:"http://www.sptc.co.sz/swazipost/codes.php",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/swaziland.html"},{matches:"SE",country:"Sweden",courier:"Posten Sweden Post",courier_url:"http://www.posten.se/oldurls/old_postnummersok.jspv",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/sweden.html"},{matches:"CH",country:"Switzerland",courier:"La Poste Suisse",courier_url:"http://www.swisspost.ch/post-startseite.htm",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/switzerland.html"},{matches:"SY",country:"Syrian Arab Rep.",courier:"Syrian Post",courier_url:"http://www.syrianpost.gov.sy/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/syrian-arab-rep.html"},{matches:"TJ",country:"Tajikistan",courier:"Tajikistan’s communications service agency",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/tajikistan.html"},{matches:"TZ",country:"Tanzania (United Rep.)",courier:"Tanzania Posts Corporation",courier_url:"http://www.posta.co.tz/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/tanzania-united-rep.html"},{matches:"TH",country:"Thailand",courier:"Thailand Post",courier_url:"http://www.thailandpost.com/search.php",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/thailand.html"},{matches:"MK",country:"The former Yugoslav Republic of Macedonia",courier:"Macedonian Post & Telecommunications",courier_url:"http://www.posta.mk/pravilno_adresiranje.html",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/the-former-yugoslav-republic-of-macedonia.html"},{matches:"TL",country:"Timor-Leste (Dem. Rep.)",courier:"Correios de Timor Leste",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/timor-leste-dem-rep.html"},{matches:"TG",country:"Togo",courier:"La Poste du Togo",courier_url:"http://www.laposte.tg/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/togo.html"},{matches:"TO",country:"Tonga (including Niuafo'ou)",courier:"Tonga Post",courier_url:"http://tongapost.to/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/tonga-including-niuafoou.html"},{matches:"TT",country:"Trinidad and Tobago",courier:"Trinidad and Tobago Postal Corporation",courier_url:"http://www.ttpost.net/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/trinidad-and-tobago.html"},{matches:"TN",country:"Tunisia",courier:"La Poste Tunisienne",courier_url:"http://www.poste.tn/codes.php",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/tunisia.html"},{matches:"TR",country:"Turkey",courier:"Turkey Post",courier_url:"http://postakodu.ptt.gov.tr/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/turkey.html"},{matches:"TM",country:"Turkmenistan",courier:"Turkmenpost",courier_url:"http://www.turkmenpost.gov.tm/about_index.php",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/turkmenistan.html"},{matches:"TV",country:"Tuvalu",courier:"Tuvalu Philatelic Bureau",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/tuvalu.html"},{matches:"UG",country:"Uganda",courier:"Posta Uganda",courier_url:"http://www.ugapost.co.ug/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/uganda.html"},{matches:"UA",country:"Ukraine",courier:"Ukrposhta",courier_url:"http://services.ukrposhta.com/postindex_new/default.aspx?lang=en",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/ukraine.html"},{matches:"AE",country:"United Arab Emirates",courier:"Emirates Post",courier_url:"http://www.emiratespost.com/content/english/index.jsp;jsessionid=35fbe352a6c441a491929d81d54fa0c6",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/united-arab-emirates.html"},{matches:"US",country:"United States of America",courier:"United States Postal Service",courier_url:"http://zip4.usps.com/zip4/welcome.jsp",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/united-states-of-america.html"},{matches:"UY",country:"Uruguay",courier:"Correo Uruguayo",courier_url:"http://www.correo.com.uy/index.asp?codPag=codPost&switchMapa=codPost",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/uruguay.html"},{matches:"UZ",country:"Uzbekistan",courier:"Post of Uzbekistan",courier_url:"http://www.pochta.uz/index.php/en/postal-indexes/9",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/uzbekistan.html"},{matches:"VU",country:"Vanuatu",courier:"Vanuatu Post",courier_url:"http://www.vanuatupost.vu/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/vanuatu.html"},{matches:"VA",country:"Vatican",courier:"Vatican post",courier_url:"http://www.vaticanstate.va/EN/Services/Philatelic_and_Numismatic_Office/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/vatican.html"},{matches:"VE",country:"Venezuela",courier:"IPOSTEL – Instituto Postal Telegráfico de Venezuela",courier_url:"http://www.ipostel.gob.ve/nlinea/codigo_postal.php",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/venezuela.html"},{matches:"VN",country:"Viet Nam",courier:"VNPT – Vietnam Posts and Telecommunications Group",courier_url:"http://postcode.vnpost.vn/services/search.aspx",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/viet-nam.html"},{matches:"YE",country:"Yemen",courier:"Yemen Post",courier_url:"http://www.post.ye/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/yemen.html"},{matches:"ZM",country:"Zambia",courier:"Zambia Postal Services Corporation (ZAMPOST)",courier_url:"http://www.zampost.com.zm/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/zambia.html"},{matches:"ZW",country:"Zimbabwe",courier:"Zimpost – Zimbabwe Posts",courier_url:"http://www.zimpost.co.zw/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/zimbabwe.html"}]}]}],da={name:pa,courier_code:ha,tracking_numbers:ma},fa="UPS",wa="ups",ga=[{name:"UPS",id:"ups",regex:["\\s*1\\s*Z\\s*(?<SerialNumber>","(?<ShipperId>(?:[A-Z0-9]\\s*){6,6})","(?<ServiceType>(?:[A-Z0-9]\\s*){2,2})","(?<PackageId>(?:[A-Z0-9]\\s*){7,7}))","(?<CheckDigit>[0-9]\\s*)"],validation:{checksum:{name:"mod10",evens_multiplier:1,odds_multiplier:2}},tracking_url:"https://wwwapps.ups.com/WebTracking/track?track=yes&trackNums=%s",additional:[{name:"Service Type",regex_group_name:"ServiceType",lookup:[{matches:"01",name:"UPS United States Next Day Air (Red)"},{matches:"02",name:"UPS United States Second Day Air (Blue)"},{matches:"03",name:"UPS United States Ground"},{matches:"12",name:"UPS United States Third Day Select"},{matches:"13",name:"UPS United States Next Day Air Saver (Red Saver)"},{matches:"15",name:"UPS United States Next Day Air Early A.M."},{matches:"22",name:"UPS United States Ground - Returns Plus - Three Pickup Attempts"},{matches:"32",name:"UPS United States Next Day Air Early A.M. - COD"},{matches:"33",name:"UPS United States Next Day Air Early A.M. - Saturday Delivery, COD"},{matches:"41",name:"UPS United States Next Day Air Early A.M. - Saturday Delivery"},{matches:"42",name:"UPS United States Ground - Signature Required"},{matches:"44",name:"UPS United States Next Day Air - Saturday Delivery"},{matches:"66",name:"UPS United States Worldwide Express"},{matches:"72",name:"UPS United States Ground - Collect on Delivery"},{matches:"78",name:"UPS United States Ground - Returns Plus - One Pickup Attempt"},{matches:"90",name:"UPS United States Ground - Returns - UPS Prints and Mails Label"},{matches:"A0",name:"UPS United States Next Day Air Early A.M. - Adult Signature Required"},{matches:"A1",name:"UPS United States Next Day Air Early A.M. - Saturday Delivery, Adult Signature Required"},{matches:"A2",name:"UPS United States Next Day Air - Adult Signature Required"},{matches:"A8",name:"UPS United States Ground - Adult Signature Required"},{matches:"A9",name:"UPS United States Next Day Air Early A.M. - Adult Signature Required, COD"},{matches:"AA",name:"UPS United States Next Day Air Early A.M. - Saturday Delivery, Adult Signature Required, COD"},{matches:"YW",name:"UPS SurePost - Delivered by the USPS"}]}],test_numbers:{valid:["1Z5R89390357567127","1Z879E930346834440","1Z410E7W0392751591","1Z8V92A70367203024"," 1 Z 8 V 9 2 A 7 0 3 6 7 2 0 3 0 2 4 ","1ZXX3150YW44070023"],invalid:["2Z5R89390357567127","1A5R89390357567127","1Z1111111111111111"]}},{name:"UPS Waybill",regex:["\\s*(?<ServiceType>([AHJKTV]\\s*){1})","(?<SerialNumber>(?:[0-9]\\s*){9})","(?<CheckDigit>[0-9]\\s*){1}"],validation:{checksum:{name:"mod10",evens_multiplier:1,odds_multiplier:2}},additional:[{name:"Service Type",regex_group_name:"ServiceType",lookup:[{matches:"J",name:"UPS Next Day Express"},{matches:"K",name:"UPS Ground"},{matches:"V",name:"UPS WorldWide Express Saver"}]}],tracking_url:"https://wwwapps.ups.com/WebTracking/track?track=yes&trackNums=%s",test_numbers:{valid:["K1506235620","K 150 623 562 0","K2479825491","J4603636537","V0490119172","V0431105627"],invalid:["K1506235622","K2479825492","J4603636538","V0411335627","V0423305841"]}}],ya={name:fa,courier_code:wa,tracking_numbers:ga},_a="United States Postal Service",va="usps",ba=[{tracking_url:"https://tools.usps.com/go/TrackConfirmAction?tLabels=%s",name:"USPS 20",id:"usps_20",description:"20 digit USPS numbers",regex:["\\s*(?<SerialNumber>","(?<ServiceType>([0-9]\\s*){2})","(?<ShipperId>([0-9]\\s*){9})","(?<PackageId>([0-9]\\s*){8})",")","(?<CheckDigit>[0-9]\\s*)"],validation:{checksum:{name:"mod10",evens_multiplier:3,odds_multiplier:1}},test_numbers:{valid:["0307 1790 0005 2348 3741"," 0 3 0 7   1 7 9 0   0 0 0 5   2 3 4 8   3 7 4 1 ","7112 3456 7891 2345 6787"],invalid:["0307 1790 0005 2348 3742"]},additional:[{name:"Service Type",regex_group_name:"ServiceType",lookup:[{matches:"71",name:"Certified Mail"},{matches:"73",name:"Insured Mail"},{matches:"77",name:"Registered Mail"},{matches:"81",name:"Return Receipt For Merchanise"}]}]},{name:"USPS 34v2",id:"usps_32V2",description:"variation on 34 digit USPS IMpd numbers",regex:["\\s*(?<RoutingApplicationId>4\\s*2\\s*0\\s*)(?<DestinationZip>([0-9]\\s*){5})","(?<RoutingNumber>([0-9]\\s*){4})","(?<SerialNumber>","(?<ApplicationIdentifier>9\\s*[2345]\\s*)?","(?<ShipperId>([0-9]\\s*){8})","(?<PackageId>([0-9]\\s*){11})",")","(?<CheckDigit>[0-9]\\s*)"],validation:{checksum:{name:"mod10",evens_multiplier:3,odds_multiplier:1}},tracking_url:"https://tools.usps.com/go/TrackConfirmAction?tLabels=%s",test_numbers:{valid:["4201002334249200190132607600833457","4201028200009261290113185417468510"," 4 2 0 1 0 2 8 2 0 0 0 0 9 2 6 1 2 9 0 1 1 3 1 8 5 4 1 7 4 6 8 5 1 0 "],invalid:["4201028200009261290113185417468511"]}},{name:"USPS 91",id:"usps_91",description:"USPS now calls this the IMpd barcode format",regex:["\\s*(?:(?<RoutingApplicationId>4\\s*2\\s*0\\s*)(?<DestinationZip>([0-9]\\s*){5}))?","(?<SerialNumber>","(?<ApplicationIdentifier>9\\s*[12345]\\s*)?","(?<SCNC>([0-9]\\s*){2})","(?<ServiceType>([0-9]\\s*){2})","(?<ShipperId>([0-9]\\s*){8})","(?<PackageId>([0-9]\\s*){11}|([0-9]\\s*){7})",")","(?<CheckDigit>[0-9]\\s*)"],validation:{checksum:{name:"mod10",evens_multiplier:3,odds_multiplier:1},serial_number_format:{prepend_if:{matches_regex:"^(?!9[1-5]).+",content:"91"}}},partners:[{description:"FedEx SmartPost uses USPS for last mile delivery, but not all USPS91 numbers are SmartPosts",partner_type:"shipper",partner_id:"fedex_smartpost",validation:{matches_all:[{regex_group_name:"ServiceType",matches:"29"},{matches:"61",regex_group_name:"SCNC"}]}}],tracking_url:"https://tools.usps.com/go/TrackConfirmAction?tLabels=%s",test_numbers:{valid:["420 22153 9101026837331000039521","7196 9010 7560 0307 7385","9505 5110 6960 5048 6006 24","9101 1234 5678 9000 0000 13","92748931507708513018050063","92001903060085300042901077","9400 1112 0108 0805 4830 16","9361 2898 7870 0317 6337 95","9405803699300124287899"],invalid:["61299998820821171811","9200000000000000000000","420000000000000000000000000000","420000009200000000000000000000"]},additional:[{name:"Service Type",regex_group_name:"ServiceType",lookup:[{matches:"11",name:"First Class (R)"},{matches:"29",name:"Fedex Smart Post"}]}]}],xa={name:_a,courier_code:va,tracking_numbers:ba};var Sa=function(){return!1},Pa=function(){return!0};const Ca={"@@functional/placeholder":!0};function U(t){return t!=null&&typeof t=="object"&&t["@@functional/placeholder"]===!0}function g(t){return function e(r){return arguments.length===0||U(r)?e:t.apply(this,arguments)}}function o(t){return function e(r,n){switch(arguments.length){case 0:return e;case 1:return U(r)?e:g(function(u){return t(r,u)});default:return U(r)&&U(n)?e:U(r)?g(function(u){return t(u,n)}):U(n)?g(function(u){return t(r,u)}):t(r,n)}}}var sr=o(function(e,r){return Number(e)+Number(r)});function fe(t,e){t=t||[],e=e||[];var r,n=t.length,u=e.length,a=[];for(r=0;r<n;)a[a.length]=t[r],r+=1;for(r=0;r<u;)a[a.length]=e[r],r+=1;return a}function we(t,e){switch(t){case 0:return function(){return e.apply(this,arguments)};case 1:return function(r){return e.apply(this,arguments)};case 2:return function(r,n){return e.apply(this,arguments)};case 3:return function(r,n,u){return e.apply(this,arguments)};case 4:return function(r,n,u,a){return e.apply(this,arguments)};case 5:return function(r,n,u,a,i){return e.apply(this,arguments)};case 6:return function(r,n,u,a,i,c){return e.apply(this,arguments)};case 7:return function(r,n,u,a,i,c,p){return e.apply(this,arguments)};case 8:return function(r,n,u,a,i,c,p,m){return e.apply(this,arguments)};case 9:return function(r,n,u,a,i,c,p,m,y){return e.apply(this,arguments)};case 10:return function(r,n,u,a,i,c,p,m,y,h){return e.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function Ge(t,e,r){return function(){for(var n=[],u=0,a=t,i=0;i<e.length||u<arguments.length;){var c;i<e.length&&(!U(e[i])||u>=arguments.length)?c=e[i]:(c=arguments[u],u+=1),n[i]=c,U(c)||(a-=1),i+=1}return a<=0?r.apply(this,n):we(a,Ge(t,n,r))}}var Q=o(function(e,r){return e===1?g(r):we(e,Ge(e,[],r))}),ka=g(function(e){return Q(e.length,function(){var r=0,n=arguments[0],u=arguments[arguments.length-1],a=Array.prototype.slice.call(arguments,0);return a[0]=function(){var i=n.apply(this,fe(arguments,[r,u]));return r+=1,i},e.apply(this,a)})});function S(t){return function e(r,n,u){switch(arguments.length){case 0:return e;case 1:return U(r)?e:o(function(a,i){return t(r,a,i)});case 2:return U(r)&&U(n)?e:U(r)?o(function(a,i){return t(a,n,i)}):U(n)?o(function(a,i){return t(r,a,i)}):g(function(a){return t(r,n,a)});default:return U(r)&&U(n)&&U(u)?e:U(r)&&U(n)?o(function(a,i){return t(a,i,u)}):U(r)&&U(u)?o(function(a,i){return t(a,n,i)}):U(n)&&U(u)?o(function(a,i){return t(r,a,i)}):U(r)?g(function(a){return t(a,n,u)}):U(n)?g(function(a){return t(r,a,u)}):U(u)?g(function(a){return t(r,n,a)}):t(r,n,u)}}}var bt=S(function(e,r,n){if(e>=n.length||e<-n.length)return n;var u=e<0?n.length:0,a=u+e,i=fe(n);return i[a]=r(n[a]),i});const me=Array.isArray||function(e){return e!=null&&e.length>=0&&Object.prototype.toString.call(e)==="[object Array]"};function Nr(t){return t!=null&&typeof t["@@transducer/step"]=="function"}function H(t,e,r){return function(){if(arguments.length===0)return r();var n=Array.prototype.slice.call(arguments,0),u=n.pop();if(!me(u)){for(var a=0;a<t.length;){if(typeof u[t[a]]=="function")return u[t[a]].apply(u,n);a+=1}if(Nr(u)){var i=e.apply(null,n);return i(u)}}return r.apply(this,arguments)}}function be(t){return t&&t["@@transducer/reduced"]?t:{"@@transducer/value":t,"@@transducer/reduced":!0}}const R={init:function(){return this.xf["@@transducer/init"]()},result:function(t){return this.xf["@@transducer/result"](t)}};var Aa=function(){function t(e,r){this.xf=r,this.f=e,this.all=!0}return t.prototype["@@transducer/init"]=R.init,t.prototype["@@transducer/result"]=function(e){return this.all&&(e=this.xf["@@transducer/step"](e,!0)),this.xf["@@transducer/result"](e)},t.prototype["@@transducer/step"]=function(e,r){return this.f(r)||(this.all=!1,e=be(this.xf["@@transducer/step"](e,!1))),e},t}(),Ia=o(function(e,r){return new Aa(e,r)}),xt=o(H(["all"],Ia,function(e,r){for(var n=0;n<r.length;){if(!e(r[n]))return!1;n+=1}return!0})),Be=o(function(e,r){return r>e?r:e});function De(t,e){for(var r=0,n=e.length,u=Array(n);r<n;)u[r]=t(e[r]),r+=1;return u}function je(t){return Object.prototype.toString.call(t)==="[object String]"}var Ze=g(function(e){return me(e)?!0:!e||typeof e!="object"||je(e)?!1:e.nodeType===1?!!e.length:e.length===0?!0:e.length>0?e.hasOwnProperty(0)&&e.hasOwnProperty(e.length-1):!1}),Ta=function(){function t(e){this.f=e}return t.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},t.prototype["@@transducer/result"]=function(e){return e},t.prototype["@@transducer/step"]=function(e,r){return this.f(e,r)},t}();function St(t){return new Ta(t)}var Pt=o(function(e,r){return we(e.length,function(){return e.apply(r,arguments)})});function Da(t,e,r){for(var n=0,u=r.length;n<u;){if(e=t["@@transducer/step"](e,r[n]),e&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}n+=1}return t["@@transducer/result"](e)}function Jr(t,e,r){for(var n=r.next();!n.done;){if(e=t["@@transducer/step"](e,n.value),e&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}n=r.next()}return t["@@transducer/result"](e)}function Yr(t,e,r,n){return t["@@transducer/result"](r[n](Pt(t["@@transducer/step"],t),e))}var et=typeof Symbol<"u"?Symbol.iterator:"@@iterator";function ue(t,e,r){if(typeof t=="function"&&(t=St(t)),Ze(r))return Da(t,e,r);if(typeof r["fantasy-land/reduce"]=="function")return Yr(t,e,r,"fantasy-land/reduce");if(r[et]!=null)return Jr(t,e,r[et]());if(typeof r.next=="function")return Jr(t,e,r);if(typeof r.reduce=="function")return Yr(t,e,r,"reduce");throw new TypeError("reduce: list must be array or iterable")}var La=function(){function t(e,r){this.xf=r,this.f=e}return t.prototype["@@transducer/init"]=R.init,t.prototype["@@transducer/result"]=R.result,t.prototype["@@transducer/step"]=function(e,r){return this.xf["@@transducer/step"](e,this.f(r))},t}(),ja=o(function(e,r){return new La(e,r)});function Y(t,e){return Object.prototype.hasOwnProperty.call(e,t)}var rt=Object.prototype.toString,Ct=function(){return rt.call(arguments)==="[object Arguments]"?function(e){return rt.call(e)==="[object Arguments]"}:function(e){return Y("callee",e)}}(),Na=!{toString:null}.propertyIsEnumerable("toString"),tt=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],nt=function(){return arguments.propertyIsEnumerable("length")}(),Oa=function(e,r){for(var n=0;n<e.length;){if(e[n]===r)return!0;n+=1}return!1},oe=g(typeof Object.keys=="function"&&!nt?function(e){return Object(e)!==e?[]:Object.keys(e)}:function(e){if(Object(e)!==e)return[];var r,n,u=[],a=nt&&Ct(e);for(r in e)Y(r,e)&&(!a||r!=="length")&&(u[u.length]=r);if(Na)for(n=tt.length-1;n>=0;)r=tt[n],Y(r,e)&&!Oa(u,r)&&(u[u.length]=r),n-=1;return u}),he=o(H(["fantasy-land/map","map"],ja,function(e,r){switch(Object.prototype.toString.call(r)){case"[object Function]":return Q(r.length,function(){return e.call(this,r.apply(this,arguments))});case"[object Object]":return ue(function(n,u){return n[u]=e(r[u]),n},{},oe(r));default:return De(e,r)}}));const Se=Number.isInteger||function(e){return e<<0===e};var Re=o(function(e,r){var n=e<0?r.length+e:e;return je(r)?r.charAt(n):r[n]}),kt=o(function(e,r){return e.map(function(n){for(var u=r,a=0,i;a<n.length;){if(u==null)return;i=n[a],u=Se(i)?Re(i,u):u[i],a+=1}return u})}),ke=o(function(e,r){return kt([e],r)[0]}),Or=o(function(e,r){return ke([e],r)}),Ke=o(function(e,r){return he(Or(e),r)}),ge=S(ue),Ea=g(function(e){return Q(ge(Be,0,Ke("length",e)),function(){for(var r=0,n=e.length;r<n;){if(!e[r].apply(this,arguments))return!1;r+=1}return!0})}),cr=g(function(e){return function(){return e}}),At=o(function(e,r){return e&&r}),Ba=function(){function t(e,r){this.xf=r,this.f=e,this.any=!1}return t.prototype["@@transducer/init"]=R.init,t.prototype["@@transducer/result"]=function(e){return this.any||(e=this.xf["@@transducer/step"](e,!1)),this.xf["@@transducer/result"](e)},t.prototype["@@transducer/step"]=function(e,r){return this.f(r)&&(this.any=!0,e=be(this.xf["@@transducer/step"](e,!0))),e},t}(),Ra=o(function(e,r){return new Ba(e,r)}),Ma=o(H(["any"],Ra,function(e,r){for(var n=0;n<r.length;){if(e(r[n]))return!0;n+=1}return!1})),za=g(function(e){return Q(ge(Be,0,Ke("length",e)),function(){for(var r=0,n=e.length;r<n;){if(e[r].apply(this,arguments))return!0;r+=1}return!1})}),Er=o(function(e,r){return typeof r["fantasy-land/ap"]=="function"?r["fantasy-land/ap"](e):typeof e.ap=="function"?e.ap(r):typeof e=="function"?function(n){return e(n)(r(n))}:ue(function(n,u){return fe(n,he(u,r))},[],e)});function Ua(t,e){for(var r=0,n=e.length-(t-1),u=new Array(n>=0?n:0);r<n;)u[r]=Array.prototype.slice.call(e,r,r+t),r+=1;return u}var qa=function(){function t(e,r){this.xf=r,this.pos=0,this.full=!1,this.acc=new Array(e)}return t.prototype["@@transducer/init"]=R.init,t.prototype["@@transducer/result"]=function(e){return this.acc=null,this.xf["@@transducer/result"](e)},t.prototype["@@transducer/step"]=function(e,r){return this.store(r),this.full?this.xf["@@transducer/step"](e,this.getCopy()):e},t.prototype.store=function(e){this.acc[this.pos]=e,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)},t.prototype.getCopy=function(){return fe(Array.prototype.slice.call(this.acc,this.pos),Array.prototype.slice.call(this.acc,0,this.pos))},t}(),Wa=o(function(e,r){return new qa(e,r)}),Fa=o(H([],Wa,Ua)),Ga=o(function(e,r){return fe(r,[e])}),It=o(function(e,r){return e.apply(this,r)}),Tt=g(function(e){for(var r=oe(e),n=r.length,u=[],a=0;a<n;)u[a]=e[r[a]],a+=1;return u});function ut(t,e){return oe(e).reduce(function(r,n){return r[n]=t(e[n]),r},{})}var Za=g(function t(e){return e=ut(function(r){return typeof r=="function"?r:t(r)},e),Q(ge(Be,0,Ke("length",Tt(e))),function(){var r=arguments;return ut(function(n){return It(n,r)},e)})}),Ka=o(function(e,r){return r(e)}),$a=S(function(e,r,n){var u=e(r),a=e(n);return u<a?-1:u>a?1:0}),lr=S(function(e,r,n){var u={};for(var a in n)u[a]=n[a];return u[e]=r,u}),rr=g(function(e){return e==null}),Dt=S(function t(e,r,n){if(e.length===0)return r;var u=e[0];if(e.length>1){var a=!rr(n)&&Y(u,n)?n[u]:Se(e[1])?[]:{};r=t(Array.prototype.slice.call(e,1),r,a)}if(Se(u)&&me(n)){var i=[].concat(n);return i[u]=r,i}else return lr(u,r,n)}),pr=o(function(e,r){switch(e){case 0:return function(){return r.call(this)};case 1:return function(n){return r.call(this,n)};case 2:return function(n,u){return r.call(this,n,u)};case 3:return function(n,u,a){return r.call(this,n,u,a)};case 4:return function(n,u,a,i){return r.call(this,n,u,a,i)};case 5:return function(n,u,a,i,c){return r.call(this,n,u,a,i,c)};case 6:return function(n,u,a,i,c,p){return r.call(this,n,u,a,i,c,p)};case 7:return function(n,u,a,i,c,p,m){return r.call(this,n,u,a,i,c,p,m)};case 8:return function(n,u,a,i,c,p,m,y){return r.call(this,n,u,a,i,c,p,m,y)};case 9:return function(n,u,a,i,c,p,m,y,h){return r.call(this,n,u,a,i,c,p,m,y,h)};case 10:return function(n,u,a,i,c,p,m,y,h,P){return r.call(this,n,u,a,i,c,p,m,y,h,P)};default:throw new Error("First argument to nAry must be a non-negative integer no greater than ten")}}),Ha=g(function(e){return pr(2,e)});function Ne(t){var e=Object.prototype.toString.call(t);return e==="[object Function]"||e==="[object AsyncFunction]"||e==="[object GeneratorFunction]"||e==="[object AsyncGeneratorFunction]"}var Lt=o(function(e,r){var n=Q(e,r);return Q(e,function(){return ue(Er,he(n,arguments[0]),Array.prototype.slice.call(arguments,1))})}),hr=g(function(e){return Lt(e.length,e)}),Va=o(function(e,r){return Ne(e)?function(){return e.apply(this,arguments)&&r.apply(this,arguments)}:hr(At)(e,r)}),Br=g(function(e){return Q(e.length,e)}),Xa=Br(function(e){return e.apply(this,Array.prototype.slice.call(arguments,1))});function jt(t){return function e(r){for(var n,u,a,i=[],c=0,p=r.length;c<p;){if(Ze(r[c]))for(n=t?e(r[c]):r[c],a=0,u=n.length;a<u;)i[i.length]=n[a],a+=1;else i[i.length]=r[c];c+=1}return i}}function Qa(t){return{"@@transducer/value":t,"@@transducer/reduced":!0}}var Ja=function(t){return{"@@transducer/init":R.init,"@@transducer/result":function(e){return t["@@transducer/result"](e)},"@@transducer/step":function(e,r){var n=t["@@transducer/step"](e,r);return n["@@transducer/reduced"]?Qa(n):n}}},Ya=function(e){var r=Ja(e);return{"@@transducer/init":R.init,"@@transducer/result":function(n){return r["@@transducer/result"](n)},"@@transducer/step":function(n,u){return Ze(u)?ue(r,n,u):ue(r,n,[u])}}},ei=o(function(e,r){return he(e,Ya(r))}),Rr=o(H(["fantasy-land/chain","chain"],ei,function(e,r){return typeof r=="function"?function(n){return e(r(n))(n)}:jt(!1)(he(e,r))})),ri=S(function(e,r,n){if(e>r)throw new Error("min must not be greater than max in clamp(min, max, value)");return n<e?e:n>r?r:n});function Nt(t){return new RegExp(t.source,(t.global?"g":"")+(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.sticky?"y":"")+(t.unicode?"u":""))}var tr=g(function(e){return e===null?"Null":e===void 0?"Undefined":Object.prototype.toString.call(e).slice(8,-1)});function mr(t,e,r,n){var u=function(i){for(var c=e.length,p=0;p<c;){if(t===e[p])return r[p];p+=1}e[p+1]=t,r[p+1]=i;for(var m in t)i[m]=n?mr(t[m],e,r,!0):t[m];return i};switch(tr(t)){case"Object":return u({});case"Array":return u([]);case"Date":return new Date(t.valueOf());case"RegExp":return Nt(t);default:return t}}var ti=g(function(e){return e!=null&&typeof e.clone=="function"?e.clone():mr(e,[],[],!0)}),ni=g(function(e){return function(r,n){return e(r,n)?-1:e(n,r)?1:0}}),Ot=g(function(e){return!e}),ui=hr(Ot);function ai(t,e){return function(){return e.call(this,t.apply(this,arguments))}}function $e(t,e){return function(){var r=arguments.length;if(r===0)return e();var n=arguments[r-1];return me(n)||typeof n[t]!="function"?e.apply(this,arguments):n[t].apply(n,Array.prototype.slice.call(arguments,0,r-1))}}var pe=S($e("slice",function(e,r,n){return Array.prototype.slice.call(n,e,r)})),dr=g($e("tail",pe(1,1/0)));function Et(){if(arguments.length===0)throw new Error("pipe requires at least one argument");return we(arguments[0].length,ge(ai,arguments[0],dr(arguments)))}var He=g(function(e){return je(e)?e.split("").reverse().join(""):Array.prototype.slice.call(e,0).reverse()});function nr(){if(arguments.length===0)throw new Error("compose requires at least one argument");return Et.apply(this,He(arguments))}function Bt(){if(arguments.length===0)throw new Error("composeK requires at least one argument");var t=Array.prototype.slice.call(arguments),e=t.pop();return nr(nr.apply(this,he(Rr,t)),e)}function ii(t,e){return function(){var r=this;return t.apply(r,arguments).then(function(n){return e.call(r,n)})}}function Rt(){if(arguments.length===0)throw new Error("pipeP requires at least one argument");return we(arguments[0].length,ge(ii,arguments[0],dr(arguments)))}function oi(){if(arguments.length===0)throw new Error("composeP requires at least one argument");return Rt.apply(this,He(arguments))}var Mt=Re(0);function Ve(t){return t}var fr=g(Ve),zt=o(function(e,r){if(r.length<=0)return fr;var n=Mt(r),u=dr(r);return we(n.length,function(){return ue(function(a,i){return e.call(this,i,a)},n.apply(this,arguments),u)})}),si=o(function(e,r){return zt.apply(this,[e,He(r)])});function at(t){for(var e=[],r;!(r=t.next()).done;)e.push(r.value);return e}function Oe(t,e,r){for(var n=0,u=r.length;n<u;){if(t(e,r[n]))return!0;n+=1}return!1}function ci(t){var e=String(t).match(/^function (\w*)/);return e==null?"":e[1]}function li(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}const Ye=typeof Object.is=="function"?Object.is:li;function it(t,e,r,n){var u=at(t),a=at(e);function i(c,p){return Mr(c,p,r.slice(),n.slice())}return!Oe(function(c,p){return!Oe(i,p,c)},a,u)}function Mr(t,e,r,n){if(Ye(t,e))return!0;var u=tr(t);if(u!==tr(e)||t==null||e==null)return!1;if(typeof t["fantasy-land/equals"]=="function"||typeof e["fantasy-land/equals"]=="function")return typeof t["fantasy-land/equals"]=="function"&&t["fantasy-land/equals"](e)&&typeof e["fantasy-land/equals"]=="function"&&e["fantasy-land/equals"](t);if(typeof t.equals=="function"||typeof e.equals=="function")return typeof t.equals=="function"&&t.equals(e)&&typeof e.equals=="function"&&e.equals(t);switch(u){case"Arguments":case"Array":case"Object":if(typeof t.constructor=="function"&&ci(t.constructor)==="Promise")return t===e;break;case"Boolean":case"Number":case"String":if(!(typeof t==typeof e&&Ye(t.valueOf(),e.valueOf())))return!1;break;case"Date":if(!Ye(t.valueOf(),e.valueOf()))return!1;break;case"Error":return t.name===e.name&&t.message===e.message;case"RegExp":if(!(t.source===e.source&&t.global===e.global&&t.ignoreCase===e.ignoreCase&&t.multiline===e.multiline&&t.sticky===e.sticky&&t.unicode===e.unicode))return!1;break}for(var a=r.length-1;a>=0;){if(r[a]===t)return n[a]===e;a-=1}switch(u){case"Map":return t.size!==e.size?!1:it(t.entries(),e.entries(),r.concat([t]),n.concat([e]));case"Set":return t.size!==e.size?!1:it(t.values(),e.values(),r.concat([t]),n.concat([e]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var i=oe(t);if(i.length!==oe(e).length)return!1;var c=r.concat([t]),p=n.concat([e]);for(a=i.length-1;a>=0;){var m=i[a];if(!(Y(m,e)&&Mr(e[m],t[m],c,p)))return!1;a-=1}return!0}var se=o(function(e,r){return Mr(e,r,[],[])});function Ut(t,e,r){var n,u;if(typeof t.indexOf=="function")switch(typeof e){case"number":if(e===0){for(n=1/e;r<t.length;){if(u=t[r],u===0&&1/u===n)return r;r+=1}return-1}else if(e!==e){for(;r<t.length;){if(u=t[r],typeof u=="number"&&u!==u)return r;r+=1}return-1}return t.indexOf(e,r);case"string":case"boolean":case"function":case"undefined":return t.indexOf(e,r);case"object":if(e===null)return t.indexOf(e,r)}for(;r<t.length;){if(se(t[r],e))return r;r+=1}return-1}function Pe(t,e){return Ut(e,t,0)>=0}function Pr(t){var e=t.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0");return'"'+e.replace(/"/g,'\\"')+'"'}var We=function(e){return(e<10?"0":"")+e},pi=typeof Date.prototype.toISOString=="function"?function(e){return e.toISOString()}:function(e){return e.getUTCFullYear()+"-"+We(e.getUTCMonth()+1)+"-"+We(e.getUTCDate())+"T"+We(e.getUTCHours())+":"+We(e.getUTCMinutes())+":"+We(e.getUTCSeconds())+"."+(e.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"};function qt(t){return function(){return!t.apply(this,arguments)}}function zr(t,e){for(var r=0,n=e.length,u=[];r<n;)t(e[r])&&(u[u.length]=e[r]),r+=1;return u}function ur(t){return Object.prototype.toString.call(t)==="[object Object]"}var hi=function(){function t(e,r){this.xf=r,this.f=e}return t.prototype["@@transducer/init"]=R.init,t.prototype["@@transducer/result"]=R.result,t.prototype["@@transducer/step"]=function(e,r){return this.f(r)?this.xf["@@transducer/step"](e,r):e},t}(),mi=o(function(e,r){return new hi(e,r)}),Ur=o(H(["filter"],mi,function(t,e){return ur(e)?ue(function(r,n){return t(e[n])&&(r[n]=e[n]),r},{},oe(e)):zr(t,e)})),wr=o(function(e,r){return Ur(qt(e),r)});function qr(t,e){var r=function(i){var c=e.concat([t]);return Pe(i,c)?"<Circular>":qr(i,c)},n=function(a,i){return De(function(c){return Pr(c)+": "+r(a[c])},i.slice().sort())};switch(Object.prototype.toString.call(t)){case"[object Arguments]":return"(function() { return arguments; }("+De(r,t).join(", ")+"))";case"[object Array]":return"["+De(r,t).concat(n(t,wr(function(a){return/^\d+$/.test(a)},oe(t)))).join(", ")+"]";case"[object Boolean]":return typeof t=="object"?"new Boolean("+r(t.valueOf())+")":t.toString();case"[object Date]":return"new Date("+(isNaN(t.valueOf())?r(NaN):Pr(pi(t)))+")";case"[object Null]":return"null";case"[object Number]":return typeof t=="object"?"new Number("+r(t.valueOf())+")":1/t===-1/0?"-0":t.toString(10);case"[object String]":return typeof t=="object"?"new String("+r(t.valueOf())+")":Pr(t);case"[object Undefined]":return"undefined";default:if(typeof t.toString=="function"){var u=t.toString();if(u!=="[object Object]")return u}return"{"+n(t,oe(t)).join(", ")+"}"}}var Le=g(function(e){return qr(e,[])}),Wr=o(function(e,r){if(me(e)){if(me(r))return e.concat(r);throw new TypeError(Le(r)+" is not an array")}if(je(e)){if(je(r))return e+r;throw new TypeError(Le(r)+" is not a string")}if(e!=null&&Ne(e["fantasy-land/concat"]))return e["fantasy-land/concat"](r);if(e!=null&&Ne(e.concat))return e.concat(r);throw new TypeError(Le(e)+' does not have a method named "concat" or "fantasy-land/concat"')}),di=g(function(e){var r=ge(Be,0,he(function(n){return n[0].length},e));return we(r,function(){for(var n=0;n<e.length;){if(e[n][0].apply(this,arguments))return e[n][1].apply(this,arguments);n+=1}})}),Wt=o(function(e,r){if(e>10)throw new Error("Constructor with greater than ten arguments");return e===0?function(){return new r}:Br(pr(e,function(n,u,a,i,c,p,m,y,h,P){switch(arguments.length){case 1:return new r(n);case 2:return new r(n,u);case 3:return new r(n,u,a);case 4:return new r(n,u,a,i);case 5:return new r(n,u,a,i,c);case 6:return new r(n,u,a,i,c,p);case 7:return new r(n,u,a,i,c,p,m);case 8:return new r(n,u,a,i,c,p,m,y);case 9:return new r(n,u,a,i,c,p,m,y,h);case 10:return new r(n,u,a,i,c,p,m,y,h,P)}}))}),fi=g(function(e){return Wt(e.length,e)}),wi=o(Pe),Ft=o(function(e,r){return Q(ge(Be,0,Ke("length",r)),function(){var n=arguments,u=this;return e.apply(u,De(function(a){return a.apply(u,n)},r))})}),gi=function(){function t(e,r,n,u){this.valueFn=e,this.valueAcc=r,this.keyFn=n,this.xf=u,this.inputs={}}return t.prototype["@@transducer/init"]=R.init,t.prototype["@@transducer/result"]=function(e){var r;for(r in this.inputs)if(Y(r,this.inputs)&&(e=this.xf["@@transducer/step"](e,this.inputs[r]),e["@@transducer/reduced"])){e=e["@@transducer/value"];break}return this.inputs=null,this.xf["@@transducer/result"](e)},t.prototype["@@transducer/step"]=function(e,r){var n=this.keyFn(r);return this.inputs[n]=this.inputs[n]||[n,this.valueAcc],this.inputs[n][1]=this.valueFn(this.inputs[n][1],r),e},t}(),yi=Ge(4,[],function(e,r,n,u){return new gi(e,r,n,u)}),gr=Ge(4,[],H([],yi,function(e,r,n,u){return ue(function(a,i){var c=n(i);return a[c]=e(Y(c,a)?a[c]:mr(r,[],[],!1),i),a},{},u)})),_i=gr(function(t,e){return t+1},0),vi=sr(-1),Gt=o(function(e,r){return r==null||r!==r?e:r}),bi=S(function(e,r,n){var u=e(r),a=e(n);return u>a?-1:u<a?1:0}),Zt=function(){function t(){this._nativeSet=typeof Set=="function"?new Set:null,this._items={}}return t.prototype.add=function(e){return!ot(e,!0,this)},t.prototype.has=function(e){return ot(e,!1,this)},t}();function ot(t,e,r){var n=typeof t,u,a;switch(n){case"string":case"number":return t===0&&1/t===-1/0?r._items["-0"]?!0:(e&&(r._items["-0"]=!0),!1):r._nativeSet!==null?e?(u=r._nativeSet.size,r._nativeSet.add(t),a=r._nativeSet.size,a===u):r._nativeSet.has(t):n in r._items?t in r._items[n]?!0:(e&&(r._items[n][t]=!0),!1):(e&&(r._items[n]={},r._items[n][t]=!0),!1);case"boolean":if(n in r._items){var i=t?1:0;return r._items[n][i]?!0:(e&&(r._items[n][i]=!0),!1)}else return e&&(r._items[n]=t?[!1,!0]:[!0,!1]),!1;case"function":return r._nativeSet!==null?e?(u=r._nativeSet.size,r._nativeSet.add(t),a=r._nativeSet.size,a===u):r._nativeSet.has(t):n in r._items?Pe(t,r._items[n])?!0:(e&&r._items[n].push(t),!1):(e&&(r._items[n]=[t]),!1);case"undefined":return r._items[n]?!0:(e&&(r._items[n]=!0),!1);case"object":if(t===null)return r._items.null?!0:(e&&(r._items.null=!0),!1);default:return n=Object.prototype.toString.call(t),n in r._items?Pe(t,r._items[n])?!0:(e&&r._items[n].push(t),!1):(e&&(r._items[n]=[t]),!1)}}var kr=o(function(e,r){for(var n=[],u=0,a=e.length,i=r.length,c=new Zt,p=0;p<i;p+=1)c.add(r[p]);for(;u<a;)c.add(e[u])&&(n[n.length]=e[u]),u+=1;return n}),Ar=S(function(e,r,n){for(var u=[],a=0,i=r.length;a<i;)!Oe(e,r[a],n)&&!Oe(e,r[a],u)&&u.push(r[a]),a+=1;return u}),Kt=o(function(e,r){var n={};for(var u in r)n[u]=r[u];return delete n[e],n}),$t=S(function(e,r,n){var u=Array.prototype.slice.call(n,0);return u.splice(e,r),u}),Fr=S(function(e,r,n){return bt(e,cr(r),n)}),xi=o(function t(e,r){switch(e.length){case 0:return r;case 1:return Se(e[0])&&me(r)?$t(e[0],1,r):Kt(e[0],r);default:var n=e[0],u=Array.prototype.slice.call(e,1);return r[n]==null?r:Se(n)&&me(r)?Fr(n,t(u,r[n]),r):lr(n,t(u,r[n]),r)}}),Si=o(function(e,r){return e/r}),Pi=function(){function t(e,r){this.xf=r,this.n=e}return t.prototype["@@transducer/init"]=R.init,t.prototype["@@transducer/result"]=R.result,t.prototype["@@transducer/step"]=function(e,r){return this.n>0?(this.n-=1,e):this.xf["@@transducer/step"](e,r)},t}(),Ci=o(function(e,r){return new Pi(e,r)}),Ht=o(H(["drop"],Ci,function(e,r){return pe(Math.max(0,e),1/0,r)})),ki=function(){function t(e,r){this.xf=r,this.n=e,this.i=0}return t.prototype["@@transducer/init"]=R.init,t.prototype["@@transducer/result"]=R.result,t.prototype["@@transducer/step"]=function(e,r){this.i+=1;var n=this.n===0?e:this.xf["@@transducer/step"](e,r);return this.n>=0&&this.i>=this.n?be(n):n},t}(),Ai=o(function(e,r){return new ki(e,r)}),Gr=o(H(["take"],Ai,function(e,r){return pe(0,e<0?1/0:e,r)}));function Ii(t,e){return Gr(t<e.length?e.length-t:0,e)}var Ti=function(){function t(e,r){this.xf=r,this.pos=0,this.full=!1,this.acc=new Array(e)}return t.prototype["@@transducer/init"]=R.init,t.prototype["@@transducer/result"]=function(e){return this.acc=null,this.xf["@@transducer/result"](e)},t.prototype["@@transducer/step"]=function(e,r){return this.full&&(e=this.xf["@@transducer/step"](e,this.acc[this.pos])),this.store(r),e},t.prototype.store=function(e){this.acc[this.pos]=e,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)},t}(),Di=o(function(e,r){return new Ti(e,r)}),Li=o(H([],Di,Ii));function ji(t,e){for(var r=e.length-1;r>=0&&t(e[r]);)r-=1;return pe(0,r+1,e)}var Ni=function(){function t(e,r){this.f=e,this.retained=[],this.xf=r}return t.prototype["@@transducer/init"]=R.init,t.prototype["@@transducer/result"]=function(e){return this.retained=null,this.xf["@@transducer/result"](e)},t.prototype["@@transducer/step"]=function(e,r){return this.f(r)?this.retain(e,r):this.flush(e,r)},t.prototype.flush=function(e,r){return e=ue(this.xf["@@transducer/step"],e,this.retained),this.retained=[],this.xf["@@transducer/step"](e,r)},t.prototype.retain=function(e,r){return this.retained.push(r),e},t}(),Oi=o(function(e,r){return new Ni(e,r)}),Ei=o(H([],Oi,ji)),Bi=function(){function t(e,r){this.xf=r,this.pred=e,this.lastValue=void 0,this.seenFirstValue=!1}return t.prototype["@@transducer/init"]=R.init,t.prototype["@@transducer/result"]=R.result,t.prototype["@@transducer/step"]=function(e,r){var n=!1;return this.seenFirstValue?this.pred(this.lastValue,r)&&(n=!0):this.seenFirstValue=!0,this.lastValue=r,n?e:this.xf["@@transducer/step"](e,r)},t}(),Vt=o(function(e,r){return new Bi(e,r)}),Xt=Re(-1),Qt=o(H([],Vt,function(e,r){var n=[],u=1,a=r.length;if(a!==0)for(n[0]=r[0];u<a;)e(Xt(n),r[u])||(n[n.length]=r[u]),u+=1;return n})),Ri=g(H([],Vt(se),Qt(se))),Mi=function(){function t(e,r){this.xf=r,this.f=e}return t.prototype["@@transducer/init"]=R.init,t.prototype["@@transducer/result"]=R.result,t.prototype["@@transducer/step"]=function(e,r){if(this.f){if(this.f(r))return e;this.f=null}return this.xf["@@transducer/step"](e,r)},t}(),zi=o(function(e,r){return new Mi(e,r)}),Ui=o(H(["dropWhile"],zi,function(e,r){for(var n=0,u=r.length;n<u&&e(r[n]);)n+=1;return pe(n,1/0,r)})),Jt=o(function(e,r){return e||r}),qi=o(function(e,r){return Ne(e)?function(){return e.apply(this,arguments)||r.apply(this,arguments)}:hr(Jt)(e,r)}),Yt=g(function(e){return e!=null&&typeof e["fantasy-land/empty"]=="function"?e["fantasy-land/empty"]():e!=null&&e.constructor!=null&&typeof e.constructor["fantasy-land/empty"]=="function"?e.constructor["fantasy-land/empty"]():e!=null&&typeof e.empty=="function"?e.empty():e!=null&&e.constructor!=null&&typeof e.constructor.empty=="function"?e.constructor.empty():me(e)?[]:je(e)?"":ur(e)?{}:Ct(e)?function(){return arguments}():void 0}),en=o(function(e,r){return Ht(e>=0?r.length-e:0,r)}),Wi=o(function(t,e){return se(en(t.length,e),t)}),Fi=S(function(e,r,n){return se(e(r),e(n))}),Gi=S(function(e,r,n){return se(r[e],n[e])}),Zi=o(function t(e,r){var n=r instanceof Array?[]:{},u,a,i;for(a in r)u=e[a],i=typeof u,n[a]=i==="function"?u(r[a]):u&&i==="object"?t(u,r[a]):r[a];return n}),Ki=function(){function t(e,r){this.xf=r,this.f=e,this.found=!1}return t.prototype["@@transducer/init"]=R.init,t.prototype["@@transducer/result"]=function(e){return this.found||(e=this.xf["@@transducer/step"](e,void 0)),this.xf["@@transducer/result"](e)},t.prototype["@@transducer/step"]=function(e,r){return this.f(r)&&(this.found=!0,e=be(this.xf["@@transducer/step"](e,r))),e},t}(),$i=o(function(e,r){return new Ki(e,r)}),Hi=o(H(["find"],$i,function(e,r){for(var n=0,u=r.length;n<u;){if(e(r[n]))return r[n];n+=1}})),Vi=function(){function t(e,r){this.xf=r,this.f=e,this.idx=-1,this.found=!1}return t.prototype["@@transducer/init"]=R.init,t.prototype["@@transducer/result"]=function(e){return this.found||(e=this.xf["@@transducer/step"](e,-1)),this.xf["@@transducer/result"](e)},t.prototype["@@transducer/step"]=function(e,r){return this.idx+=1,this.f(r)&&(this.found=!0,e=be(this.xf["@@transducer/step"](e,this.idx))),e},t}(),Xi=o(function(e,r){return new Vi(e,r)}),Qi=o(H([],Xi,function(e,r){for(var n=0,u=r.length;n<u;){if(e(r[n]))return n;n+=1}return-1})),Ji=function(){function t(e,r){this.xf=r,this.f=e}return t.prototype["@@transducer/init"]=R.init,t.prototype["@@transducer/result"]=function(e){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](e,this.last))},t.prototype["@@transducer/step"]=function(e,r){return this.f(r)&&(this.last=r),e},t}(),Yi=o(function(e,r){return new Ji(e,r)}),eo=o(H([],Yi,function(e,r){for(var n=r.length-1;n>=0;){if(e(r[n]))return r[n];n-=1}})),ro=function(){function t(e,r){this.xf=r,this.f=e,this.idx=-1,this.lastIdx=-1}return t.prototype["@@transducer/init"]=R.init,t.prototype["@@transducer/result"]=function(e){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](e,this.lastIdx))},t.prototype["@@transducer/step"]=function(e,r){return this.idx+=1,this.f(r)&&(this.lastIdx=this.idx),e},t}(),to=o(function(e,r){return new ro(e,r)}),no=o(H([],to,function(e,r){for(var n=r.length-1;n>=0;){if(e(r[n]))return n;n-=1}return-1})),uo=g(jt(!0)),yr=g(function(e){return Q(e.length,function(r,n){var u=Array.prototype.slice.call(arguments,0);return u[0]=n,u[1]=r,e.apply(this,u)})}),ao=o($e("forEach",function(e,r){for(var n=r.length,u=0;u<n;)e(r[u]),u+=1;return r})),io=o(function(e,r){for(var n=oe(r),u=0;u<n.length;){var a=n[u];e(r[a],a,r),u+=1}return r}),oo=g(function(e){for(var r={},n=0;n<e.length;)r[e[n][0]]=e[n][1],n+=1;return r}),so=o($e("groupBy",gr(function(t,e){return t==null&&(t=[]),t.push(e),t},null))),co=o(function(t,e){for(var r=[],n=0,u=e.length;n<u;){for(var a=n+1;a<u&&t(e[a-1],e[a]);)a+=1;r.push(e.slice(n,a)),n=a}return r}),lo=o(function(e,r){return e>r}),po=o(function(e,r){return e>=r}),rn=o(function(e,r){if(e.length===0||rr(r))return!1;for(var n=r,u=0;u<e.length;)if(!rr(n)&&Y(e[u],n))n=n[e[u]],u+=1;else return!1;return!0}),ho=o(function(e,r){return rn([e],r)}),mo=o(function(e,r){return e in r}),fo=o(Ye),wo=S(function(e,r,n){return Q(Math.max(e.length,r.length,n.length),function(){return e.apply(this,arguments)?r.apply(this,arguments):n.apply(this,arguments)})}),go=sr(1),yo=o(Pe),_o=gr(function(t,e){return e},null),vo=o(function(e,r){return typeof r.indexOf=="function"&&!me(r)?r.indexOf(e):Ut(r,e,0)}),bo=pe(0,-1),xo=S(function(e,r,n){return zr(function(u){return Oe(e,u,n)},r)}),So=S(function(e,r,n){e=e<n.length&&e>=0?e:n.length;var u=Array.prototype.slice.call(n,0);return u.splice(e,0,r),u}),Po=S(function(e,r,n){return e=e<n.length&&e>=0?e:n.length,[].concat(Array.prototype.slice.call(n,0,e),r,Array.prototype.slice.call(n,e))}),tn=o(function(e,r){for(var n=new Zt,u=[],a=0,i,c;a<r.length;)c=r[a],i=e(c),n.add(i)&&u.push(c),a+=1;return u}),Zr=tn(fr),Co=o(function(e,r){var n,u;return e.length>r.length?(n=e,u=r):(n=r,u=e),Zr(zr(yr(Pe)(n),u))}),ko=o($e("intersperse",function(e,r){for(var n=[],u=0,a=r.length;u<a;)u===a-1?n.push(r[u]):n.push(r[u],e),u+=1;return n}));function Ao(t){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),r=1,n=arguments.length;r<n;){var u=arguments[r];if(u!=null)for(var a in u)Y(a,u)&&(e[a]=u[a]);r+=1}return e}const Xe=typeof Object.assign=="function"?Object.assign:Ao;var nn=o(function(e,r){var n={};return n[e]=r,n}),Io={"@@transducer/init":Array,"@@transducer/step":function(t,e){return t.push(e),t},"@@transducer/result":Ve},To={"@@transducer/init":String,"@@transducer/step":function(t,e){return t+e},"@@transducer/result":Ve},Do={"@@transducer/init":Object,"@@transducer/step":function(t,e){return Xe(t,Ze(e)?nn(e[0],e[1]):e)},"@@transducer/result":Ve};function Lo(t){if(Nr(t))return t;if(Ze(t))return Io;if(typeof t=="string")return To;if(typeof t=="object")return Do;throw new Error("Cannot create transformer for "+t)}var jo=S(function(e,r,n){return Nr(e)?ue(r(e),e["@@transducer/init"](),n):ue(r(Lo(e)),mr(e,[],[],!1),n)}),No=g(function(e){for(var r=oe(e),n=r.length,u=0,a={};u<n;){var i=r[u],c=e[i],p=Y(c,a)?a[c]:a[c]=[];p[p.length]=i,u+=1}return a}),Oo=g(function(e){for(var r=oe(e),n=r.length,u=0,a={};u<n;){var i=r[u];a[e[i]]=i,u+=1}return a}),Qe=o(function(e,r){return Q(e+1,function(){var n=arguments[e];if(n!=null&&Ne(n[r]))return n[r].apply(n,Array.prototype.slice.call(arguments,0,e));throw new TypeError(Le(n)+' does not have a method named "'+r+'"')})}),un=o(function(e,r){return r!=null&&r.constructor===e||r instanceof e}),Eo=g(function(e){return e!=null&&se(e,Yt(e))}),Bo=Qe(1,"join"),an=g(function(e){return Ft(function(){return Array.prototype.slice.call(arguments,0)},e)}),Ro=g(function(e){var r,n=[];for(r in e)n[n.length]=r;return n}),Mo=o(function(e,r){if(typeof r.lastIndexOf=="function"&&!me(r))return r.lastIndexOf(e);for(var n=r.length-1;n>=0;){if(se(r[n],e))return n;n-=1}return-1});function Ir(t){return Object.prototype.toString.call(t)==="[object Number]"}var on=g(function(e){return e!=null&&Ir(e.length)?e.length:NaN}),_r=o(function(e,r){return function(n){return function(u){return he(function(a){return r(a,u)},n(e(u)))}}}),zo=g(function(e){return _r(Re(e),Fr(e))}),Uo=g(function(e){return _r(ke(e),Dt(e))}),qo=g(function(e){return _r(Or(e),lr(e))}),Wo=o(function(e,r){return e<r}),Fo=o(function(e,r){return e<=r}),Go=S(function(e,r,n){for(var u=0,a=n.length,i=[],c=[r];u<a;)c=e(c[0],n[u]),i[u]=c[1],u+=1;return[c[0],i]}),Zo=S(function(e,r,n){for(var u=n.length-1,a=[],i=[r];u>=0;)i=e(i[0],n[u]),a[u]=i[1],u-=1;return[i[0],a]}),Ko=o(function(e,r){return ue(function(n,u){return n[u]=e(r[u],u,r),n},{},oe(r))}),$o=o(function(e,r){return r.match(e)||[]}),Ho=o(function(e,r){return Se(e)?!Se(r)||r<1?NaN:(e%r+r)%r:NaN}),Vo=S(function(e,r,n){return e(n)>e(r)?n:r}),sn=ge(sr,0),cn=g(function(e){return sn(e)/e.length}),Xo=g(function(e){var r=e.length;if(r===0)return NaN;var n=2-r%2,u=(r-n)/2;return cn(Array.prototype.slice.call(e,0).sort(function(a,i){return a<i?-1:a>i?1:0}).slice(u,u+n))}),Qo=o(function(e,r){var n={};return we(r.length,function(){var u=e.apply(this,arguments);return Y(u,n)||(n[u]=r.apply(this,arguments)),n[u]})}),Jo=o(function(e,r){return Xe({},e,r)}),Yo=g(function(e){return Xe.apply(null,[{}].concat(e))}),Kr=S(function(e,r,n){var u={},a;for(a in r)Y(a,r)&&(u[a]=Y(a,n)?e(a,r[a],n[a]):r[a]);for(a in n)Y(a,n)&&!Y(a,u)&&(u[a]=n[a]);return u}),vr=S(function t(e,r,n){return Kr(function(u,a,i){return ur(a)&&ur(i)?t(e,a,i):e(u,a,i)},r,n)}),es=o(function(e,r){return vr(function(n,u,a){return u},e,r)}),rs=o(function(e,r){return vr(function(n,u,a){return a},e,r)}),ts=S(function(e,r,n){return vr(function(u,a,i){return e(a,i)},r,n)}),ns=o(function(e,r){return Xe({},r,e)}),us=o(function(e,r){return Xe({},e,r)}),as=S(function(e,r,n){return Kr(function(u,a,i){return e(a,i)},r,n)}),is=o(function(e,r){return r<e?r:e}),os=S(function(e,r,n){return e(n)<e(r)?n:r}),ss=o(function(e,r){return e%r}),cs=S(function(t,e,r){var n=r.length,u=r.slice(),a=t<0?n+t:t,i=e<0?n+e:e,c=u.splice(a,1);return a<0||a>=r.length||i<0||i>=r.length?r:[].concat(u.slice(0,i)).concat(c).concat(u.slice(i,r.length))}),ln=o(function(e,r){return e*r}),ls=g(function(e){return-e}),ps=o(function(e,r){return xt(qt(e),r)}),hs=g(function(e){var r=e<0?1:e+1;return Q(r,function(){return Re(e,arguments)})}),ms=S(function(e,r,n){return e(r(n))});function ds(t){return[t]}var fs=g(ds),ws=o(function(e,r){for(var n={},u={},a=0,i=e.length;a<i;)u[e[a]]=1,a+=1;for(var c in r)u.hasOwnProperty(c)||(n[c]=r[c]);return n}),gs=g(function(e){var r=!1,n;return we(e.length,function(){return r||(r=!0,n=e.apply(this,arguments)),n})});function pn(t,e){if(e==null||!Ne(e.then))throw new TypeError("`"+t+"` expected a Promise, received "+qr(e,[]))}var ys=o(function(e,r){return pn("otherwise",r),r.then(null,e)}),hn=function(t){return{value:t,map:function(e){return hn(e(t))}}},mn=S(function(e,r,n){return e(function(u){return hn(r(u))})(n).value}),_s=o(function(e,r){return[e,r]});function dn(t){return o(function(e,r){return we(Math.max(0,e.length-r.length),function(){return e.apply(this,t(r,arguments))})})}var vs=dn(fe),bs=dn(yr(fe)),xs=an([Ur,wr]),Ss=S(function(e,r,n){return se(ke(e,n),r)}),fn=S(function(e,r,n){return Gt(e,ke(r,n))}),Ps=S(function(e,r,n){return e(ke(r,n))}),Cs=o(function(e,r){for(var n={},u=0;u<e.length;)e[u]in r&&(n[e[u]]=r[e[u]]),u+=1;return n}),wn=o(function(e,r){for(var n={},u=0,a=e.length;u<a;){var i=e[u];n[i]=r[i],u+=1}return n}),ks=o(function(e,r){var n={};for(var u in r)e(r[u],u,r)&&(n[u]=r[u]);return n});function As(){if(arguments.length===0)throw new Error("pipeK requires at least one argument");return Bt.apply(this,He(arguments))}var gn=o(function(e,r){return fe([e],r)}),Is=ge(ln,1),yn=o(function(e,r){return Q(r.length,function(){for(var n=[],u=0;u<r.length;)n.push(r[u].call(this,arguments[u])),u+=1;return e.apply(this,n.concat(Array.prototype.slice.call(arguments,r.length)))})}),Ts=yn(De,[wn,fr]),Ds=S(function(e,r,n){return se(r,n[e])}),Ls=S(function(e,r,n){return un(e,n[r])}),js=S(function(e,r,n){return fn(e,[r],n)}),Ns=S(function(e,r,n){return e(n[r])}),Os=o(function(e,r){return e.map(function(n){return ke([n],r)})}),Es=o(function(e,r){if(!(Ir(e)&&Ir(r)))throw new TypeError("Both arguments to range must be numbers");for(var n=[],u=e;u<r;)n.push(u),u+=1;return n}),_n=S(function(e,r,n){for(var u=n.length-1;u>=0;)r=e(n[u],r),u-=1;return r}),Bs=Ge(4,[],function(e,r,n,u){return ue(function(a,i){return e(a,i)?r(a,i):be(a)},n,u)}),Rs=g(be),vn=o(function(e,r){var n=Number(r),u=0,a;if(n<0||isNaN(n))throw new RangeError("n must be a non-negative number");for(a=new Array(n);u<n;)a[u]=e(u),u+=1;return a}),Ms=o(function(e,r){return vn(cr(e),r)}),zs=S(function(e,r,n){return n.replace(e,r)}),Us=S(function(e,r,n){for(var u=0,a=n.length,i=[r];u<a;)r=e(r,n[u]),i[u+1]=r,u+=1;return i}),bn=o(function(e,r){return typeof r.sequence=="function"?r.sequence(e):_n(function(n,u){return Er(he(gn,n),u)},e([]),r)}),qs=S(function(e,r,n){return mn(e,cr(r),n)}),Ws=o(function(e,r){return Array.prototype.slice.call(r,0).sort(e)}),Fs=o(function(e,r){return Array.prototype.slice.call(r,0).sort(function(n,u){var a=e(n),i=e(u);return a<i?-1:a>i?1:0})}),Gs=o(function(e,r){return Array.prototype.slice.call(r,0).sort(function(n,u){for(var a=0,i=0;a===0&&i<e.length;)a=e[i](n,u),i+=1;return a})}),Zs=Qe(1,"split"),Ks=o(function(e,r){return[pe(0,e,r),pe(e,on(r),r)]}),$s=o(function(e,r){if(e<=0)throw new Error("First argument to splitEvery must be a positive integer");for(var n=[],u=0;u<r.length;)n.push(pe(u,u+=e,r));return n}),Hs=o(function(e,r){for(var n=0,u=r.length,a=[];n<u&&!e(r[n]);)a.push(r[n]),n+=1;return[a,Array.prototype.slice.call(r,n)]}),Vs=o(function(t,e){return se(Gr(t.length,e),t)}),Xs=o(function(e,r){return Number(e)-Number(r)}),Qs=o(function(e,r){return Wr(kr(e,r),kr(r,e))}),Js=S(function(e,r,n){return Wr(Ar(e,r,n),Ar(e,n,r))}),Ys=o(function(e,r){for(var n=r.length-1;n>=0&&e(r[n]);)n-=1;return pe(n+1,1/0,r)}),ec=function(){function t(e,r){this.xf=r,this.f=e}return t.prototype["@@transducer/init"]=R.init,t.prototype["@@transducer/result"]=R.result,t.prototype["@@transducer/step"]=function(e,r){return this.f(r)?this.xf["@@transducer/step"](e,r):be(e)},t}(),rc=o(function(e,r){return new ec(e,r)}),tc=o(H(["takeWhile"],rc,function(e,r){for(var n=0,u=r.length;n<u&&e(r[n]);)n+=1;return pe(0,n,r)})),nc=function(){function t(e,r){this.xf=r,this.f=e}return t.prototype["@@transducer/init"]=R.init,t.prototype["@@transducer/result"]=R.result,t.prototype["@@transducer/step"]=function(e,r){return this.f(r),this.xf["@@transducer/step"](e,r)},t}(),uc=o(function(e,r){return new nc(e,r)}),ac=o(H([],uc,function(e,r){return e(r),r}));function ic(t){return Object.prototype.toString.call(t)==="[object RegExp]"}var oc=o(function(e,r){if(!ic(e))throw new TypeError("‘test’ requires a value of type RegExp as its first argument; received "+Le(e));return Nt(e).test(r)}),sc=o(function(e,r){return pn("andThen",r),r.then(e)}),cc=Qe(0,"toLowerCase"),lc=g(function(e){var r=[];for(var n in e)Y(n,e)&&(r[r.length]=[n,e[n]]);return r}),pc=g(function(e){var r=[];for(var n in e)r[r.length]=[n,e[n]];return r}),hc=Qe(0,"toUpperCase"),mc=Q(4,function(e,r,n,u){return ue(e(typeof r=="function"?St(r):r),n,u)}),dc=g(function(e){for(var r=0,n=[];r<e.length;){for(var u=e[r],a=0;a<u.length;)typeof n[a]>"u"&&(n[a]=[]),n[a].push(u[a]),a+=1;r+=1}return n}),fc=S(function(e,r,n){return typeof n["fantasy-land/traverse"]=="function"?n["fantasy-land/traverse"](r,e):bn(e,he(r,n))}),Fe="	\n\v\f\r                　\u2028\u2029\uFEFF",wc="​",gc=typeof String.prototype.trim=="function",yc=g(!gc||Fe.trim()||!wc.trim()?function(e){var r=new RegExp("^["+Fe+"]["+Fe+"]*"),n=new RegExp("["+Fe+"]["+Fe+"]*$");return e.replace(r,"").replace(n,"")}:function(e){return e.trim()}),_c=o(function(e,r){return we(e.length,function(){try{return e.apply(this,arguments)}catch(n){return r.apply(this,fe([n],arguments))}})}),vc=g(function(e){return function(){return e(Array.prototype.slice.call(arguments,0))}}),bc=g(function(e){return pr(1,e)}),xc=o(function(e,r){return Q(e,function(){for(var n=1,u=r,a=0,i;n<=e&&typeof u=="function";)i=n===e?arguments.length:a+u.length,u=u.apply(this,Array.prototype.slice.call(arguments,a,i)),n+=1,a=i;return u})}),Sc=o(function(e,r){for(var n=e(r),u=[];n&&n.length;)u[u.length]=n[0],n=e(n[1]);return u}),Pc=o(nr(Zr,fe)),xn=o(function(e,r){for(var n=0,u=r.length,a=[],i;n<u;)i=r[n],Oe(e,i,a)||(a[a.length]=i),n+=1;return a}),Cc=S(function(e,r,n){return xn(e,fe(r,n))}),kc=S(function(e,r,n){return e(n)?n:r(n)}),Ac=Rr(Ve),Ic=S(function(e,r,n){for(var u=n;!e(u);)u=r(u);return u}),Tc=g(function(e){var r,n=[];for(r in e)n[n.length]=e[r];return n}),Dc=function(t){return{value:t,"fantasy-land/map":function(){return this}}},Lc=o(function(e,r){return e(Dc)(r).value}),jc=S(function(e,r,n){return e(n)?r(n):n}),Sn=o(function(e,r){for(var n in e)if(Y(n,e)&&!e[n](r[n]))return!1;return!0}),Nc=o(function(e,r){return Sn(he(se,e),r)}),Oc=o(function(t,e){return wr(yr(Pe)(t),e)}),Ec=o(function(e,r){return!!(!e^!r)}),Bc=o(function(e,r){for(var n=0,u=e.length,a,i=r.length,c=[];n<u;){for(a=0;a<i;)c[c.length]=[e[n],r[a]],a+=1;n+=1}return c}),Rc=o(function(e,r){for(var n=[],u=0,a=Math.min(e.length,r.length);u<a;)n[u]=[e[u],r[u]],u+=1;return n}),Mc=o(function(e,r){for(var n=0,u=Math.min(e.length,r.length),a={};n<u;)a[e[n]]=r[n],n+=1;return a}),zc=S(function(e,r,n){for(var u=[],a=0,i=Math.min(r.length,n.length);a<i;)u[a]=e(r[a],n[a]),a+=1;return u}),Uc=g(function(e){return Q(e.length,function(){var n=arguments;return function(){return e.apply(this,n)}})});const qc=Object.freeze(Object.defineProperty({__proto__:null,F:Sa,T:Pa,__:Ca,add:sr,addIndex:ka,adjust:bt,all:xt,allPass:Ea,always:cr,and:At,andThen:sc,any:Ma,anyPass:za,ap:Er,aperture:Fa,append:Ga,apply:It,applySpec:Za,applyTo:Ka,ascend:$a,assoc:lr,assocPath:Dt,binary:Ha,bind:Pt,both:Va,call:Xa,chain:Rr,clamp:ri,clone:ti,comparator:ni,complement:ui,compose:nr,composeK:Bt,composeP:oi,composeWith:si,concat:Wr,cond:di,construct:fi,constructN:Wt,contains:wi,converge:Ft,countBy:_i,curry:Br,curryN:Q,dec:vi,defaultTo:Gt,descend:bi,difference:kr,differenceWith:Ar,dissoc:Kt,dissocPath:xi,divide:Si,drop:Ht,dropLast:Li,dropLastWhile:Ei,dropRepeats:Ri,dropRepeatsWith:Qt,dropWhile:Ui,either:qi,empty:Yt,endsWith:Wi,eqBy:Fi,eqProps:Gi,equals:se,evolve:Zi,filter:Ur,find:Hi,findIndex:Qi,findLast:eo,findLastIndex:no,flatten:uo,flip:yr,forEach:ao,forEachObjIndexed:io,fromPairs:oo,groupBy:so,groupWith:co,gt:lo,gte:po,has:ho,hasIn:mo,hasPath:rn,head:Mt,identical:fo,identity:fr,ifElse:wo,inc:go,includes:yo,indexBy:_o,indexOf:vo,init:bo,innerJoin:xo,insert:So,insertAll:Po,intersection:Co,intersperse:ko,into:jo,invert:No,invertObj:Oo,invoker:Qe,is:un,isEmpty:Eo,isNil:rr,join:Bo,juxt:an,keys:oe,keysIn:Ro,last:Xt,lastIndexOf:Mo,length:on,lens:_r,lensIndex:zo,lensPath:Uo,lensProp:qo,lift:hr,liftN:Lt,lt:Wo,lte:Fo,map:he,mapAccum:Go,mapAccumRight:Zo,mapObjIndexed:Ko,match:$o,mathMod:Ho,max:Be,maxBy:Vo,mean:cn,median:Xo,memoizeWith:Qo,merge:Jo,mergeAll:Yo,mergeDeepLeft:es,mergeDeepRight:rs,mergeDeepWith:ts,mergeDeepWithKey:vr,mergeLeft:ns,mergeRight:us,mergeWith:as,mergeWithKey:Kr,min:is,minBy:os,modulo:ss,move:cs,multiply:ln,nAry:pr,negate:ls,none:ps,not:Ot,nth:Re,nthArg:hs,o:ms,objOf:nn,of:fs,omit:ws,once:gs,or:Jt,otherwise:ys,over:mn,pair:_s,partial:vs,partialRight:bs,partition:xs,path:ke,pathEq:Ss,pathOr:fn,pathSatisfies:Ps,paths:kt,pick:Cs,pickAll:wn,pickBy:ks,pipe:Et,pipeK:As,pipeP:Rt,pipeWith:zt,pluck:Ke,prepend:gn,product:Is,project:Ts,prop:Or,propEq:Ds,propIs:Ls,propOr:js,propSatisfies:Ns,props:Os,range:Es,reduce:ge,reduceBy:gr,reduceRight:_n,reduceWhile:Bs,reduced:Rs,reject:wr,remove:$t,repeat:Ms,replace:zs,reverse:He,scan:Us,sequence:bn,set:qs,slice:pe,sort:Ws,sortBy:Fs,sortWith:Gs,split:Zs,splitAt:Ks,splitEvery:$s,splitWhen:Hs,startsWith:Vs,subtract:Xs,sum:sn,symmetricDifference:Qs,symmetricDifferenceWith:Js,tail:dr,take:Gr,takeLast:en,takeLastWhile:Ys,takeWhile:tc,tap:ac,test:oc,thunkify:Uc,times:vn,toLower:cc,toPairs:lc,toPairsIn:pc,toString:Le,toUpper:hc,transduce:mc,transpose:dc,traverse:fc,trim:yc,tryCatch:_c,type:tr,unapply:vc,unary:bc,uncurryN:xc,unfold:Sc,union:Pc,unionWith:Cc,uniq:Zr,uniqBy:tn,uniqWith:xn,unless:kc,unnest:Ac,until:Ic,update:Fr,useWith:yn,values:Tt,valuesIn:Tc,view:Lc,when:jc,where:Sn,whereEq:Nc,without:Oc,xor:Ec,xprod:Bc,zip:Rc,zipObj:Mc,zipWith:zc},Symbol.toStringTag,{value:"Module"})),Wc=In(qc);(function(t){var e=Ie&&Ie.__createBinding||(Object.create?function(l,d,f,C){C===void 0&&(C=f),Object.defineProperty(l,C,{enumerable:!0,get:function(){return d[f]}})}:function(l,d,f,C){C===void 0&&(C=f),l[C]=d[f]}),r=Ie&&Ie.__setModuleDefault||(Object.create?function(l,d){Object.defineProperty(l,"default",{enumerable:!0,value:d})}:function(l,d){l.default=d}),n=Ie&&Ie.__importStar||function(l){if(l&&l.__esModule)return l;var d={};if(l!=null)for(var f in l)f!=="default"&&Object.hasOwnProperty.call(l,f)&&e(d,l,f);return r(d,l),d};Object.defineProperty(t,"__esModule",{value:!0}),t.findTracking=t.getTracking=t.allCouriers=t.usps=t.ups=t.s10=t.ontrac=t.fedex=t.dhl=t.amazon=void 0;const u=n(Ju);t.amazon=u;const a=n(ta);t.dhl=a;const i=n(ia);t.fedex=i;const c=n(la);t.ontrac=c;const p=n(da);t.s10=p;const m=n(ya);t.ups=m;const y=n(xa);t.usps=y;const h=Wc;t.allCouriers=[u,a,i,c,p,m,y];const P=l=>d=>d.regex_group_name==="ServiceType"?d.lookup.some(f=>f.matches_regex?new RegExp(f.matches_regex).test(l.groups[d.regex_group_name]):!0):d.regex_group_name==="CountryCode"||d.regex_group_name==="ShippingContainerType"?d.lookup.some(f=>f.matches===l.groups[d.regex_group_name]):!0,M=(l,d)=>{const f=h.is(String,d)?d:d.join(""),C=new RegExp("\\b".concat(f,"\\b")).exec(l.replace(/[^a-zA-Z\d]/g,""));return C&&{serial:C.groups.SerialNumber.replace(/\s/g,""),checkDigit:C.groups.CheckDigit,groups:C.groups}||{}},D=(l,d)=>d.additional?d.additional.every(P(M(l,d.regex))):!0,b=l=>!0,A=l=>h.pipe(h.split(""),h.map(d=>isNaN(d)?(d.charCodeAt(0)-3)%10:parseInt(d)))(l),k=l=>Object.assign({},l),L=(l,d)=>d%2===0,q=h.complement(L),T=(l,d)=>h.pipe(k,h.pickBy(l),h.values,h.sum)(d),V=({serial:l,checkDigit:d,checksum:f})=>{const C=A(l.replace(/[^\da-zA-Z]/g,""));return(10-h.sum([T(L,C)*(f.evens_multiplier||1),T(q,C)*(f.odds_multiplier||1)])%10)%10===parseInt(d)},w=({serial:l,checkDigit:d})=>parseInt(l)%7===parseInt(d),_=(l,d)=>h.sum(h.zip(d.split("").map(f=>parseInt(f)),l||[]).map(f=>f.reduce(h.multiply))),E=({serial:l,checkDigit:d})=>{const f=_([8,6,4,2,3,5,9,7],l)%11;return(f===1?0:f===0?5:11-f)===parseInt(d)},j=({serial:l,checkDigit:d,checksum:f})=>_(f.weightings,l)%f.modulo1%f.modulo2===parseInt(d),G=({validation:{checksum:l}})=>(l==null?void 0:l.name)==="mod10"?V:(l==null?void 0:l.name)==="sum_product_with_weightings_and_modulo"?j:(l==null?void 0:l.name)==="mod7"?w:(l==null?void 0:l.name)==="s10"?E:b,z=(l,d)=>d.prepend_if&&new RegExp(d.prepend_if.matches_regex).test(l)?"".concat(d.prepend_if.content).concat(l):l,F=(l,{regex:d,validation:{serial_number_format:f,checksum:C}})=>{const v=M(l,d);return v&&v.serial?{serial:f?z(v.serial,f):v.serial,checkDigit:v.checkDigit,checksum:C}:null},O=(l,d,f)=>({name:l.name,trackingUrl:l.tracking_url||null,description:l.description||null,trackingNumber:f.replace(/[^a-zA-Z\d]/g,""),courier:{name:d.name,code:d.courier_code}}),ne=l=>d=>h.pipe(h.prop("regex"),h.ifElse(h.is(String),h.identity,h.join("")),f=>new RegExp(f,"g"),h.flip(h.match)(l),h.map(h.replace(/[^a-zA-Z\d\n\r]/g,"")),h.uniq)(d),J=(l,d)=>d.map(h.pipe(h.prop("tracking_numbers"),h.chain(h.pipe(ne(l),h.flatten)))),I=(l,d)=>h.pipe(h.flatten,h.uniq,f=>h.filter(C=>h.none(h.test(new RegExp("([a-zA-Z0-9 ]+)".concat(C,"$"))),f))(f),f=>h.filter(C=>h.none(h.test(new RegExp("^".concat(C,"([a-zA-Z0-9 ]+)"))),f))(f))(J(l,d)),X=l=>h.reduce((d,f)=>d||h.reduce((C,v)=>{const W=F(l,v);return W&&G(v)(W)&&D(l,v)?h.reduced(O(v,f,l)):void 0},void 0,f.tracking_numbers),void 0);t.getTracking=(l,d=t.allCouriers)=>X(l)(d),t.findTracking=(l,d)=>I(l,d||t.allCouriers).map(f=>t.getTracking(f,d||t.allCouriers)).filter(h.complement(h.isNil))})(vt);const st=de("span")(()=>({fontWeight:"bold",color:"#313440"}));function Fc({isCurrentCompany:t}){const{state:{shippings:e=[],addressLabelPermission:r,orderIsDigital:n,money:u}}=x.useContext(Ee),[a]=Ce(),i=ve(),[c,p]=x.useState([]);x.useEffect(()=>{e.length&&(e.forEach(b=>{if(b.shipmentItems.length){const{shipmentItems:A}=b;A.forEach(k=>{const L=k.tracking_number;if(k!=null&&k.generated_tracking_link&&L){k.tracking_link=k.generated_tracking_link;return}const q=vt.getTracking(L);if(q){const{trackingUrl:T="",trackingNumber:V}=q,w=k;T&&(w.tracking_link=T.includes("=%s")?T.replace("=%s","=".concat(V)):T)}})}}),p(e))},[e]);const m=b=>{const{first_name:A,last_name:k}=b;return"".concat(A," ").concat(k)},y=b=>{const{street_1:A,city:k,state:L,zip:q,country:T}=b;return"".concat(A,", ").concat(k,", ").concat(L," ").concat(q,", ").concat(T)};let h=0;const P=()=>(h+=1,h),M=b=>{const{date_created:A,shipping_method:k,shipping_provider_display_name:L}=b,q=hu(new Date(A),"LLLL, d");return"shipped on ".concat(q,", by ").concat(L,", ").concat(k)},D=b=>{if(r)return b;const A=b.indexOf("/");return b.substring(A+1,b.length)};return n?null:s.jsx(Tr,{spacing:2,children:c.map(b=>s.jsx(ar,{children:s.jsxs(ir,{children:[s.jsxs(te,{sx:{wordBreak:"break-word",color:"rgba(0, 0, 0, 0.87)"},children:[s.jsxs(re,{variant:"h6",sx:{fontSize:"24px",fontWeight:"400"},children:[m(b)," – ",D(b.company||"")]}),s.jsx(re,{variant:"h6",sx:{fontSize:"24px",fontWeight:"400"},children:y(b)})]}),(b.shipmentItems||[]).map(A=>A.itemsInfo.length>0?s.jsxs(x.Fragment,{children:[s.jsxs(te,{sx:{margin:"20px 0 2px"},children:[s.jsx(re,{variant:"body1",children:s.jsxs(s.Fragment,{children:[s.jsx(st,{children:"".concat(i("orderDetail.shipment.shipment")," ").concat(P()," – ")}),M(A)]})}),A.tracking_link?s.jsx(An,{href:A.tracking_link,target:"_blank",children:A.tracking_number}):s.jsx(re,{variant:"body1",children:A.tracking_number})]}),s.jsx(Cr,{quantityKey:"current_quantity_shipped",products:A.itemsInfo,money:u,totalText:"Total",canToProduct:t,textAlign:"right"})]},"shipment-".concat(A.id)):null),b.notShip.itemsInfo.length>0?s.jsxs(x.Fragment,{children:[s.jsx(te,{sx:{margin:"20px 0 2px"},children:s.jsx(re,{variant:"body1",children:s.jsx(st,{children:i("orderDetail.shipment.notShippedYet")})})}),s.jsx(Cr,{quantityKey:"not_shipping_number",products:b.notShip.itemsInfo,money:u,totalText:"Total",canToProduct:t,textAlign:a?"left":"right"})]},"shipment-notShip-".concat(b.id)):null]})},"shipping-".concat(b.id)))})}const Gc=gt;function Zc(){const t=ie(or),e=ie(({company:f})=>f.customer.role),r=ie(({b2bFeatures:f})=>f.masqueradeCompany.isAgenting),n=ie(({company:f})=>f.companyInfo.id),{selectCompanyHierarchyId:u}=ie(({company:f})=>f.companyHierarchyInfo),a=ie(({b2bFeatures:f})=>f.masqueradeCompany.id),i=e===Kn.SUPER_ADMIN&&r?Number(a):Number(n),c=Number(u)||i,p=uu(),m=ft(),y=ve(),{state:{addressConfig:h},dispatch:P}=x.useContext(pt),{state:{poNumber:M,status:D="",customStatus:b,orderSummary:A,orderStatus:k=[],products:L},state:q,dispatch:T}=x.useContext(Ee),{state:{portalStyle:{backgroundColor:V="#FEF9F5"}}}=x.useContext($n),w=Hn(V),_=dt(),[E]=Ce(),[j,G]=x.useState(""),[z,F]=x.useState(""),[O,ne]=x.useState(!1),[J,I]=x.useState(!1);x.useEffect(()=>{F(p.id||"")},[p]);const X=()=>{m(_.state.isCompanyOrder?"/company-orders":"/orders")};x.useEffect(()=>{if(z){const f=async()=>{const v=parseInt(z,10);if(v){ne(!0);try{const W=t?await eu(v):await ru(v);if(W){const{products:ce,companyInfo:xe}=W,N={...W,products:ce.map(B=>({...B,imageUrl:(B==null?void 0:B.variantImageUrl)||B.imageUrl}))};I(Number(xe.companyId)===Number(c));const K=t?gt(N,y):Gc(N,y);T({type:"all",payload:K}),G(z)}}catch(W){W==="order does not exist"&&setTimeout(()=>{window.location.hash="/orderDetail/".concat(j)},1e3)}finally{ne(!1)}}},C=async()=>{const v=t?await tu():await nu();T({type:"statusType",payload:{orderStatus:v}})};f(),C()}},[t,z,j,u]);const l=f=>{F(f.toString())};x.useEffect(()=>{(async()=>{var C;try{let v=h;if(!v){const{addressConfig:ce}=await Qn();v=ce,P({type:"common",payload:{addressConfig:v}})}const W=((C=(v||[]).find(ce=>ce.key==="address_label"))==null?void 0:C.isEnabled)==="1";T({type:"addressLabel",payload:{addressLabelPermission:W}})}catch(v){Dr.error(v)}})()},[]);const d=f=>{const C=k.find(W=>W.systemLabel===f);let v=(C==null?void 0:C.customLabel)||b;if(C){const W=mt[C.systemLabel];v=W&&y(W)!==C.systemLabel?y(W):v}return v};return s.jsx(Vn,{isSpinning:O,background:"rgba(255,255,255,0.2)",children:s.jsxs(te,{sx:{overflow:"auto",flex:1},children:[s.jsx(te,{sx:{marginBottom:"10px",width:"fit-content"},children:s.jsx(te,{sx:{color:"primary.main",cursor:"pointer",fontSize:"14px",display:"flex",alignItems:"center"},onClick:X,children:_.state!==null?s.jsxs(s.Fragment,{children:[s.jsx(mu,{sx:{fontSize:"13px",margin:"0 8px"}}),s.jsx("span",{children:y("orderDetail.backToOrders")})]}):""})}),s.jsxs(Ae,{container:!0,spacing:2,children:[s.jsxs(Ae,{item:!0,xs:E?12:8,sx:{display:"flex",alignItems:"center",gap:"15px",order:E?1:0},children:[s.jsxs(re,{variant:"h4",sx:{color:Xn(w,.87)||"#263238"},children:[y("orderDetail.orderId",{orderId:z}),y("orderDetail.purchaseOrderNumber",{purchaseOrderNumber:M!=null?M:""})]}),s.jsx(ht,{code:D,text:d(D)})]}),s.jsx(Ae,{container:!0,item:!0,xs:E?12:4,sx:{display:"flex",alignItems:"center",justifyContent:"flex-end"},children:(_==null?void 0:_.state)&&s.jsx(Lu,{onChange:f=>l(f),color:w})})]}),L!=null&&L.length&&!J?s.jsxs(te,{sx:{marginTop:"24px",height:"48px",padding:"6px 16px",borderRadius:"4px",backgroundColor:"#0288D1",display:"flex",alignItems:"center"},children:[s.jsx(du,{color:"primary",sx:{color:"#FFFFFF"}}),s.jsx(re,{sx:{color:"#FFFFFF",marginLeft:"8px",fontSize:"14px"},children:y("orderDetail.anotherCompany.tips")})]}):null,s.jsxs(Ae,{container:!0,spacing:2,sx:{marginTop:"0",overflow:"auto",flexWrap:E?"wrap":"nowrap",paddingBottom:"20px"},children:[s.jsx(Ae,{item:!0,sx:E?{flexBasis:"100%"}:{flexBasis:"690px",flexGrow:1},children:s.jsxs(Tr,{spacing:3,children:[s.jsx(Fc,{isCurrentCompany:J}),s.jsx(Ku,{isCurrentCompany:J}),s.jsx(Hu,{})]})}),s.jsx(Ae,{item:!0,sx:E?{flexBasis:"100%"}:{flexBasis:"340px"},children:JSON.stringify(A)==="{}"?null:s.jsx(Zu,{detailsData:q,isCurrentCompany:J})})]})]})})}function vl(){return s.jsx(_u,{children:s.jsx(Zc,{})})}export{vl as default};
//# sourceMappingURL=index-Bo8O6fF0.js.map
