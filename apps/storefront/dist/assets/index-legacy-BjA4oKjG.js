System.register(["./mui-legacy-CSHs1xoY.js","./reactVendor-legacy-CtYIj4Ma.js","./lang-legacy-DzjbYnyQ.js","./react-setup-legacy-drlPxekq.js","./load-functions-legacy-D4REYUJ_.js","./base-legacy-D2P4nFX7.js","./payment-legacy-DarGBZ_m.js","./router-legacy-s4T0V6vG.js","./intl-legacy-B7uNycgM.js","./eCache-legacy-CW-H9Ud9.js","./redux-legacy-D5ZHjMNV.js","./toolkit-legacy-uWyLsHZ1.js","./lodashEs-legacy-5FC1NR51.js","../index-legacy.Dey7ot32.js","./global-legacy-B1EgakWG.js","./muiIcon-legacy-B9QnU93P.js","./dateFns-legacy-BcrsSUH8.js","./dropzone-legacy-30_HfosJ.js","./b3checkout-legacy-BTwy_igg.js"],(function(e,l){"use strict";var n,t,a,c,s,i,r,o,u,g,y,j;return{setters:[e=>{n=e.j,t=e.B},e=>{a=e.r},e=>{c=e.u},e=>{s=e.u,i=e.aA,r=e.ab,o=e.af},null,null,e=>{u=e.h,g=e.g},e=>{y=e.c,j=e.u},null,null,null,null,null,null,null,null,null,null,null],execute:function(){e("default",(function(){const e=s((({global:e})=>e.storeInfo.platform)),l=s((({company:e})=>e.tokens.B2BToken)),[d,f]=a.useState(!1),[h,m]=a.useState(!1),x=y(),p=j(),k=c();return a.useEffect((()=>{(async()=>{if(f(!0),!l)return m(!0),void f(!1);if(x?.id||o.error(k("payment.errorInvoiceCantBeBlank")),x?.id)try{const{invoice:{openBalance:{code:l="",value:n=""}}}=await u(Number(x.id));l&&n||o.error(k("payment.errorOpenBalanceIsIncorrect"));const t={lineItems:[{invoiceId:Number(x.id),amount:n}],currency:l};await g(t,e,!0)}catch(n){o.error(n?.message||k("payment.invoiceDoesNotExist"))}finally{f(!1)}})()}),[e,x.id]),n.jsxs(t,{children:[d&&n.jsx(i,{backColor:"#FFFFFF"}),n.jsx(r,{isOpen:h,fullWidth:!0,title:"",rightSizeBtn:"ok",showLeftBtn:!1,handRightClick:()=>{p("/login")},children:n.jsx(t,{sx:{height:"200px",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:n.jsxs(t,{children:[n.jsx(t,{sx:{mb:"10px"},children:k("payment.firstLoginToPay")}),n.jsx(t,{children:k("payment.clickToLandingPage")})]})})})]})}))}}}));
//# sourceMappingURL=index-legacy-BjA4oKjG.js.map
