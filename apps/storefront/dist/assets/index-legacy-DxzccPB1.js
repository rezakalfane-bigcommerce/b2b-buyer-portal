System.register(["./mui-legacy-C4_cN3o7.js","./reactVendor-legacy-CtYIj4Ma.js","./lang-legacy-CIkwP_72.js","./react-setup-legacy-CqaUet8b.js","./load-functions-legacy-XoiKCmHm.js","./base-legacy-D2P4nFX7.js","./address-legacy-DYpNDrzm.js","./OrderStatus-legacy-DqkU5cGm.js","./router-legacy-s4T0V6vG.js","./lodashEs-legacy-5FC1NR51.js","./HierarchyDialog-legacy-FVNvPLUS.js","./form-legacy-CAo5v63e.js","./B3CustomForm-legacy-CW8jzFId.js","./B3LinkTipContent-legacy-Da1fKPmn.js","./b3TriggerCartNumber-legacy-Cz0VcE6U.js","./CreateShoppingList-legacy-CGhnoNcm.js","./OrderShoppingList-legacy-Dy6xASJR.js","./dateFns-legacy-DOBWQ-07.js","./muiIcon-legacy-CeeiJjlj.js","./intl-legacy-B7uNycgM.js","./eCache-legacy-CW-H9Ud9.js","./redux-legacy-D5ZHjMNV.js","./toolkit-legacy-uWyLsHZ1.js","../index-legacy.mjQYeic0.js","./global-legacy-B1EgakWG.js","./dropzone-legacy-B4ksQuYM.js","./useB2BCallback-legacy-BNykb3hy.js","./b3ShoppingList-legacy-VBbu3htu.js"],(function(e,t){"use strict";var r,n,u,i,o,a,s,c,l,p,h,m,d,f,w,g,y,_,b,v,x,S,P,k,C,j,A,T,I,D,N,E,O,L,R,M,B,z,U,F,q,G,W,Z,K,$,V,H,Q,J,Y,X,ee,te,re,ne,ue,ie,oe,ae,se,ce,le,pe,he,me,de,fe,we,ge,ye,_e,be,ve,xe,Se;return{setters:[e=>{r=e.j,n=e.o,u=e.B,i=e.T,o=e.I,a=e.w,s=e.x,c=e.v,l=e.f,p=e.ag,h=e.K,m=e.ad,d=e.ah,f=e.$,w=e.G},e=>{g=e.r,y=e.a,_=e.e},e=>{b=e.u},e=>{v=e.a5,x=e.aM,S=e.r,P=e.u,k=e.t,C=e.a,j=e.aN,A=e.aw,T=e.af,I=e.ab,D=e.aO,N=e.aP,E=e.aQ,O=e.aR,L=e.aS,R=e.a1,M=e.aT,B=e.x,z=e.a0,U=e.G,F=e.au,q=e.am,G=e.ar,W=e.aU,Z=e.ad,K=e.aV,$=e.aW,V=e.aX,H=e.aj,Q=e.C,J=e.k,Y=e.ac,X=e.a8},null,e=>{ee=e.b},e=>{te=e.f},e=>{re=e.g,ne=e.a,ue=e.O,ie=e.o,oe=e.b,ae=e.c,se=e.d,ce=e.e},e=>{le=e.a,pe=e.u,he=e.c},e=>{me=e.h},e=>{de=e.H},e=>{fe=e.u},e=>{we=e.B},e=>{ge=e.s},e=>{ye=e.b},e=>{_e=e.default},e=>{be=e.default},e=>{ve=e.g},e=>{xe=e.A,Se=e.b},null,null,null,null,null,null,null,null,null],execute:function(){e("default",(function(){return r.jsx(je,{children:r.jsx(Za,{})})}));const t=async(e,t)=>{await fetch(`/account.php?action=print_invoice&order_id=${e}`).then((e=>{if(e.ok)return e.text();throw new Error("Network response was not ok.")})).then((e=>{((e,t)=>{let r=document.getElementById(t);r||(r=document.createElement("iframe"),r.src="about:blank",r.id=t,r.style.display="none",document.body.appendChild(r));const n=r.contentWindow?.document;n&&(n.open(),n.write(e),n.close()),r.style.display="block"})(e,t)})).catch((e=>{ee.error("Error Invoice:",e)}))},Pe={shippings:[],billings:[],history:[],poNumber:"",status:"",statusCode:"",currencyCode:"",currency:"",orderSummary:{createAt:"",name:"",priceData:{},priceSymbol:{}},customStatus:"",money:{currency_location:"left",currency_token:"$",decimal_token:".",decimal_places:2,thousands_token:",",currency_exchange_rate:"1.0000000000"},payment:{},orderComments:"",products:[],orderId:"",orderStatus:[],ipStatus:0,invoiceId:0,addressLabelPermission:!1,canReturn:!1,createdEmail:"",orderIsDigital:!1,companyInfo:{companyId:"",companyName:"",companyAddress:"",companyCountry:"",companyState:"",companyCity:"",companyZipCode:"",phoneNumber:"",bcId:""}},ke=g.createContext({state:Pe,dispatch:()=>{}}),Ce=(e,t)=>{switch(t.type){case"all":return{...e,...t.payload};case"statusType":return{...e,orderStatus:t.payload.orderStatus};case"addressLabel":return{...e,addressLabelPermission:t.payload.addressLabelPermission};default:return e}};function je(e){const[t,n]=g.useReducer(Ce,Pe),{children:u}=e,i=g.useMemo((()=>({state:t,dispatch:n})),[t]);return r.jsx(ke.Provider,{value:i,children:u})}const Ae=e=>{const{shipments:t,shippingAddress:r=[],products:n=[]}=e,u=(t||[]).map((e=>{const{items:t}=e,r=[];return t.forEach((e=>{const t=n.find((t=>t.id===e.order_product_id));t&&r.push({...t,current_quantity_shipped:e.quantity,not_shipping_number:t.quantity-t.quantity_shipped})})),{...e,itemsInfo:r}})),i=r.map((e=>({...e,shipmentItems:[...u.filter((t=>t.order_address_id===e.id))],notShip:{itemsInfo:n.filter((t=>(t.not_shipping_number=t.quantity-t.quantity_shipped,t.quantity>t.quantity_shipped&&e.id===t.order_address_id)))}})));return i},Te=e=>{const{billingAddress:t,products:r}=e;return[{billingAddress:t,products:r}]},Ie=e=>{const{decimal_places:t=2}=x();try{return(parseFloat(e.toString())||0).toFixed(t)}catch(r){return"0.00"}},De=(e,t)=>{const{dateCreated:r,firstName:n,lastName:u,totalTax:i,subtotalExTax:o,subtotalIncTax:a,totalExTax:s,totalIncTax:c,handlingCostExTax:l,handlingCostIncTax:p,shippingCostExTax:h,shippingCostIncTax:m,coupons:d,discountAmount:f}=e,{global:{showInclusiveTaxPrice:w}}=v.getState(),g={},y={},_={};d.forEach((e=>{const r=t("orderDetail.summary.coupon",{couponCode:e?.code?`(${e.code})`:""});g[r]=r,y[r]=e?.discount,_[r]="coupon"}));const b={subTotal:t("orderDetail.summary.subTotal"),shipping:t("orderDetail.summary.shipping"),handingFee:t("orderDetail.summary.handingFee"),discountAmount:t("orderDetail.summary.discountAmount"),...g,tax:t("orderDetail.summary.tax"),grandTotal:t("orderDetail.summary.grandTotal")};return{createAt:r,name:`${n} ${u}`,priceData:{[b.subTotal]:Ie(w?a:o),[b.shipping]:Ie(w?m:h),[b.handingFee]:Ie(p||l||""),[b.discountAmount]:Ie(f||""),...y,[b.tax]:Ie(i||""),[b.grandTotal]:Ie(c||s||"")},priceSymbol:{[b.subTotal]:"subTotal",[b.shipping]:"shipping",[b.handingFee]:"handingFee",[b.discountAmount]:"discountAmount",..._,[b.tax]:"tax",[b.grandTotal]:"grandTotal"}}},Ne=e=>{const{updatedAt:t,billingAddress:r,paymentMethod:n,dateCreated:u}=e,i=new Date(u).getTime()/1e3;return{updatedAt:t,billingAddress:r,paymentMethod:n,dateCreateAt:JSON.stringify(i)}},Ee=e=>{const{products:t}=e,r=[];return t.forEach((e=>{const t=r.findIndex((t=>Number(t.variant_id)===Number(e.variant_id)));if(-1===t)r.push(e);else{const n=r[t];r[t]={...n,quantity:Number(n.quantity)+Number(e.quantity)}}})),r},Oe=(e,t)=>({shippings:e.orderIsDigital?[]:Ae(e),billings:e.orderIsDigital?Te(e):[],history:e.orderHistoryEvent||[],poNumber:e.poNumber||"",status:e.status,statusCode:e.statusId,currencyCode:e.currencyCode,currency:e.money?.currency_token||"$",money:e.money,orderSummary:De(e,t),payment:Ne(e),orderComments:e.customerMessage,products:Ee(e),orderId:Number(e.id),customStatus:e.customStatus,ipStatus:Number(e.ipStatus)||0,invoiceId:Number(e.invoiceId||0),canReturn:e.canReturn,createdEmail:e.createdEmail,orderIsDigital:e.orderIsDigital,companyInfo:e.companyInfo});var Le={},Re=n;Object.defineProperty(Le,"__esModule",{value:!0});var Me=Le.default=void 0,Be=Re(S()),ze=r;Me=Le.default=(0,Be.default)((0,ze.jsx)("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"NavigateBefore");var Ue={},Fe=n;Object.defineProperty(Ue,"__esModule",{value:!0});var qe=Ue.default=void 0,Ge=Fe(S()),We=r;qe=Ue.default=(0,Ge.default)((0,We.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext");const Ze=1e8;function Ke({onChange:e,color:t}){const n=b(),a=P(k),[s,c]=g.useState(Ze),[l,p]=g.useState(""),[h,m]=g.useState(!1),[d,f]=g.useState({rightId:"",leftId:""}),w=le(),[y]=C();let _=0,v=0,x=null,S=null,j={offset:0};if(w?.state){const e=w.state;_=e?.currentIndex||0,v=e?.totalCount||0,x=e?.beginDateAt||null,S=e?.endDateAt||null,j=e?.searchParams||{offset:0}}if(g.useEffect((()=>{if(v>0&&c(_),s===Ze)return;const e=_+(j.offset||0);c(e)}),[j]),g.useEffect((()=>{s!==Ze&&(async()=>{m(!0);const e={...j,first:3,offset:s?s-1:0,beginDateAt:x||null,endDateAt:S||null,orderBy:"-createdAt"},{edges:t,totalCount:r}=a?await re(e):await ne(e);let n="",u="",i="";s===r-1?(n="toRight",i=t[t.length-2]?.node.orderId||0):0===s?(n="toLeft",u=t[1]?.node.orderId||0):(i=t[0]?.node.orderId||0,u=t[2]?.node.orderId||0),f({leftId:i,rightId:u}),p(n),m(!1)})()}),[s]),"{}"===JSON.stringify(j))return null;const A=s+1;return r.jsxs(u,{sx:{display:"flex",color:t},children:[!y&&r.jsxs(u,{sx:{display:"flex",alignItems:"center"},children:[n("orderDetail.pagination.order"),r.jsx(i,{sx:{m:1},children:A}),n("orderDetail.pagination.of"),r.jsx(u,{sx:{ml:1},children:v})]}),r.jsx(o,{onClick:()=>{c(s-1),e(d.leftId)},disabled:v<=1||"toLeft"===l||h,children:r.jsx(Me,{sx:{color:t}})}),r.jsx(o,{onClick:()=>{c(s+1),e(d.rightId)},disabled:v<=1||"toRight"===l||h,children:r.jsx(qe,{sx:{color:t}})})]})}const $e=()=>[{name:"return_reason",label:"Return reason",required:!0,xs:12,variant:"filled",size:"small",fieldType:"dropdown",default:"",options:[{label:"Received Wrong Product",value:"Received wrong product"},{label:"Wrong Product Ordered",value:"Wrong product ordered"},{label:"Not Satisfied With The Product",value:"Not satisfied with the product"},{label:"There Was A Problem With The Product",value:"There was a problem with the product"}]},{name:"return_action",label:"Return action",required:!0,xs:12,variant:"filled",size:"small",fieldType:"dropdown",default:"",options:[{label:"Repair",value:"Repair"},{label:"Replacement",value:"Replacement"},{label:"Store Credit",value:"Store credit"}]},{name:"return_comments",label:"Comment",required:!1,xs:12,rows:5,variant:"filled",size:"small",fieldType:"multiline",default:""}],Ve=a("div")((({isHeader:e,isMobile:t})=>({display:"flex",wordBreak:"break-word",padding:"8px 0 0",gap:"8px",flexWrap:t?"wrap":"initial",...e?{borderBottom:"1px solid #D9DCE9",paddingBottom:"8px",alignItems:"center"}:{alignItems:"flex-start"},...t?{borderTop:"1px solid #D9DCE9",padding:"12px 0 12px","&:first-of-type":{marginTop:"12px"}}:{}}))),He=a("div")((({width:e,padding:t="0",flexBasis:r,textAlignLocation:n})=>({display:"flex",flexGrow:e?0:1,flexShrink:e?0:1,alignItems:"flex-start",justifyContent:"right"===n?"flex-end":"flex-start",flexBasis:r,width:e,padding:t}))),Qe=a("div")((()=>({fontSize:"0.875rem",lineHeight:"1.5",color:"#263238"}))),Je=a("img")((()=>({width:"60px",borderRadius:"4px",flexShrink:0}))),Ye=a("div")((()=>({fontSize:"0.75rem",lineHeight:"1.5",color:"#455A64"}))),Xe={default:{width:"15%"}},et={default:{width:"100%",padding:"0 0 0 128px"}};function tt(e){const{products:t,getProductQuantity:n=(e=>e.editQuantity),onProductChange:o=(()=>{}),setCheckedArr:a=(()=>{}),setReturnArr:p=(()=>{}),textAlign:h="left",type:m}=e,d=b(),[f]=C(),[w,y]=g.useState([]),[_,v]=g.useState([]),x=(e,t)=>{const r=parseFloat(t.toString())||0;return(parseInt(e.toString(),10)||0)*r},S=f?et:Xe,P=()=>{if([...w].length===t.length)y([]),v([]);else{const e=t.map((e=>e.variant_id)),r=[];t.forEach(((e,t)=>{r[t]={returnId:e.id,returnQty:Number(e.editQuantity)}})),y(e),v(r)}},k=e=>r=>{const n=e,u=r.target.value;Number(u)>=0&&Number(u)<=1e6&&(n.editQuantity=u,"return"===m&&(Number(u)>Number(e.quantity)?(n.editQuantity=e.quantity,T.error(d("purchasedProducts.error.returnedQuantityShouldBeWithinThePurchase"))):(_.forEach((t=>{const r=t;r.returnId===e.id&&(r.returnQty=Number(u))})),p(_))),o([...t]))},I=e=>{["KeyE","Equal","Minus"].indexOf(e.code)>-1&&e.preventDefault()},D=e=>()=>{const r=e;e.editQuantity&&0!==Number(e.editQuantity)||(r.editQuantity="1",o([...t]))};return g.useEffect((()=>{a(w)}),[w]),g.useEffect((()=>{p(_)}),[_]),t.length>0?r.jsxs(u,{children:[!f&&r.jsxs(Ve,{isHeader:!0,isMobile:f,children:[r.jsx(s,{checked:w.length===t.length,onChange:P}),r.jsx(He,{children:r.jsx(Qe,{children:d("orderDetail.reorder.product")})}),r.jsx(He,{textAlignLocation:h,...S.default,children:r.jsx(Qe,{children:d("orderDetail.reorder.price")})}),r.jsx(He,{textAlignLocation:h,...S.default,children:r.jsx(Qe,{children:d("orderDetail.reorder.qty")})}),r.jsx(He,{textAlignLocation:h,...S.default,children:r.jsx(Qe,{children:d("orderDetail.reorder.total")})})]}),f&&r.jsx(c,{label:"Select all products",control:r.jsx(s,{checked:w.length===t.length,onChange:P}),sx:{paddingLeft:"0.6rem"}}),t.map((e=>{return r.jsxs(Ve,{isMobile:f,children:[r.jsx(s,{checked:(t=e.variant_id,w.includes(t)),onChange:()=>((e,t,r)=>{const n=[...w],u=[..._],i=n.findIndex((t=>t===e)),o=u.findIndex((e=>e.returnId===t));-1!==i?(n.splice(i,1),u.splice(o,1)):(n.push(e),u.push({returnId:t,returnQty:r})),y(n),v(u)})(e.variant_id,e.id,Number(e.editQuantity))}),r.jsxs(He,{children:[r.jsx(Je,{src:e.imageUrl||j}),r.jsxs(u,{sx:{marginLeft:"16px"},children:[r.jsx(i,{variant:"body1",color:"#212121",children:e.name}),r.jsx(i,{variant:"body1",color:"#616161",children:e.sku}),(e.product_options||[]).map((e=>r.jsx(Ye,{children:`${e.display_name}: ${e.display_value}`},e.display_name)))]})]}),r.jsxs(He,{textAlignLocation:h,padding:"10px 0 0",...S.default,children:[f&&r.jsxs("span",{children:[d("orderDetail.reorder.price")," "]}),A(e.base_price)]}),r.jsx(He,{textAlignLocation:h,...S.default,children:r.jsx(l,{type:"number",variant:"filled",hiddenLabel:!f,label:f?d("orderDetail.reorder.qty"):"",value:n(e),onChange:k(e),onKeyDown:I,onBlur:D(e),size:"small",sx:{width:f?"60%":"80px","& .MuiFormHelperText-root":{marginLeft:"0",marginRight:"0"}},error:!!e.helperText,helperText:e.helperText})}),r.jsxs(He,{textAlignLocation:h,padding:"10px 0 0",...S.default,children:[f&&r.jsxs("span",{children:[d("orderDetail.reorder.total")," "]}),A(x(n(e),e.base_price))]})]},e.sku);var t}))]}):null}const rt=()=>{const e=B.get("XSRF-TOKEN");if(e)return decodeURIComponent(e)};function nt({open:e,products:t=[],type:n,currentDialogData:o,setOpen:a,itemKey:s,orderId:c}){const l=P(k),[p,h]=g.useState(!1),[m,d]=g.useState(!1),[f,w]=g.useState([]),[y,_]=g.useState([]),[v,x]=g.useState(!1),[S,j]=g.useState([]),[A,B]=g.useState([]),[z]=g.useState($e()),[U]=C(),{control:F,handleSubmit:q,getValues:G,formState:{errors:W},setValue:Z}=fe({mode:"all"}),K=b(),$=()=>{a(!1)},V=()=>{q((e=>{(async(e,t,r)=>{if(!Object.keys(e).length||!t.length)return void T.error(K("purchasedProducts.error.selectOneItem"));const n=t.reduce(((e,t)=>(e[`return_qty[${t.returnId}]`]=t.returnQty,e)),e);n.authenticity_token=rt(),n.order_id=r;const u=new URLSearchParams(n),i={method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},referrer:`${M}/account.php?action=new_return&order_id=${r}`,body:u,mode:"no-cors"};try{x(!0);const e=await fetch(`${M}/account.php?action=save_new_return`,i);200===e.status&&e.url.includes("saved_new_return")?T.success(K("purchasedProducts.success.successfulApplication")):T.error("purchasedProducts.error.failedApplication"),x(!1),$()}catch(o){ee.error(o)}})(e,A,c)}))()},H=async()=>{x(!0);try{const e=[],t=[];if(f.forEach((r=>{S.includes(r.variant_id)&&(e.push({quantity:parseInt(`${r.editQuantity}`,10)||1,productId:r.product_id,variantId:r.variant_id,optionSelections:(r.product_options||[]).map((e=>({optionId:e.product_option_id,optionValue:e.value}))),allOptions:r.product_options}),t.push(r.sku))})),t.length<=0)return;if(!((e,t)=>{let r=!0;return t.forEach((t=>{const n=(e||[]).find((e=>e.variantSku.toUpperCase()===t.toUpperCase())),u=f.find((e=>e.sku===t));if(!n||!u)return;const{maxQuantity:i=0,minQuantity:o=0,stock:a=0,isStock:s="0"}=n,c=u?.editQuantity||1;"1"===s&&c>a?(u.helperText=K("purchasedProducts.outOfStock"),r=!1):0!==o&&c<o?(u.helperText=K("purchasedProducts.minQuantity",{minQuantity:o}),r=!1):0!==i&&c>i?(u.helperText=K("purchasedProducts.maxQuantity",{maxQuantity:i}),r=!1):u.helperText=""})),r||w([...f]),r})(y,t))return void T.error(K("purchasedProducts.error.fillCorrectQuantity"));const r=await L(e);r&&(r.data.cart.createCart||r.data.cart.addCartLineItems)?(a(!1),T.success("",{jsx:ge({message:K("orderDetail.reorder.productsAdded"),link:R,linkText:K("orderDetail.viewCart"),isOutLink:!0,isCustomEvent:!0}),isClose:!0}),ye()):r.errors&&T.error(r.errors[0].message,{isClose:!0})}catch(e){if(e instanceof Error)T.error(e.message,{isClose:!0});else if("object"==typeof e&&null!==e&&"detail"in e){const t=e;T.error(t.detail,{isClose:!0})}}finally{x(!1)}};return g.useEffect((()=>{e&&(w(t.map((e=>({...e,editQuantity:e.quantity})))),(async()=>{const e=t.filter((e=>e?.isVisible)).map((e=>e.sku));if(0===e.length)return;const r={skus:e},{variantSku:n=[]}=l?await E(r):await O(r);_(n)})())}),[l,e,t]),r.jsxs(r.Fragment,{children:[r.jsx(u,{sx:{ml:3,width:"50%"},children:r.jsxs(I,{isOpen:e,fullWidth:!0,handleLeftClick:$,handRightClick:()=>{if(0===S.length&&T.error(K("purchasedProducts.error.selectOneItem")),"shoppingList"===n){if(0===S.length)return;$(),d(!0)}"reOrder"===n&&H(),"return"===n&&V()},title:o?.dialogTitle||"",rightSizeBtn:o?.confirmText||"Save",maxWidth:"md",loading:v,children:[r.jsx(i,{sx:{margin:U?"0 0 1rem":"1rem 0"},children:o?.description||""}),r.jsx(tt,{products:f,onProductChange:e=>{w(e)},setCheckedArr:j,setReturnArr:B,textAlign:U?"left":"right",type:n}),"return"===n&&r.jsxs(r.Fragment,{children:[r.jsx(i,{variant:"body1",sx:{margin:"20px 0"},children:K("purchasedProducts.orderDialog.additionalInformation")}),r.jsx(we,{formFields:z,errors:W,control:F,getValues:G,setValue:Z})]})]})}),"order-summary"===s&&r.jsx(be,{isOpen:m,dialogTitle:K("purchasedProducts.orderDialog.addToShoppingList"),onClose:()=>{d(!1)},onConfirm:async e=>{x(!0);try{const t=f.map((e=>{const{product_id:t,variant_id:r,editQuantity:n,product_options:u}=e;return{productId:Number(t),variantId:r,quantity:Number(n),optionList:u.map((e=>{const{product_option_id:t,value:r}=e;return{optionId:`attribute[${t}]`,optionValue:r}}))}})),r=t.filter((e=>S.includes(Number(e.variantId)))),n=l?D:N;await n({shoppingListId:Number(e),items:r}),T.success("",{jsx:ge({message:K("orderDetail.addToShoppingList.productsAdded"),link:`/shoppingList/${e}`,linkText:K("orderDetail.viewShoppingList")}),isClose:!0}),d(!1)}finally{x(!1)}},onCreate:()=>{d(!1),h(!0)},isLoading:v,setLoading:x}),"order-summary"===s&&r.jsx(_e,{open:p,onChange:()=>{h(!1),d(!0)},onClose:()=>{h(!1),d(!0)}})]})}const ut=a("div")((()=>({}))),it=a("div")((e=>({flexWrap:"wrap",padding:e.isShowButtons?"0 1rem 1rem 1rem":0,"& button":{marginLeft:"0",marginRight:"8px",margin:"8px 8px 0 0"}}))),ot=a("div")((e=>({display:"flex",justifyContent:"space-between",fontWeight:"grandTotal"===e.nameKey?700:400,"& p":{marginTop:0,marginBottom:"grandTotal"===e.nameKey?"0":"12px",lineHeight:1}}))),at=a("div")((()=>({display:"flex",justifyContent:"space-between",fontWeight:400})));function st(e){const{header:n,subtitle:o,buttons:a,infos:s,products:c,itemKey:l,orderId:d,role:f,invoiceId:w,ipStatus:y,isCurrentCompany:_,switchCompanyId:v}=e,x=["coupon","discountAmount"],S=b(),k=P((({b2bFeatures:e})=>e.masqueradeCompany.isAgenting)),C=[{dialogTitle:S("orderDetail.orderCard.reorder"),type:"reOrder",description:S("orderDetail.orderCard.reorderDescription"),confirmText:S("orderDetail.orderCard.reorderConfirmText")},{dialogTitle:S("orderDetail.orderCard.return"),type:"return",description:S("orderDetail.orderCard.returnDescription"),confirmText:S("orderDetail.orderCard.returnConfirmText")},{dialogTitle:S("orderDetail.orderCard.addToShoppingList"),type:"shoppingList",description:S("orderDetail.orderCard.addToShoppingListDescription"),confirmText:S("orderDetail.orderCard.addToShoppingListConfirmText")}],j=pe(),[I,D]=g.useState(!1),[N,E]=g.useState(!1),[O,L]=g.useState(""),[R,M]=g.useState(),B=a.filter((e=>e.isCanShow)).length>0;let z=[],U=[];if("string"!=typeof s){const{info:e}=s;z=Object.keys(e),U=Object.values(e)}const F=e=>{if("viewInvoice"===e)0!==y?j(`/invoice?invoiceId=${w}`):t(d,"b2b_print_invoice");else if("printInvoice"===e)window.open(`/account.php?action=print_invoice&order_id=${d}`);else{if(!_&&v&&(D(!0),1))return;if(!k&&3===Number(f))return void T.error(S("orderDetail.orderCard.errorMasquerade"));E(!0),L(e);const t=C.find((t=>t.type===e));M(t)}};let q=U?.map((e=>r.jsx(at,{children:e},e)));if("string"==typeof s)q=s;else if(s?.money){const e=s?.symbol||{};q=z?.map(((t,n)=>r.jsxs(g.Fragment,{children:["grandTotal"===e[t]&&r.jsx(p,{sx:{marginBottom:"1rem",marginTop:"0.5rem"}}),r.jsxs(ot,{nameKey:e[t],children:[r.jsx("p",{id:"item-name-key",children:t}),x.includes(e[t])?r.jsx("p",{children:s?.money?`-${W(s.money,U[n])}`:`-${A(U[n])}`}):r.jsx("p",{children:s?.money?W(s.money,U[n]):A(U[n])})]},t)]},t)))}return r.jsxs(h,{sx:{marginBottom:"1rem"},children:[r.jsxs(u,{sx:{padding:"1rem 1rem 0 1rem"},children:[r.jsx(i,{variant:"h5",children:n}),o&&r.jsx("div",{children:o})]}),r.jsx(m,{children:r.jsx(u,{sx:{"& #item-name-key":{maxWidth:"70%",wordBreak:"break-word"}},children:q})}),r.jsx(it,{isShowButtons:B,children:a&&a.map((e=>r.jsx(g.Fragment,{children:e.isCanShow&&r.jsx(Z,{value:e.value,name:e.name,variant:e.variant,onClick:me((()=>{F(e.name)}),2e3),children:e.value},e.key)},e.key)))}),r.jsx(nt,{open:N,products:c,currentDialogData:R,type:O,setOpen:E,itemKey:l,orderId:Number(d)}),r.jsx(de,{open:I,currentRow:{companyId:Number(v||0)},handleClose:()=>D(!1),title:S("orderDetail.switchCompany.title"),context:S("orderDetail.switchCompany.content.tipsText"),dialogParams:{rightSizeBtn:S("global.B2BSwitchCompanyModal.confirm.button")}})]})}function ct(e){const{detailsData:t,isCurrentCompany:n}=e,u=b(),i=P(k),o=P((({company:e})=>e.customer.emailAddress)),a=P((({company:e})=>e.customer.role)),s=P(z),{state:{shoppingListEnabled:c=!1}}=g.useContext(U),{state:{addressLabelPermission:l,createdEmail:p}}=g.useContext(ke),{money:h,orderSummary:{createAt:m,name:d,priceData:f,priceSymbol:w}={},payment:{billingAddress:y,paymentMethod:_,dateCreateAt:v}={},orderComments:x="",products:S,orderId:C,ipStatus:j=0,invoiceId:A,poNumber:T,customerId:I,companyInfo:{companyId:D}={}}=t,N=g.useCallback((()=>{let e="";return m?(e=u(T?"orderDetail.paidWithPo":"orderDetail.paidInFull",{paidDate:F(m,!0)}),e):e}),[T,m,u]);if(!C)return null;const{purchasabilityPermission:E,shoppingListCreateActionsPermission:O}=s,{getInvoicesPermission:L}=q,R=G({code:L,companyId:D?Number(D):0,userId:I?Number(I):0}),M=e=>{if(l)return e;const t=e.indexOf("/");return e.substring(t+1,e.length)},B=[{value:u("orderDetail.reorder"),key:"Re-Order",name:"reOrder",variant:"outlined",isCanShow:!i||E},{value:u("orderDetail.return"),key:"Return",name:"return",variant:"outlined",isCanShow:!1},{value:u("orderDetail.addToShoppingList"),key:"add-to-shopping-list",name:"shoppingList",variant:"outlined",isCanShow:i?O&&c:c}],W=0!==Number(j)||p===o,Z=[{header:u("orderDetail.summary"),key:"order-summary",subtitle:v&&d?u("orderDetail.purchaseDetails",{name:d,updatedAt:F(Number(v))}):"",buttons:B,infos:{money:h,info:f||{},symbol:w||{}}},{header:u("orderDetail.payment"),key:"payment",subtitle:N(),buttons:[{value:u(i?"orderDetail.viewInvoice":"orderDetail.printInvoice"),key:"aboutInvoice",name:i?"viewInvoice":"printInvoice",variant:"outlined",isCanShow:i?W&&R:W}],infos:{info:(e=>{if(!e)return{};const{first_name:t,last_name:r,company:n,street_1:i,state:o,zip:a,country:s,city:c}=e||{};return{paymentMethod:u("orderDetail.paymentMethod",{paymentMethod:_??""}),name:u("orderDetail.customerName",{firstName:t,lastName:r}),company:M(n),street:i,address:u("orderDetail.customerAddress",{city:c,state:o,zip:a,country:s})}})(y)}},{header:u("orderDetail.comments"),key:"order-comments",subtitle:"",buttons:[],infos:{info:(e=>{const t=e.split(/\n/g),r={},n=["-------------------------------------"];return t.forEach(((e,t)=>{if(e.trim().length>0){let i=e.trim().includes(":")?e:u("orderDetail.itemComments",{item:e});n.includes(e)&&(i=e),r[`mes${t}`]=i}})),r})(x)}}];return r.jsx(ut,{children:Z&&Z.map((e=>g.createElement(st,{products:S,orderId:C.toString(),...e,itemKey:e.key,role:a,ipStatus:j,invoiceId:A,key:e.key,isCurrentCompany:n,switchCompanyId:D})))})}function lt({isCurrentCompany:e}){const{state:{billings:t=[],addressLabelPermission:n,orderId:o,orderIsDigital:a}}=g.useContext(ke),[s]=C(),c=e=>{const{billingAddress:t}=e;if(t){const{first_name:e,last_name:r}=t;return`${e} ${r}`}return""},l=e=>{const{billingAddress:t}=e;if(t){const{street_1:e,city:r,state:n,zip:u,country:i}=t;return`${e}, ${r}, ${n} ${u}, ${i}`}return""},p=e=>{if(n)return e;const t=e.indexOf("/");return e.substring(t+1,e.length)};return a?r.jsx(d,{spacing:2,children:t.map((t=>r.jsx(h,{children:r.jsxs(m,{children:[r.jsxs(u,{sx:{wordBreak:"break-word",color:"rgba(0, 0, 0, 0.87)"},children:[r.jsxs(i,{variant:"h6",sx:{fontSize:"24px",fontWeight:"400"},children:[c(t)," – ",p(t.billingAddress.company||"")]}),r.jsx(i,{variant:"h6",sx:{fontSize:"24px",fontWeight:"400"},children:l(t)})]}),r.jsx(K,{products:t.products,totalText:"Total",canToProduct:e,textAlign:s?"left":"right"})]})},`billing-${o}`)))}):null}const pt=a("div")((()=>({"& > .MuiPaper-root":{boxShadow:"none"},"& table":{"& td, & th":{"&:first-of-type":{paddingLeft:0}}}})));function ht(){const e=b(),{state:{history:t=[],orderStatus:n=[],customStatus:u}}=g.useContext(ke),[o]=C(),a=t=>{const r=n.find((e=>e.systemLabel===t));let i=r?.customLabel||u;if(r){const t=ie[r.systemLabel];i=t&&e(t)!==r.systemLabel?e(t):i}return i},s=[{key:"time",title:e("orderDetail.history.dateHeader"),render:e=>`${$(e.createdAt)}`,width:o?"100px":"200px"},{key:"code",title:e("orderDetail.history.statusHeader"),render:e=>r.jsx(ue,{code:e.status,text:a(e.status)})}];return t.length>0?r.jsx(h,{children:r.jsxs(m,{sx:{paddingBottom:"50px"},children:[r.jsx(i,{variant:"h5",children:e("orderDetail.history.title")}),r.jsx(pt,{children:r.jsx(V,{columnItems:s,listItems:t,showPagination:!1})})]})}):null}var mt={};const dt={name:"Amazon",courier_code:"amazon",tracking_numbers:[{name:"Amazon Logistics",id:"amazon_logistics",regex:["\\s*T\\s*B\\s*A\\s*(?<SerialNumber>([0-9]\\s*){12,12})\\s*"],validation:{},test_numbers:{valid:["TBA000000000000","TBA010000000000","TBA 000000000000","TBA502887274000"],invalid:["TBA50288727400A","000000000000000","000000000000","TBB000000000000"]}},{name:"Amazon International",id:"amazon_international",regex:["\\s*[AFC]\\s*(?<SerialNumber>([0-9]\\s*){10,10})\\s*"],validation:{},test_numbers:{valid:["C1004444443","C1004444444"],invalid:["D1234567890"]}}]},ft={name:"DHL",courier_code:"dhl",tracking_numbers:[{name:"DHL Express",id:"dhl_express",regex:"\\s*(?<SerialNumber>([0-9]\\s*){9,10})(?<CheckDigit>([0-9]\\s*))",validation:{checksum:{name:"mod7"}},tracking_url:"http://www.dhl.com/en/express/tracking.html?brand=DHL&AWB=%s",test_numbers:{valid:["3318810025","73891051146","8487135506","1099255990","3821724944","3318810036","3318810014"],invalid:["3318810010","3318810034","3318810011"]}},{name:"DHL Express (Piece ID)",id:"dhl_express_piece_id",regex:"\\s*(J[A-Z]{2,3})(?<SerialNumber>([0-9]\\s*){9,10})",validation:{},tracking_url:"http://www.dhl.com/en/express/tracking.html?brand=DHL&AWB=%s",test_numbers:{valid:["JJD0099999999","JVGL0999999990"],invalid:["XJD0099999998"]}},{name:"DHL E-Commerce",id:"dhl_ecommerce",regex:"\\s*((GM)|(LX)|(RX)|(UV)|(CN)|(SG)|(TH)|(IN)|(HK)|(MY))\\s*(?<SerialNumber>([0-9]\\s*){10,39})",validation:{},tracking_url:"http://www.dhl.com/en/express/tracking.html?brand=DHL&AWB=%s",test_numbers:{valid:["GM2951173225174494","GM 2 9 5 117 32 25 1 7 44 9 4","GM295117494011169042"],invalid:["GS295117494011169041","GR295117494011169045"]}}]},wt={name:"FedEx",courier_code:"fedex",tracking_numbers:[{name:"FedEx Express (12)",id:"fedex_12",regex:"\\s*(?<SerialNumber>([0-9]\\s*){11})(?<CheckDigit>[0-9]\\s*)",validation:{checksum:{name:"sum_product_with_weightings_and_modulo",weightings:[3,1,7,3,1,7,3,1,7,3,1],modulo1:11,modulo2:10}},tracking_url:"https://www.fedex.com/apps/fedextrack/?tracknumbers=%s",test_numbers:{valid:["986578788855","477179081230","799531274483","790535312317"," 7 9 0 5 3 5 3 1 2 3 1 7 ","974367662710"],invalid:["996578788855"]}},{name:"FedEx Express (34)",id:"fedex_34",regex:["\\s*1\\s*0\\s*[0-9]\\s*[0-9]\\s*[0-9]\\s*","([0-9]\\s*){10}","(?<DestinationZip>([0-9]\\s*){5})","(?<SerialNumber>([0-9]\\s*){13})","(?<CheckDigit>[0-9]\\s*)"],validation:{checksum:{name:"sum_product_with_weightings_and_modulo",weightings:[1,7,3,1,7,3,1,7,3,1,7,3,1],modulo1:11,modulo2:10}},tracking_url:"https://www.fedex.com/apps/fedextrack/?tracknumbers=%s",test_numbers:{valid:["1001921334250001000300779017972697","1001921380360001000300639585804382","1001901781990001000300617767839437"," 1 0 0 1 9 0 1 7 8 1 9 9 0 0 0 1 0 0 0 3 0 0 6 1 7 7 6 7 8 3 9 4 3 7 ","1002297871540001000300790695517286","1027590111820004833500785458233610"],invalid:["1001901781990001000300617767839438"]}},{name:"FedEx SmartPost",id:"fedex_smartpost",description:"Shipped by FedEx, Delivered by USPS",regex:["\\s*(?:","(?:(?<RoutingApplicationId>4\\s*2\\s*0\\s*)(?<DestinationZip>([0-9]\\s*){5}))?","(?<ApplicationIdentifier>9\\s*2\\s*)",")?","(?<SerialNumber>","(?<SCNC>([0-9]\\s*){2})","(?<ServiceType>2\\s*9\\s*)","(?<ShipperId>([0-9]\\s*){8})","(?<PackageId>([0-9]\\s*){11}|([0-9]\\s*){7})",")","(?<CheckDigit>([0-9]\\s*))"],additional:[{name:"Service Type",regex_group_name:"ServiceType",lookup:[{matches_regex:".",name:"Delivered by USPS"}]}],partners:[{partner_id:"usps_91",partner_type:"carrier",description:"FedEx SmartPost is a shipping service that utilizes FedEx for the initial transport and the United States Postal Service for final delivery."}],validation:{checksum:{name:"mod10",evens_multiplier:3,odds_multiplier:1},serial_number_format:{prepend_if:{matches_regex:"^(?!92).+",content:"92"}}},tracking_url:"https://www.fedex.com/apps/fedextrack/?tracknumbers=%s",test_numbers:{valid:["61299998820821171811","9261292700768711948021","420 11213 92 6129098349792366623 8","92 6129098349792366623 8","6129098349792366623 8"],invalid:["9261292700768711948020","92001903060085300042901077","420 11213 61290983497923666231","92 6129098349792366623 5","9400 1112 0108 0805 4830 16","9361 2898 7870 0317 6337 95"]}},{name:"FedEx Ground",id:"fedex_ground",regex:"\\s*(?<SerialNumber>([0-9]\\s*){14})(?<CheckDigit>([0-9]\\s*))",validation:{checksum:{name:"mod10",evens_multiplier:1,odds_multiplier:3}},tracking_url:"https://www.fedex.com/apps/fedextrack/?tracknumbers=%s",test_numbers:{valid:["0414 4176 0228 964","5682 8361 0012 000"," 5 6 8 2   8 3 6 1   0 0 1 2   0 0 0 ","5682 8361 0012 734"],invalid:["5682 8361 0012 732"]}},{name:"FedEx Ground (SSCC-18)",id:"fedex_ground_sscc_18",regex:"\\s*(?<ShippingContainerType>([0-9]\\s*){2})(?<SerialNumber>([0-9]\\s*){15})(?<CheckDigit>[0-9]\\s*)",tracking_url:"https://www.fedex.com/apps/fedextrack/?tracknumbers=%s",validation:{checksum:{name:"mod10",evens_multiplier:3,odds_multiplier:1}},test_numbers:{valid:["00 0123 4500 0000 0027"," 0 0   0 1 2 3   4 5 0 0   0 0 0 0   0 0 2 7 "],invalid:["000000000000000001"]},additional:[{name:"Container Type",regex_group_name:"ShippingContainerType",lookup:[{matches:"00",name:"case/carton"},{matches:"01",name:"pallet"},{matches:"02",name:"larger than a pallet"},{matches:"04",name:"internally defined for intra-company use"}]}]},{name:"FedEx Ground 96 (22)",id:"fedex_ground_96",regex:["\\s*(?<ApplicationIdentifier>9\\s*6\\s*)","(?<SCNC>([0-9]\\s*){2})","(?<ServiceType>([0-9]\\s*){3})","(?<SerialNumber>(?<ShipperId>([0-9]\\s*){7})(?<PackageId>([0-9]\\s*){7}))","(?<CheckDigit>[0-9]\\s*)"],validation:{checksum:{name:"mod10",evens_multiplier:1,odds_multiplier:3}},tracking_url:"https://www.fedex.com/apps/fedextrack/?tracknumbers=%s",test_numbers:{valid:["9611020987654312345672"," 9 6 1 1 0 2 0 9 8 7 6 5 4 3 1 2 3 4 5 6 7 2 "],invalid:["9600000000000000000001"]}},{name:"FedEx Ground GSN",id:"fedex_ground_gsn",regex:["\\s*(?<ApplicationIdentifier>9\\s*6\\s*)","(?<SCNC>([0-9]\\s*){2})","([0-9]\\s*){5}","(?<GSN>([0-9]\\s*){10})","[0-9]\\s*","(?<SerialNumber>([0-9]\\s*){13})","(?<CheckDigit>[0-9]\\s*)"],validation:{checksum:{name:"sum_product_with_weightings_and_modulo",weightings:[1,7,3,1,7,3,1,7,3,1,7,3,1],modulo1:11,modulo2:10}},tracking_url:"https://www.fedex.com/apps/fedextrack/?tracknumbers=%s",test_numbers:{valid:["9622001900000000000000776632517510","9622001560000000000000794808390594","9622001560001234567100794808390594"," 9 6 2 2 0 0 1 5 6 0 0 0 1 2 3 4 5 6 7 1 0 0 7 9 4 8 0 8 3 9 0 5 9 4 ","9632001560123456789900794808390594"],invalid:["9622001560001234567100794808390595","9622001560001234567100794808390597"]}}]},gt={name:"OnTrac",courier_code:"ontrac",tracking_numbers:[{name:"OnTrac",id:"ontrac_c",regex:"\\s*C\\s*(?<SerialNumber>([0-9]\\s*){13})(?<CheckDigit>[0-9]\\s*)",validation:{checksum:{name:"mod10",evens_multiplier:1,odds_multiplier:2},serial_number_format:{prepend_if:{matches_regex:"^(?!4).+$",content:"4"}}},tracking_url:"http://www.ontrac.com/tracking/?number=%s",test_numbers:{valid:["C11031500001879","C 110 31 500 00187 9","C10999911320231","C11121552953069","C11121553156000","C11121552829468"],invalid:["C10000000000000","C11031500001889"]}},{name:"OnTrac D",id:"ontrac_d",regex:"\\s*D\\s*(?<SerialNumber>([0-9]\\s*){13})(?<CheckDigit>[0-9]\\s*)",validation:{checksum:{name:"mod10",evens_multiplier:1,odds_multiplier:2},serial_number_format:{prepend_if:{matches_regex:"^(?!5).+$",content:"5"}}},tracking_url:"http://www.ontrac.com/tracking/?number=%s",test_numbers:{valid:["D10011354453707","D10011345983010","D 100 113 459 830 10","D10011342332145"],invalid:["D10011345983012","D10011342332144"]}}]},yt={name:"S10 International Standard",courier_code:"s10",tracking_numbers:[{id:"s10",name:"S10",validation:{checksum:{name:"s10"},additional:{exists:["Courier"]}},regex:"\\s*(?<ServiceType>([A-Z]\\s*){2})(?<SerialNumber>([0-9]\\s*){8})(?<CheckDigit>([0-9]\\s*))(?<CountryCode>([A-Z]\\s*){2})",tracking_url:null,test_numbers:{valid:["RB123456785GB","RB123456785US","RB123456785CV","RB123456785CF"],invalid:["RB123456786US","RB123456785XX"]},additional:[{name:"Service Type",regex_group_name:"ServiceType",lookup:[{name:"EMS",matches_regex:"E[A-Z]",description:"International Express Mail Service"},{name:"Letter Post Express",matches_regex:"L[A-Z]",description:""},{name:"Letter Post M-bag",matches_regex:"M[A-Z]",description:"Direct sacks of printed matter sent to a single foreign addressee at a single address"},{name:"Letter Post IBRS",matches_regex:"Q[A-M]",description:"International Business Reply Service"},{name:"Letter Post Registered",matches_regex:"R[A-Z]",description:"Prepaid first-class mail that is recorded by the post office before being sent and at each point along its route to safeguard against loss, theft, or damage."},{name:"Letter Post Misc",matches_regex:"U[A-Z]",description:""},{name:"Letter Post Insured",matches_regex:"V[A-Z]",description:""},{name:"Parcel Post",matches_regex:"C[A-Z]",description:""},{name:"Parcel Post (e-commerce)",matches_regex:"H[A-Z]",description:""},{name:"Domestic",matches_regex:"([BDNPZ][A-Z]|A[V-Z]|G[AD])",description:"Mail designated for domestic, bilateral, or multilateral use"}]},{name:"Courier",regex_group_name:"CountryCode",lookup:[{matches:"AF",country:"Afghanistan",courier:"Afghan Post",courier_url:"http://postalcode.afghanpost.gov.af/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/afghanistan.html"},{matches:"AL",country:"Albania",courier:"Posta Shqiptare",courier_url:"http://www.postashqiptare.al/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/albania.html"},{matches:"DZ",country:"Algeria",courier:"Algérie Poste",courier_url:"http://www.poste.dz/codepostal/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/algeria.html"},{matches:"AO",country:"Angola",courier:"Correios de Angola",courier_url:"http://www.correiosdeangola.co.ao/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/angola.html"},{country:"Antigua and Barbuda",matches:"AG",courier:"Antigua Postal Services",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/antigua-and-barbuda.html"},{matches:"AR",country:"Argentina",courier:"Correo Argentino",courier_url:"http://www.correoargentino.com.ar/formularios/cpa",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/argentina.html"},{matches:"AM",country:"Armenia",courier:"Haypost - Armenian Postal Service",courier_url:"http://www.haypost.am/view-lang-eng-page-25.html",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/armenia.html"},{matches:"AU",country:"Australia",courier:"Australia Post",courier_url:"http://www1.auspost.com.au/postcodes/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/australia.html"},{matches:"AT",country:"Austria",courier:"Österreichische Post AG",courier_url:"http://www.post.at/en/index.php",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/austria.html"},{matches:"AZ",country:"Azerbaijan",courier:"Azarpoçt",courier_url:"http://www.azerpost.az/?options=content&id=188&language=en",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/azerbaijan.html"},{matches:"BS",country:"Bahamas",courier:"Bahamas Postal Service",courier_url:"http://www.bahamas.gov.bs/postalservice",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/bahamas.html"},{matches:"BH",country:"Bahrain",courier:"Bahrain Post",courier_url:"http://www.transportation.gov.bh/en/modules.php?name=Content&pa=showpage&pid=97",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/bahrain.html"},{matches:"BD",country:"Bangladesh",courier:"Bangladesh Post Office",courier_url:"http://www.bangladeshpost.gov.bd/PostCode.asp",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/bangladesh.html"},{matches:"BB",country:"Barbados",courier:"Barbados Postal Service",courier_url:"http://www.bps.gov.bb/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/barbados.html"},{matches:"BY",country:"Belarus",courier:"Belpochta",courier_url:"http://zip.belpost.by/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/belarus.html"},{matches:"BE",country:"Belgium",courier:"bpost",courier_url:"http://www.bpost.be/site/fr/residential/customerservice/search/postal_codes.html",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/belgium.html"},{matches:"BZ",country:"Belize",courier:"Belize Postal Service",courier_url:"http://www.belizepostalservice.gov.bz/site/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/belize.html"},{matches:"BJ",country:"Benin",courier:"La Poste du Bénin",courier_url:"http://www.laposte.bj/index1.php?id_page=1",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/benin.html"},{matches:"BT",country:"Bhutan",courier:"Bhutan Post",courier_url:"http://www.bhutanpost.com.bt/postcode/postcode.php",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/bhutan.html"},{matches:"BO",country:"Bolivia",courier:"ECOBOL – Empresa de Correos de Bolivia",courier_url:"http://www.correosbolivia.com/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/bolivia.html"},{matches:"BA",country:"Bosnia and Herzegovina",courier:"JP BH POŠTA d.o.o. Sarajevo",courier_url:"http://www.post.ba/postanski_brojevi_bih.php",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/bosnia-and-herzegovina.html"},{matches:"BW",country:"Botswana",courier:"BotswanaPost",courier_url:"http://www.botspost.co.bw/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/botswana.html"},{matches:"BR",country:"Brazil",courier:"CORREIOS",courier_url:"http://www.buscacep.correios.com.br/servicos/dnec/index.do",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/brazil.html"},{matches:"BN",country:"Brunei Darussalam",courier:"Brunei Postal Services",courier_url:"http://www.post.gov.bn/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/brunei-darussalam.html"},{matches:"BG",country:"Bulgaria (Rep.)",courier:"Bulgarian Posts",courier_url:"http://www.bgpost.bg/?cid=131",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/bulgaria-rep.html"},{matches:"BF",country:"Burkina Faso",courier:"SONAPOST",courier_url:"http://www.sonapost.bf/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/burkina-faso.html"},{matches:"BI",country:"Burundi",courier:"RNP – Régie nationale des postes",courier_url:"http://www.poste.bi/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/burundi.html"},{matches:"KH",country:"Cambodia",courier:"Ministry of Posts and Telecommunications",courier_url:"http://www.mptc.gov.kh/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/cambodia.html"},{matches:"CM",country:"Cameroon",courier:"CAMPOST – Cameroon Postal Services",courier_url:"http://campostonline.com/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/cameroon.html"},{matches:"CA",country:"Canada",courier:"Canada Post",courier_url:"http://www.canadapost.ca/cpotools/apps/fpc/personal/findByCity?execution=e1s1",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/canada.html"},{country:"Cape Verde",matches:"CV",courier:"Correios de Cabo Verde",courier_url:"http://www.correios.cv/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/cape-verde.html"},{country:"Central African Rep.",matches:"CF",courier:"Direction des services postaux de l'Office National des Postes et de l'Épargne",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/central-african-rep.html"},{matches:"TD",country:"Chad",courier:"Société tchadienne des postes et de l'épargne",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/chad.html"},{matches:"CL",country:"Chile",courier:"Correos de Chile",courier_url:"http://www.correos.cl/SitePages/home.aspx",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/chile.html"},{matches:"CN",country:"China (People's Rep.)",courier:"China Post",courier_url:"http://www.cpdc.com.cn/web/index.php?m=postsearch&c=index&a=init&t=addr",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/china-peoples-rep.html"},{matches:"HK",country:"China",courier:"Hong Kong Post",courier_url:"http://www.hongkongpost.hk",upu_reference_url:""},{matches:"CO",country:"Colombia",courier:"4-72 La Red Postal de Colombia",courier_url:"http://visor.codigopostal.gov.co/472/visor/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/colombia.html"},{matches:"KM",country:"Comoros",courier:"Societé Nationale des Postes et des Services Financiers",courier_url:"http://www.lapostecomores.com/bureaux.php",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/comoros.html"},{matches:"CG",country:"Congo (Rep.)",courier:"Congolese Posts and Savings Company",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/congo-rep.html"},{country:"Costa Rica",matches:"CR",courier:"Correos de Costa Rica",courier_url:"https://www.correos.go.cr/nosotros/codigopostal/busqueda.html",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/costa-rica.html"},{matches:"HR",country:"Croatia",courier:"Hrvatska Posta - Croatian Post",courier_url:"http://www.posta.hr/default.aspx?pretpum&id=3417",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/croatia.html"},{matches:"CU",country:"Cuba",courier:"Ministerio de la Informática y las comunicaciones de Cuba",courier_url:"http://www.mic.gov.cu/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/cuba.html"},{matches:"CY",country:"Cyprus",courier:"Cyprus Post",courier_url:"http://www.mcw.gov.cy/mcw/dps/dps.nsf/index_en/index_en?OpenDocument",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/cyprus.html"},{matches:"CZ",country:"Czech Rep.",courier:"Česká Pošta",courier_url:"http://psc.cpost.cz/CleanForm.action?request_locale=en",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/czech-rep.html"},{matches:"CI",country:"Côte d'Ivoire (Rep.)",courier:"La Poste de Côte d’Ivoire",courier_url:"http://www.laposte.ci/bureau.php",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/cote-divoire-rep.html"},{matches:"KP",country:"Dem People's Rep. of Korea",courier:"Korea Post and Telecommunications Corporation",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/dem-peoples-rep-of-korea.html"},{matches:"CD",country:"Democratic Republic of the Congo",courier:"Congolese Posts and Telecommunications Corporation",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/democratic-republic-of-the-congo.html"},{matches:"DK",country:"Denmark",courier:"Post Danmark",courier_url:"http://www.postdanmark.dk/en/find_postcode/Pages/home.aspx",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/denmark.html"},{matches:"DJ",country:"Djibouti",courier:"La Poste de Djibouti",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/djibouti.html"},{matches:"DM",country:"Dominica",courier:"General Post Office",courier_url:"http://publicworks.gov.dm/index.php/divisions/general-post-office/20-gpo-about-us",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/dominica.html"},{matches:"DO",country:"Dominican Republic",courier:"INPOSDOM – Instituto Postal Dominicano",courier_url:"http://www.inposdom.gob.do/servicios/codigo-postal",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/dominican-republic.html"},{matches:"EC",country:"Ecuador",courier:"Correos del Ecuador",courier_url:"http://www.codigopostal.gob.ec/#",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/ecuador.html"},{matches:"EG",country:"Egypt",courier:"Egypt Post",courier_url:"http://www.egyptpost.org/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/egypt.html"},{matches:"SV",country:"El Salvador",courier:"Correos de El Salvador",courier_url:"http://www.correos.gob.sv/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/el-salvador.html"},{matches:"GQ",country:"Equatorial Guinea",courier:"Equatorial Guinea Post",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/equatorial-guinea.html"},{matches:"ER",country:"Eritrea",courier:"Eritrean Postal Service",courier_url:"http://www.eriposta.com/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/eritrea.html"},{matches:"EE",country:"Estonia",courier:"Eesti Post",courier_url:"http://www.post.ee/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/estonia.html"},{matches:"ET",country:"Ethiopia",courier:"Ethiopian postal service",courier_url:"http://www.ethiopostal.com/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/ethiopia.html"},{matches:"FJ",country:"Fiji",courier:"Post Fiji",courier_url:"http://www.postfiji.com.fj/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/fiji.html"},{matches:"FI",country:"Finland (including the Åland Islands)",courier:"Posti Ltd",courier_url:"http://www.verkkoposti.com/e3/english/postalcodecatalog",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/finland-including-the-aaland-islands.html"},{matches:"FR",country:"France",courier:"La Poste",courier_url:"http://www.laposte.fr/Entreprise/Outils-Indispensables/Outils/Trouvez-un-code-postal",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/france.html"},{matches:"GA",country:"Gabon",courier:"La Poste SA",courier_url:"http://www.laposte.ga/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/gabon.html"},{matches:"GM",country:"Gambia",courier:"Gambia Postal services Corporation",courier_url:"http://www.gampost.gm/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/gambia.html"},{matches:"GE",country:"Georgia",courier:"Georgian Post",courier_url:"http://www.georgianpost.ge/?site-lang=en&site-path=help/zipcodes/&letter=A",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/georgia.html"},{matches:"DE",country:"Germany",courier:"Deutsche Post",courier_url:"http://www.postdirekt.de/plzserver/PlzSearchServlet?lang=en_GB&id=viewstreet",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/germany.html"},{matches:"GH",country:"Ghana",courier:"Ghana Post",courier_url:"http://www.ghanapostgh.com/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/ghana.html"},{country:"Great Britain",matches:"GB",courier:"Royal Mail Group plc",courier_url:"http://www.royalmail.com/postcode-finder?gear=postcode&campaignid=postcodefinder_redirect",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/great-britain.html"},{matches:"GR",country:"Greece",courier:"Hellenic Post ELTA",courier_url:"http://www.elta.gr/en-us/findapostcode.aspx",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/greece.html"},{matches:"GD",country:"Grenada",courier:"Grenada Postal Corporation",courier_url:"http://www.grenadapostal.com/index.html",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/grenada.html"},{matches:"GT",country:"Guatemala",courier:"El Correo",courier_url:"http://www.elcorreo.com.gt/cdgcorreo/index.php?option=com_content&view=article&id=104&Itemid=233",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/guatemala.html"},{matches:"GN",country:"Guinea",courier:"Office de la poste guinéenne",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/guinea.html"},{country:"Guinea-Bissau",matches:"GW",courier:"Correios da Guiné-Bissau",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/guinea-bissau.html"},{matches:"GY",country:"Guyana",courier:"Guyana Post Office Corporation",courier_url:"http://guypost.gy/gpoc/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/guyana.html"},{matches:"HT",country:"Haiti",courier:"Office des Postes d’Haiti",courier_url:"http://postehaiti.gouv.ht/notre-reseau-postal",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/haiti.html"},{matches:"HN",country:"Honduras (Rep.)",courier:"Honducor",courier_url:"http://honducor.gob.hn/codpost/consulta.php",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/honduras-rep.html"},{matches:"HU",country:"Hungary",courier:"Magyar Posta",courier_url:"http://www.posta.hu/ugyfelszolgalat/iranyitoszam_kereso",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/hungary.html"},{matches:"IS",country:"Iceland",courier:"Íslandspóstur hf",courier_url:"http://www.postur.is/en/desktopdefault.aspx/tabid-450/700_read-1715/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/iceland.html"},{matches:"IN",country:"India",courier:"India Post",courier_url:"http://www.indiapost.gov.in/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/india.html"},{matches:"ID",country:"Indonesia",courier:"Pos Indonesia",courier_url:"http://kodepos.indonesiaweb.info/en/street/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/indonesia.html"},{matches:"IR",country:"Iran (Islamic Rep.)",courier:"Islamic Republic of Iran Post Co.",courier_url:"http://www.post.ir/Homepage.aspx?site=PostPortal&lang=fa-IR&tabid=0",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/iran-islamic-rep.html"},{matches:"IQ",country:"Iraq",courier:"Iraqi Post",courier_url:"http://www.iraqipost.net/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/iraq.html"},{matches:"IE",country:"Ireland",courier:"AN Post - regulatory and International affairs Unit",courier_url:"http://locator.anpost.ie/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/ireland.html"},{matches:"IL",country:"Israel",courier:"Israel Post",courier_url:"http://www.israelpost.co.il/zipcode.nsf/demozip?openform",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/israel.html"},{matches:"IT",country:"Italy",courier:"Poste Italiane",courier_url:"http://www.poste.it/online/cercacap/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/italy.html"},{matches:"JM",country:"Jamaica",courier:"Jamaica Post",courier_url:"http://www.jamaicapost.gov.jm/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/jamaica.html"},{matches:"JP",country:"Japan",courier:"Japan Post",courier_url:"http://www.post.japanpost.jp/zipcode/index.html",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/japan.html"},{matches:"JO",country:"Jordan",courier:"Jordan Post",courier_url:"http://www.jordanpost.com.jo/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/jordan.html"},{matches:"KZ",country:"Kazakhstan",courier:"Kazpost",courier_url:"http://www.kazpost.kz/ru/poisk-pochtovogo-indeksa-0",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/kazakhstan.html"},{matches:"KE",country:"Kenya",courier:"Posta Kenya",courier_url:"http://www.posta.co.ke/postOfficeFind.asp",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/kenya.html"},{matches:"KI",country:"Kiribati",courier:"Kiribati Public Service Public",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/kiribati.html"},{matches:"KR",country:"Korea (Rep.)",courier:"Korea Post",courier_url:"http://www.epost.go.kr/roadAreaCdEng.retrieveRdEngAreaCdList.comm",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/korea-rep.html"},{matches:"KW",country:"Kuwait",courier:"Kuwait Ministry of Communications",courier_url:"http://moc.kw/English/index.html",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/kuwait.html"},{matches:"KG",country:"Kyrgyzstan",courier:"Kyrgyz Post",courier_url:"http://kyrgyzpost.kg/ru/news.html",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/kyrgyzstan.html"},{matches:"LA",country:"Laos",courier:"Entreprise des Postes Lao",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/lao-peoples-dem-rep.html"},{matches:"LV",country:"Latvia",courier:"Latvia Post",courier_url:"http://www.pasts.lv/lv/uzzinas/parbaudit-adresi/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/latvia.html"},{matches:"LB",country:"Lebanon",courier:"LibanPost",courier_url:"http://www.libanpost.com.lb/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/lebanon.html"},{matches:"LS",country:"Lesotho",courier:"Lesotho Post",courier_url:"http://lesothopost.org.ls/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/lesotho.html"},{matches:"LR",country:"Liberia",courier:"Ministry of Posts and Telecommunications",courier_url:"http://www.mopt.gov.lr/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/liberia.html"},{matches:"LY",country:"Libya",courier:"Libya Post",courier_url:"http://libyapost.ly/en/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/libya.html"},{matches:"LI",country:"Liechtenstein",courier:"Liechtensteinische Post AG",courier_url:"http://www.post.li/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/liechtenstein.html"},{matches:"LT",country:"Lithuania",courier:"Lietuvos Pastas",courier_url:"http://www.post.lt/en/help/postal-code-search",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/lithuania.html"},{matches:"LU",country:"Luxembourg",courier:"Post",courier_url:"http://www.post.lu/en/particuliers/courrier/rechercher-un-code-postal",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/luxembourg.html"},{matches:"MG",country:"Madagascar",courier:"PAOSITRA MALAGASY",courier_url:"http://www.mtpc.gov.mg/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/madagascar.html"},{matches:"MW",country:"Malawi",courier:"Malawi Posts Corporation",courier_url:"http://www.malawiposts.com/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/malawi.html"},{matches:"MY",country:"Malaysia",courier:"Pos Malaysia",courier_url:"http://www.pos.com.my/pos/homepage.aspx",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/malaysia.html"},{matches:"MV",country:"Maldives",courier:"Maldives Post",courier_url:"http://www.maldivespost.com/index.php?lid=10",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/maldives.html"},{matches:"ML",country:"Mali",courier:"Office national des postes",courier_url:"http://www.laposte.ml/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/mali.html"},{matches:"MT",country:"Malta",courier:"Malta Post",courier_url:"http://postcodes.maltapost.com/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/malta.html"},{matches:"MR",country:"Mauritania",courier:"MAURIPOST – Société Mauritanienne des Postes",courier_url:"http://www.mauripost.mr/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/mauritania.html"},{matches:"MU",country:"Mauritius",courier:"Mauritius Post",courier_url:"http://www.mauritiuspost.mu/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/mauritius.html"},{matches:"MX",country:"Mexico",courier:"Correos de México",courier_url:"http://www.correosdemexico.gob.mx/ServiciosLinea/Paginas/ccpostales.aspx",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/mexico.html"},{matches:"MD",country:"Moldova",courier:"Posta Moldovei",courier_url:"http://www.posta.md/ro/postal_code.html",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/moldova.html"},{matches:"MC",country:"Monaco",courier:"La Poste Monaco",courier_url:"http://www.lapostemonaco.mc/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/monaco.html"},{matches:"MN",country:"Mongolia",courier:"Mongol Post - Монгол шуудан компани",courier_url:"http://www.zipcode.mn/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/mongolia.html"},{country:"Montenegro (Rep.)",matches:"ME",courier:"Pošta Crne Gore",courier_url:"http://www.postacg.me/main.php?idstr=177",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/montenegro-rep.html"},{matches:"MA",country:"Morocco",courier:"Barid Al-Maghrib – Poste Maroc",courier_url:"http://www.codepostal.ma/search_mot.aspx?keyword=",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/morocco.html"},{matches:"MZ",country:"Mozambique",courier:"Correios de Moçambique",courier_url:"http://www.correios.co.mz/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/mozambique.html"},{matches:"MM",country:"Myanmar",courier:"Myanmar Post and Telecommunications Department",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/myanmar.html"},{matches:"NA",country:"Namibia",courier:"NAM Post",courier_url:"https://www.nampost.com.na/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/namibia.html"},{matches:"NR",country:"Nauru",courier:"Nauru General Post Office",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/nauru.html"},{matches:"NP",country:"Nepal",courier:"Nepal Postal Services",courier_url:"http://www.gpo.gov.np/postalcode.aspx",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/nepal.html"},{matches:"NL",country:"Netherlands",courier:"PostNL",courier_url:"http://www.postnl.nl/voorthuis/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/netherlands.html"},{matches:"NZ",country:"New Zealand (including the Ross Dependency)",courier:"New Zealand Post",courier_url:"http://www.nzpost.co.nz/Cultures/en-NZ/OnlineTools/PostCodeFinder/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/new-zealand-including-the-ross-dependency.html"},{matches:"NI",country:"Nicaragua",courier:"Correos de Nicaragua",courier_url:"http://www.correos.gob.ni/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/nicaragua.html"},{matches:"NE",country:"Niger",courier:"Niger Poste",courier_url:"http://www.nigerposte.net/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/niger.html"},{matches:"NG",country:"Nigeria",courier:"Nigerian Postal Service",courier_url:"http://www.nigeriapostcodes.com/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/nigeria.html"},{matches:"NO",country:"Norway",courier:"Posten",courier_url:"http://adressesok.posten.no/en/postal_codes/search",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/norway.html"},{matches:"OM",country:"Oman",courier:"Oman Post",courier_url:"http://www.omanpost.om/Portals/2/Skins/skins//tabid/64/Default.aspx",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/oman.html"},{matches:"PK",country:"Pakistan",courier:"Pakistan Post",courier_url:"http://www.pakpost.gov.pk/postcode/postcode.html",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/pakistan.html"},{matches:"PA",country:"Panama (Rep.)",courier:"Correos de Panamá",courier_url:"http://www.correospanama.gob.pa/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/panama-rep.html"},{matches:"PG",country:"Papua New Guinea",courier:"Post PNG",courier_url:"http://www.postpng.com.pg/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/papua-new-guinea.html"},{matches:"PY",country:"Paraguay",courier:"Correo Paraguayo",courier_url:"http://www.correoparaguayo.gov.py/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/paraguay.html"},{matches:"PE",country:"Peru",courier:"SERPOST – Servicios Postales del Perú",courier_url:"http://www.mtc.gob.pe/portal/CPOSTAL/Listado_codigo_postal.html",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/peru.html"},{matches:"PH",country:"Philippines",courier:"PHLPOST – Philippine Postal Corporation",courier_url:"https://www.phlpost.gov.ph/zip-code-search.php",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/philippines.html"},{matches:"PL",country:"Poland",courier:"Poczta Polska",courier_url:"http://kody.poczta-polska.pl/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/poland.html"},{matches:"PT",country:"Portugal",courier:"CTT - Correios",courier_url:"http://www.ctt.pt/feapl_2/app/open/tools.jspx?tool=1",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/portugal.html"},{matches:"QA",country:"Qatar",courier:"Qatar Post",courier_url:"http://www.qpost.com.qa/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/qatar.html"},{matches:"RO",country:"Romania",courier:"Posta Romana",courier_url:"http://www.posta-romana.ro/postal_codes",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/romania.html"},{matches:"RU",country:"Russian Federation",courier:"Russian Post",courier_url:"http://www.russianpost.ru/rp/servise/ru/home/postuslug/searchops",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/russian-federation.html"},{matches:"RW",country:"Rwanda",courier:"National Post Office (Iposita)",courier_url:"http://i-posita.rw/spip.php?article1",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/rwanda.html"},{matches:"KN",country:"Saint Christopher (Saint Kitts) and Nevis",courier:"St. Kitts & Nevis Postal Services",courier_url:"http://www.post.gov.kn/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/saint-christopher-saint-kitts-and-nevis.html"},{matches:"LC",country:"Saint Lucia",courier:"Saint Lucia Postal Service",courier_url:"http://www.stluciapostal.com/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/saint-lucia.html"},{matches:"VC",country:"Saint Vincent and the Grenadines",courier:"SVG Postal Corporation",courier_url:"http://www.svgpost.gov.vc/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/saint-vincent-and-the-grenadines.html"},{matches:"WS",country:"Samoa",courier:"Samoa Post",courier_url:"http://www.samoapost.ws/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/samoa.html"},{matches:"SM",country:"San Marino",courier:"Poste San Marino",courier_url:"http://www.poste.sm/on-line/home.html",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/san-marino.html"},{matches:"ST",country:"Sao Tome and Principe",courier:"Correios de São Tomé e Príncipe",courier_url:"http://www.inh.st/correios.st.htm",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/sao-tome-and-principe.html"},{matches:"SA",country:"Saudi Arabia",courier:"Saudi Post",courier_url:"http://maps.address.gov.sa",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/saudi-arabia.html"},{matches:"SN",country:"Senegal",courier:"La Poste Senegal",courier_url:"http://www.laposte.sn/laposte/trouver_codepostal.php",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/senegal.html"},{matches:"RS",country:"Serbia (Rep.)",courier:'PTT Communications "Srbija"',courier_url:"http://www.posta.rs/struktura/eng/aplikacije/pronadji/nadji-pak-rezultat.asp",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/serbia-rep.html"},{matches:"SC",country:"Seychelles",courier:"Seychelles Postal Service",courier_url:"http://www.seychellespost.gov.sc/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/seychelles.html"},{matches:"SL",country:"Sierra Leone",courier:"Sierra Leone Postal Services",courier_url:"http://www.salpost.sl/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/sierra-leone.html"},{matches:"SG",country:"Singapore",courier:"SingPost",courier_url:"http://www.singpost.com.sg/quick_services/index.htm",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/singapore.html"},{matches:"SK",country:"Slovakia",courier:"Slovenská Posta",courier_url:"http://psc.posta.sk/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/slovakia.html"},{matches:"SI",country:"Slovenia",courier:"Posta Slovenije d.o.o.",courier_url:"http://www.posta.si/postne-stevilke-doma",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/slovenia.html"},{matches:"SB",country:"Solomon Islands",courier:"Solomon Post",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/solomon-islands.html"},{matches:"SO",country:"Somalia",courier:"Somali Post",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/somalia.html"},{matches:"ZA",country:"South Africa",courier:"South African Post Office",courier_url:"http://www.postoffice.co.za/ContactUs/postalcode.html",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/south-africa.html"},{matches:"SS",country:"South Sudan (Rep.)",courier:"Minister of Telecommunication and Postal Services",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/south-sudan-rep.html"},{matches:"ES",country:"Spain",courier:"Correos y Telégrafos",courier_url:"http://www.correos.es/ss/Satellite/site/pagina-buscador_codigos_postales/sidioma=es_ES",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/spain.html"},{matches:"LK",country:"Sri Lanka",courier:"Sri Lanka Post",courier_url:"http://www.slpost.gov.lk/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/sri-lanka.html"},{matches:"SD",country:"Sudan",courier:"Sudapost",courier_url:"http://sudapost.sd/index.php/en/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/sudan.html"},{matches:"SR",country:"Suriname",courier:"SURPOST",courier_url:"http://www.surpost.com/surpost2/index.php",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/suriname.html"},{matches:"SZ",country:"Swaziland",courier:"Swaziland Posts & Telecommunications Corporation",courier_url:"http://www.sptc.co.sz/swazipost/codes.php",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/swaziland.html"},{matches:"SE",country:"Sweden",courier:"Posten Sweden Post",courier_url:"http://www.posten.se/oldurls/old_postnummersok.jspv",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/sweden.html"},{matches:"CH",country:"Switzerland",courier:"La Poste Suisse",courier_url:"http://www.swisspost.ch/post-startseite.htm",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/switzerland.html"},{matches:"SY",country:"Syrian Arab Rep.",courier:"Syrian Post",courier_url:"http://www.syrianpost.gov.sy/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/syrian-arab-rep.html"},{matches:"TJ",country:"Tajikistan",courier:"Tajikistan’s communications service agency",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/tajikistan.html"},{matches:"TZ",country:"Tanzania (United Rep.)",courier:"Tanzania Posts Corporation",courier_url:"http://www.posta.co.tz/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/tanzania-united-rep.html"},{matches:"TH",country:"Thailand",courier:"Thailand Post",courier_url:"http://www.thailandpost.com/search.php",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/thailand.html"},{matches:"MK",country:"The former Yugoslav Republic of Macedonia",courier:"Macedonian Post & Telecommunications",courier_url:"http://www.posta.mk/pravilno_adresiranje.html",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/the-former-yugoslav-republic-of-macedonia.html"},{matches:"TL",country:"Timor-Leste (Dem. Rep.)",courier:"Correios de Timor Leste",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/timor-leste-dem-rep.html"},{matches:"TG",country:"Togo",courier:"La Poste du Togo",courier_url:"http://www.laposte.tg/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/togo.html"},{matches:"TO",country:"Tonga (including Niuafo'ou)",courier:"Tonga Post",courier_url:"http://tongapost.to/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/tonga-including-niuafoou.html"},{matches:"TT",country:"Trinidad and Tobago",courier:"Trinidad and Tobago Postal Corporation",courier_url:"http://www.ttpost.net/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/trinidad-and-tobago.html"},{matches:"TN",country:"Tunisia",courier:"La Poste Tunisienne",courier_url:"http://www.poste.tn/codes.php",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/tunisia.html"},{matches:"TR",country:"Turkey",courier:"Turkey Post",courier_url:"http://postakodu.ptt.gov.tr/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/turkey.html"},{matches:"TM",country:"Turkmenistan",courier:"Turkmenpost",courier_url:"http://www.turkmenpost.gov.tm/about_index.php",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/turkmenistan.html"},{matches:"TV",country:"Tuvalu",courier:"Tuvalu Philatelic Bureau",courier_url:null,upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/tuvalu.html"},{matches:"UG",country:"Uganda",courier:"Posta Uganda",courier_url:"http://www.ugapost.co.ug/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/uganda.html"},{matches:"UA",country:"Ukraine",courier:"Ukrposhta",courier_url:"http://services.ukrposhta.com/postindex_new/default.aspx?lang=en",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/ukraine.html"},{matches:"AE",country:"United Arab Emirates",courier:"Emirates Post",courier_url:"http://www.emiratespost.com/content/english/index.jsp;jsessionid=35fbe352a6c441a491929d81d54fa0c6",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/united-arab-emirates.html"},{matches:"US",country:"United States of America",courier:"United States Postal Service",courier_url:"http://zip4.usps.com/zip4/welcome.jsp",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/united-states-of-america.html"},{matches:"UY",country:"Uruguay",courier:"Correo Uruguayo",courier_url:"http://www.correo.com.uy/index.asp?codPag=codPost&switchMapa=codPost",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/uruguay.html"},{matches:"UZ",country:"Uzbekistan",courier:"Post of Uzbekistan",courier_url:"http://www.pochta.uz/index.php/en/postal-indexes/9",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/eastern-europe-and-northern-asia/uzbekistan.html"},{matches:"VU",country:"Vanuatu",courier:"Vanuatu Post",courier_url:"http://www.vanuatupost.vu/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/vanuatu.html"},{matches:"VA",country:"Vatican",courier:"Vatican post",courier_url:"http://www.vaticanstate.va/EN/Services/Philatelic_and_Numismatic_Office/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/western-europe/vatican.html"},{matches:"VE",country:"Venezuela",courier:"IPOSTEL – Instituto Postal Telegráfico de Venezuela",courier_url:"http://www.ipostel.gob.ve/nlinea/codigo_postal.php",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/americas/venezuela.html"},{matches:"VN",country:"Viet Nam",courier:"VNPT – Vietnam Posts and Telecommunications Group",courier_url:"http://postcode.vnpost.vn/services/search.aspx",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/viet-nam.html"},{matches:"YE",country:"Yemen",courier:"Yemen Post",courier_url:"http://www.post.ye/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/southern-asia-and-oceania/yemen.html"},{matches:"ZM",country:"Zambia",courier:"Zambia Postal Services Corporation (ZAMPOST)",courier_url:"http://www.zampost.com.zm/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/zambia.html"},{matches:"ZW",country:"Zimbabwe",courier:"Zimpost – Zimbabwe Posts",courier_url:"http://www.zimpost.co.zw/",upu_reference_url:"http://www.upu.int/en/the-upu/member-countries/africa/zimbabwe.html"}]}]}]},_t={name:"UPS",courier_code:"ups",tracking_numbers:[{name:"UPS",id:"ups",regex:["\\s*1\\s*Z\\s*(?<SerialNumber>","(?<ShipperId>(?:[A-Z0-9]\\s*){6,6})","(?<ServiceType>(?:[A-Z0-9]\\s*){2,2})","(?<PackageId>(?:[A-Z0-9]\\s*){7,7}))","(?<CheckDigit>[0-9]\\s*)"],validation:{checksum:{name:"mod10",evens_multiplier:1,odds_multiplier:2}},tracking_url:"https://wwwapps.ups.com/WebTracking/track?track=yes&trackNums=%s",additional:[{name:"Service Type",regex_group_name:"ServiceType",lookup:[{matches:"01",name:"UPS United States Next Day Air (Red)"},{matches:"02",name:"UPS United States Second Day Air (Blue)"},{matches:"03",name:"UPS United States Ground"},{matches:"12",name:"UPS United States Third Day Select"},{matches:"13",name:"UPS United States Next Day Air Saver (Red Saver)"},{matches:"15",name:"UPS United States Next Day Air Early A.M."},{matches:"22",name:"UPS United States Ground - Returns Plus - Three Pickup Attempts"},{matches:"32",name:"UPS United States Next Day Air Early A.M. - COD"},{matches:"33",name:"UPS United States Next Day Air Early A.M. - Saturday Delivery, COD"},{matches:"41",name:"UPS United States Next Day Air Early A.M. - Saturday Delivery"},{matches:"42",name:"UPS United States Ground - Signature Required"},{matches:"44",name:"UPS United States Next Day Air - Saturday Delivery"},{matches:"66",name:"UPS United States Worldwide Express"},{matches:"72",name:"UPS United States Ground - Collect on Delivery"},{matches:"78",name:"UPS United States Ground - Returns Plus - One Pickup Attempt"},{matches:"90",name:"UPS United States Ground - Returns - UPS Prints and Mails Label"},{matches:"A0",name:"UPS United States Next Day Air Early A.M. - Adult Signature Required"},{matches:"A1",name:"UPS United States Next Day Air Early A.M. - Saturday Delivery, Adult Signature Required"},{matches:"A2",name:"UPS United States Next Day Air - Adult Signature Required"},{matches:"A8",name:"UPS United States Ground - Adult Signature Required"},{matches:"A9",name:"UPS United States Next Day Air Early A.M. - Adult Signature Required, COD"},{matches:"AA",name:"UPS United States Next Day Air Early A.M. - Saturday Delivery, Adult Signature Required, COD"},{matches:"YW",name:"UPS SurePost - Delivered by the USPS"}]}],test_numbers:{valid:["1Z5R89390357567127","1Z879E930346834440","1Z410E7W0392751591","1Z8V92A70367203024"," 1 Z 8 V 9 2 A 7 0 3 6 7 2 0 3 0 2 4 ","1ZXX3150YW44070023"],invalid:["2Z5R89390357567127","1A5R89390357567127","1Z1111111111111111"]}},{name:"UPS Waybill",regex:["\\s*(?<ServiceType>([AHJKTV]\\s*){1})","(?<SerialNumber>(?:[0-9]\\s*){9})","(?<CheckDigit>[0-9]\\s*){1}"],validation:{checksum:{name:"mod10",evens_multiplier:1,odds_multiplier:2}},additional:[{name:"Service Type",regex_group_name:"ServiceType",lookup:[{matches:"J",name:"UPS Next Day Express"},{matches:"K",name:"UPS Ground"},{matches:"V",name:"UPS WorldWide Express Saver"}]}],tracking_url:"https://wwwapps.ups.com/WebTracking/track?track=yes&trackNums=%s",test_numbers:{valid:["K1506235620","K 150 623 562 0","K2479825491","J4603636537","V0490119172","V0431105627"],invalid:["K1506235622","K2479825492","J4603636538","V0411335627","V0423305841"]}}]},bt={name:"United States Postal Service",courier_code:"usps",tracking_numbers:[{tracking_url:"https://tools.usps.com/go/TrackConfirmAction?tLabels=%s",name:"USPS 20",id:"usps_20",description:"20 digit USPS numbers",regex:["\\s*(?<SerialNumber>","(?<ServiceType>([0-9]\\s*){2})","(?<ShipperId>([0-9]\\s*){9})","(?<PackageId>([0-9]\\s*){8})",")","(?<CheckDigit>[0-9]\\s*)"],validation:{checksum:{name:"mod10",evens_multiplier:3,odds_multiplier:1}},test_numbers:{valid:["0307 1790 0005 2348 3741"," 0 3 0 7   1 7 9 0   0 0 0 5   2 3 4 8   3 7 4 1 ","7112 3456 7891 2345 6787"],invalid:["0307 1790 0005 2348 3742"]},additional:[{name:"Service Type",regex_group_name:"ServiceType",lookup:[{matches:"71",name:"Certified Mail"},{matches:"73",name:"Insured Mail"},{matches:"77",name:"Registered Mail"},{matches:"81",name:"Return Receipt For Merchanise"}]}]},{name:"USPS 34v2",id:"usps_32V2",description:"variation on 34 digit USPS IMpd numbers",regex:["\\s*(?<RoutingApplicationId>4\\s*2\\s*0\\s*)(?<DestinationZip>([0-9]\\s*){5})","(?<RoutingNumber>([0-9]\\s*){4})","(?<SerialNumber>","(?<ApplicationIdentifier>9\\s*[2345]\\s*)?","(?<ShipperId>([0-9]\\s*){8})","(?<PackageId>([0-9]\\s*){11})",")","(?<CheckDigit>[0-9]\\s*)"],validation:{checksum:{name:"mod10",evens_multiplier:3,odds_multiplier:1}},tracking_url:"https://tools.usps.com/go/TrackConfirmAction?tLabels=%s",test_numbers:{valid:["4201002334249200190132607600833457","4201028200009261290113185417468510"," 4 2 0 1 0 2 8 2 0 0 0 0 9 2 6 1 2 9 0 1 1 3 1 8 5 4 1 7 4 6 8 5 1 0 "],invalid:["4201028200009261290113185417468511"]}},{name:"USPS 91",id:"usps_91",description:"USPS now calls this the IMpd barcode format",regex:["\\s*(?:(?<RoutingApplicationId>4\\s*2\\s*0\\s*)(?<DestinationZip>([0-9]\\s*){5}))?","(?<SerialNumber>","(?<ApplicationIdentifier>9\\s*[12345]\\s*)?","(?<SCNC>([0-9]\\s*){2})","(?<ServiceType>([0-9]\\s*){2})","(?<ShipperId>([0-9]\\s*){8})","(?<PackageId>([0-9]\\s*){11}|([0-9]\\s*){7})",")","(?<CheckDigit>[0-9]\\s*)"],validation:{checksum:{name:"mod10",evens_multiplier:3,odds_multiplier:1},serial_number_format:{prepend_if:{matches_regex:"^(?!9[1-5]).+",content:"91"}}},partners:[{description:"FedEx SmartPost uses USPS for last mile delivery, but not all USPS91 numbers are SmartPosts",partner_type:"shipper",partner_id:"fedex_smartpost",validation:{matches_all:[{regex_group_name:"ServiceType",matches:"29"},{matches:"61",regex_group_name:"SCNC"}]}}],tracking_url:"https://tools.usps.com/go/TrackConfirmAction?tLabels=%s",test_numbers:{valid:["420 22153 9101026837331000039521","7196 9010 7560 0307 7385","9505 5110 6960 5048 6006 24","9101 1234 5678 9000 0000 13","92748931507708513018050063","92001903060085300042901077","9400 1112 0108 0805 4830 16","9361 2898 7870 0317 6337 95","9405803699300124287899"],invalid:["61299998820821171811","9200000000000000000000","420000000000000000000000000000","420000009200000000000000000000"]},additional:[{name:"Service Type",regex_group_name:"ServiceType",lookup:[{matches:"11",name:"First Class (R)"},{matches:"29",name:"Fedex Smart Post"}]}]}]};function vt(e){return null!=e&&"object"==typeof e&&!0===e["@@functional/placeholder"]}function xt(e){return function t(r){return 0===arguments.length||vt(r)?t:e.apply(this,arguments)}}function St(e){return function t(r,n){switch(arguments.length){case 0:return t;case 1:return vt(r)?t:xt((function(t){return e(r,t)}));default:return vt(r)&&vt(n)?t:vt(r)?xt((function(t){return e(t,n)})):vt(n)?xt((function(t){return e(r,t)})):e(r,n)}}}var Pt=St((function(e,t){return Number(e)+Number(t)}));function kt(e,t){var r;t=t||[];var n=(e=e||[]).length,u=t.length,i=[];for(r=0;r<n;)i[i.length]=e[r],r+=1;for(r=0;r<u;)i[i.length]=t[r],r+=1;return i}function Ct(e,t){switch(e){case 0:return function(){return t.apply(this,arguments)};case 1:return function(e){return t.apply(this,arguments)};case 2:return function(e,r){return t.apply(this,arguments)};case 3:return function(e,r,n){return t.apply(this,arguments)};case 4:return function(e,r,n,u){return t.apply(this,arguments)};case 5:return function(e,r,n,u,i){return t.apply(this,arguments)};case 6:return function(e,r,n,u,i,o){return t.apply(this,arguments)};case 7:return function(e,r,n,u,i,o,a){return t.apply(this,arguments)};case 8:return function(e,r,n,u,i,o,a,s){return t.apply(this,arguments)};case 9:return function(e,r,n,u,i,o,a,s,c){return t.apply(this,arguments)};case 10:return function(e,r,n,u,i,o,a,s,c,l){return t.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function jt(e,t,r){return function(){for(var n=[],u=0,i=e,o=0;o<t.length||u<arguments.length;){var a;o<t.length&&(!vt(t[o])||u>=arguments.length)?a=t[o]:(a=arguments[u],u+=1),n[o]=a,vt(a)||(i-=1),o+=1}return i<=0?r.apply(this,n):Ct(i,jt(e,n,r))}}var At=St((function(e,t){return 1===e?xt(t):Ct(e,jt(e,[],t))})),Tt=xt((function(e){return At(e.length,(function(){var t=0,r=arguments[0],n=arguments[arguments.length-1],u=Array.prototype.slice.call(arguments,0);return u[0]=function(){var e=r.apply(this,kt(arguments,[t,n]));return t+=1,e},e.apply(this,u)}))}));function It(e){return function t(r,n,u){switch(arguments.length){case 0:return t;case 1:return vt(r)?t:St((function(t,n){return e(r,t,n)}));case 2:return vt(r)&&vt(n)?t:vt(r)?St((function(t,r){return e(t,n,r)})):vt(n)?St((function(t,n){return e(r,t,n)})):xt((function(t){return e(r,n,t)}));default:return vt(r)&&vt(n)&&vt(u)?t:vt(r)&&vt(n)?St((function(t,r){return e(t,r,u)})):vt(r)&&vt(u)?St((function(t,r){return e(t,n,r)})):vt(n)&&vt(u)?St((function(t,n){return e(r,t,n)})):vt(r)?xt((function(t){return e(t,n,u)})):vt(n)?xt((function(t){return e(r,t,u)})):vt(u)?xt((function(t){return e(r,n,t)})):e(r,n,u)}}}var Dt=It((function(e,t,r){if(e>=r.length||e<-r.length)return r;var n=(e<0?r.length:0)+e,u=kt(r);return u[n]=t(r[n]),u}));const Nt=Array.isArray||function(e){return null!=e&&e.length>=0&&"[object Array]"===Object.prototype.toString.call(e)};function Et(e){return null!=e&&"function"==typeof e["@@transducer/step"]}function Ot(e,t,r){return function(){if(0===arguments.length)return r();var n=Array.prototype.slice.call(arguments,0),u=n.pop();if(!Nt(u)){for(var i=0;i<e.length;){if("function"==typeof u[e[i]])return u[e[i]].apply(u,n);i+=1}if(Et(u))return t.apply(null,n)(u)}return r.apply(this,arguments)}}function Lt(e){return e&&e["@@transducer/reduced"]?e:{"@@transducer/value":e,"@@transducer/reduced":!0}}const Rt={init:function(){return this.xf["@@transducer/init"]()},result:function(e){return this.xf["@@transducer/result"](e)}};var Mt=function(){function e(e,t){this.xf=t,this.f=e,this.all=!0}return e.prototype["@@transducer/init"]=Rt.init,e.prototype["@@transducer/result"]=function(e){return this.all&&(e=this.xf["@@transducer/step"](e,!0)),this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.f(t)||(this.all=!1,e=Lt(this.xf["@@transducer/step"](e,!1))),e},e}(),Bt=St(Ot(["all"],St((function(e,t){return new Mt(e,t)})),(function(e,t){for(var r=0;r<t.length;){if(!e(t[r]))return!1;r+=1}return!0}))),zt=St((function(e,t){return t>e?t:e}));function Ut(e,t){for(var r=0,n=t.length,u=Array(n);r<n;)u[r]=e(t[r]),r+=1;return u}function Ft(e){return"[object String]"===Object.prototype.toString.call(e)}var qt=xt((function(e){return!!Nt(e)||!!e&&"object"==typeof e&&!Ft(e)&&(1===e.nodeType?!!e.length:0===e.length||e.length>0&&e.hasOwnProperty(0)&&e.hasOwnProperty(e.length-1))})),Gt=function(){function e(e){this.f=e}return e.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},e.prototype["@@transducer/result"]=function(e){return e},e.prototype["@@transducer/step"]=function(e,t){return this.f(e,t)},e}();function Wt(e){return new Gt(e)}var Zt=St((function(e,t){return Ct(e.length,(function(){return e.apply(t,arguments)}))}));function Kt(e,t,r){for(var n=r.next();!n.done;){if((t=e["@@transducer/step"](t,n.value))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}n=r.next()}return e["@@transducer/result"](t)}function $t(e,t,r,n){return e["@@transducer/result"](r[n](Zt(e["@@transducer/step"],e),t))}var Vt="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";function Ht(e,t,r){if("function"==typeof e&&(e=Wt(e)),qt(r))return function(e,t,r){for(var n=0,u=r.length;n<u;){if((t=e["@@transducer/step"](t,r[n]))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}n+=1}return e["@@transducer/result"](t)}(e,t,r);if("function"==typeof r["fantasy-land/reduce"])return $t(e,t,r,"fantasy-land/reduce");if(null!=r[Vt])return Kt(e,t,r[Vt]());if("function"==typeof r.next)return Kt(e,t,r);if("function"==typeof r.reduce)return $t(e,t,r,"reduce");throw new TypeError("reduce: list must be array or iterable")}var Qt=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=Rt.init,e.prototype["@@transducer/result"]=Rt.result,e.prototype["@@transducer/step"]=function(e,t){return this.xf["@@transducer/step"](e,this.f(t))},e}(),Jt=St((function(e,t){return new Qt(e,t)}));function Yt(e,t){return Object.prototype.hasOwnProperty.call(t,e)}var Xt=Object.prototype.toString,er=function(){return"[object Arguments]"===Xt.call(arguments)?function(e){return"[object Arguments]"===Xt.call(e)}:function(e){return Yt("callee",e)}}(),tr=!{toString:null}.propertyIsEnumerable("toString"),rr=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],nr=function(){return arguments.propertyIsEnumerable("length")}(),ur=function(e,t){for(var r=0;r<e.length;){if(e[r]===t)return!0;r+=1}return!1},ir="function"!=typeof Object.keys||nr?xt((function(e){if(Object(e)!==e)return[];var t,r,n=[],u=nr&&er(e);for(t in e)!Yt(t,e)||u&&"length"===t||(n[n.length]=t);if(tr)for(r=rr.length-1;r>=0;)Yt(t=rr[r],e)&&!ur(n,t)&&(n[n.length]=t),r-=1;return n})):xt((function(e){return Object(e)!==e?[]:Object.keys(e)})),or=St(Ot(["fantasy-land/map","map"],Jt,(function(e,t){switch(Object.prototype.toString.call(t)){case"[object Function]":return At(t.length,(function(){return e.call(this,t.apply(this,arguments))}));case"[object Object]":return Ht((function(r,n){return r[n]=e(t[n]),r}),{},ir(t));default:return Ut(e,t)}})));const ar=Number.isInteger||function(e){return(0|e)===e};var sr=St((function(e,t){var r=e<0?t.length+e:e;return Ft(t)?t.charAt(r):t[r]})),cr=St((function(e,t){return e.map((function(e){for(var r,n=t,u=0;u<e.length;){if(null==n)return;r=e[u],n=ar(r)?sr(r,n):n[r],u+=1}return n}))})),lr=St((function(e,t){return cr([e],t)[0]})),pr=St((function(e,t){return lr([e],t)})),hr=St((function(e,t){return or(pr(e),t)})),mr=It(Ht),dr=xt((function(e){return At(mr(zt,0,hr("length",e)),(function(){for(var t=0,r=e.length;t<r;){if(!e[t].apply(this,arguments))return!1;t+=1}return!0}))})),fr=xt((function(e){return function(){return e}})),wr=St((function(e,t){return e&&t})),gr=function(){function e(e,t){this.xf=t,this.f=e,this.any=!1}return e.prototype["@@transducer/init"]=Rt.init,e.prototype["@@transducer/result"]=function(e){return this.any||(e=this.xf["@@transducer/step"](e,!1)),this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.f(t)&&(this.any=!0,e=Lt(this.xf["@@transducer/step"](e,!0))),e},e}(),yr=St(Ot(["any"],St((function(e,t){return new gr(e,t)})),(function(e,t){for(var r=0;r<t.length;){if(e(t[r]))return!0;r+=1}return!1}))),_r=xt((function(e){return At(mr(zt,0,hr("length",e)),(function(){for(var t=0,r=e.length;t<r;){if(e[t].apply(this,arguments))return!0;t+=1}return!1}))})),br=St((function(e,t){return"function"==typeof t["fantasy-land/ap"]?t["fantasy-land/ap"](e):"function"==typeof e.ap?e.ap(t):"function"==typeof e?function(r){return e(r)(t(r))}:Ht((function(e,r){return kt(e,or(r,t))}),[],e)}));function vr(e,t){for(var r=0,n=t.length-(e-1),u=new Array(n>=0?n:0);r<n;)u[r]=Array.prototype.slice.call(t,r,r+e),r+=1;return u}var xr=function(){function e(e,t){this.xf=t,this.pos=0,this.full=!1,this.acc=new Array(e)}return e.prototype["@@transducer/init"]=Rt.init,e.prototype["@@transducer/result"]=function(e){return this.acc=null,this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.store(t),this.full?this.xf["@@transducer/step"](e,this.getCopy()):e},e.prototype.store=function(e){this.acc[this.pos]=e,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)},e.prototype.getCopy=function(){return kt(Array.prototype.slice.call(this.acc,this.pos),Array.prototype.slice.call(this.acc,0,this.pos))},e}(),Sr=St(Ot([],St((function(e,t){return new xr(e,t)})),vr)),Pr=St((function(e,t){return kt(t,[e])})),kr=St((function(e,t){return e.apply(this,t)})),Cr=xt((function(e){for(var t=ir(e),r=t.length,n=[],u=0;u<r;)n[u]=e[t[u]],u+=1;return n}));function jr(e,t){return ir(t).reduce((function(r,n){return r[n]=e(t[n]),r}),{})}var Ar=xt((function e(t){return t=jr((function(t){return"function"==typeof t?t:e(t)}),t),At(mr(zt,0,hr("length",Cr(t))),(function(){var e=arguments;return jr((function(t){return kr(t,e)}),t)}))})),Tr=St((function(e,t){return t(e)})),Ir=It((function(e,t,r){var n=e(t),u=e(r);return n<u?-1:n>u?1:0})),Dr=It((function(e,t,r){var n={};for(var u in r)n[u]=r[u];return n[e]=t,n})),Nr=xt((function(e){return null==e})),Er=It((function e(t,r,n){if(0===t.length)return r;var u=t[0];if(t.length>1){var i=!Nr(n)&&Yt(u,n)?n[u]:ar(t[1])?[]:{};r=e(Array.prototype.slice.call(t,1),r,i)}if(ar(u)&&Nt(n)){var o=[].concat(n);return o[u]=r,o}return Dr(u,r,n)})),Or=St((function(e,t){switch(e){case 0:return function(){return t.call(this)};case 1:return function(e){return t.call(this,e)};case 2:return function(e,r){return t.call(this,e,r)};case 3:return function(e,r,n){return t.call(this,e,r,n)};case 4:return function(e,r,n,u){return t.call(this,e,r,n,u)};case 5:return function(e,r,n,u,i){return t.call(this,e,r,n,u,i)};case 6:return function(e,r,n,u,i,o){return t.call(this,e,r,n,u,i,o)};case 7:return function(e,r,n,u,i,o,a){return t.call(this,e,r,n,u,i,o,a)};case 8:return function(e,r,n,u,i,o,a,s){return t.call(this,e,r,n,u,i,o,a,s)};case 9:return function(e,r,n,u,i,o,a,s,c){return t.call(this,e,r,n,u,i,o,a,s,c)};case 10:return function(e,r,n,u,i,o,a,s,c,l){return t.call(this,e,r,n,u,i,o,a,s,c,l)};default:throw new Error("First argument to nAry must be a non-negative integer no greater than ten")}})),Lr=xt((function(e){return Or(2,e)}));function Rr(e){var t=Object.prototype.toString.call(e);return"[object Function]"===t||"[object AsyncFunction]"===t||"[object GeneratorFunction]"===t||"[object AsyncGeneratorFunction]"===t}var Mr=St((function(e,t){var r=At(e,t);return At(e,(function(){return Ht(br,or(r,arguments[0]),Array.prototype.slice.call(arguments,1))}))})),Br=xt((function(e){return Mr(e.length,e)})),zr=St((function(e,t){return Rr(e)?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:Br(wr)(e,t)})),Ur=xt((function(e){return At(e.length,e)})),Fr=Ur((function(e){return e.apply(this,Array.prototype.slice.call(arguments,1))}));function qr(e){return function t(r){for(var n,u,i,o=[],a=0,s=r.length;a<s;){if(qt(r[a]))for(i=0,u=(n=e?t(r[a]):r[a]).length;i<u;)o[o.length]=n[i],i+=1;else o[o.length]=r[a];a+=1}return o}}var Gr=function(e){var t=function(e){return{"@@transducer/init":Rt.init,"@@transducer/result":function(t){return e["@@transducer/result"](t)},"@@transducer/step":function(t,r){var n=e["@@transducer/step"](t,r);return n["@@transducer/reduced"]?{"@@transducer/value":n,"@@transducer/reduced":!0}:n}}}(e);return{"@@transducer/init":Rt.init,"@@transducer/result":function(e){return t["@@transducer/result"](e)},"@@transducer/step":function(e,r){return qt(r)?Ht(t,e,r):Ht(t,e,[r])}}},Wr=St(Ot(["fantasy-land/chain","chain"],St((function(e,t){return or(e,Gr(t))})),(function(e,t){return"function"==typeof t?function(r){return e(t(r))(r)}:qr(!1)(or(e,t))}))),Zr=It((function(e,t,r){if(e>t)throw new Error("min must not be greater than max in clamp(min, max, value)");return r<e?e:r>t?t:r}));function Kr(e){return new RegExp(e.source,(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.sticky?"y":"")+(e.unicode?"u":""))}var $r=xt((function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)}));function Vr(e,t,r,n){var u=function(u){for(var i=t.length,o=0;o<i;){if(e===t[o])return r[o];o+=1}for(var a in t[o+1]=e,r[o+1]=u,e)u[a]=n?Vr(e[a],t,r,!0):e[a];return u};switch($r(e)){case"Object":return u({});case"Array":return u([]);case"Date":return new Date(e.valueOf());case"RegExp":return Kr(e);default:return e}}var Hr=xt((function(e){return null!=e&&"function"==typeof e.clone?e.clone():Vr(e,[],[],!0)})),Qr=xt((function(e){return function(t,r){return e(t,r)?-1:e(r,t)?1:0}})),Jr=xt((function(e){return!e})),Yr=Br(Jr);function Xr(e,t){return function(){return t.call(this,e.apply(this,arguments))}}function en(e,t){return function(){var r=arguments.length;if(0===r)return t();var n=arguments[r-1];return Nt(n)||"function"!=typeof n[e]?t.apply(this,arguments):n[e].apply(n,Array.prototype.slice.call(arguments,0,r-1))}}var tn=It(en("slice",(function(e,t,r){return Array.prototype.slice.call(r,e,t)}))),rn=xt(en("tail",tn(1,1/0)));function nn(){if(0===arguments.length)throw new Error("pipe requires at least one argument");return Ct(arguments[0].length,mr(Xr,arguments[0],rn(arguments)))}var un=xt((function(e){return Ft(e)?e.split("").reverse().join(""):Array.prototype.slice.call(e,0).reverse()}));function on(){if(0===arguments.length)throw new Error("compose requires at least one argument");return nn.apply(this,un(arguments))}function an(){if(0===arguments.length)throw new Error("composeK requires at least one argument");var e=Array.prototype.slice.call(arguments),t=e.pop();return on(on.apply(this,or(Wr,e)),t)}function sn(e,t){return function(){var r=this;return e.apply(r,arguments).then((function(e){return t.call(r,e)}))}}function cn(){if(0===arguments.length)throw new Error("pipeP requires at least one argument");return Ct(arguments[0].length,mr(sn,arguments[0],rn(arguments)))}var ln=sr(0);function pn(e){return e}var hn=xt(pn),mn=St((function(e,t){if(t.length<=0)return hn;var r=ln(t),n=rn(t);return Ct(r.length,(function(){return Ht((function(t,r){return e.call(this,r,t)}),r.apply(this,arguments),n)}))})),dn=St((function(e,t){return mn.apply(this,[e,un(t)])}));function fn(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}function wn(e,t,r){for(var n=0,u=r.length;n<u;){if(e(t,r[n]))return!0;n+=1}return!1}const gn="function"==typeof Object.is?Object.is:function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t};function yn(e,t,r,n){var u=fn(e);function i(e,t){return _n(e,t,r.slice(),n.slice())}return!wn((function(e,t){return!wn(i,t,e)}),fn(t),u)}function _n(e,t,r,n){if(gn(e,t))return!0;var u=$r(e);if(u!==$r(t))return!1;if(null==e||null==t)return!1;if("function"==typeof e["fantasy-land/equals"]||"function"==typeof t["fantasy-land/equals"])return"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t)&&"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e);if("function"==typeof e.equals||"function"==typeof t.equals)return"function"==typeof e.equals&&e.equals(t)&&"function"==typeof t.equals&&t.equals(e);switch(u){case"Arguments":case"Array":case"Object":if("function"==typeof e.constructor&&"Promise"===function(e){var t=String(e).match(/^function (\w*)/);return null==t?"":t[1]}(e.constructor))return e===t;break;case"Boolean":case"Number":case"String":if(typeof e!=typeof t||!gn(e.valueOf(),t.valueOf()))return!1;break;case"Date":if(!gn(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(e.source!==t.source||e.global!==t.global||e.ignoreCase!==t.ignoreCase||e.multiline!==t.multiline||e.sticky!==t.sticky||e.unicode!==t.unicode)return!1}for(var i=r.length-1;i>=0;){if(r[i]===e)return n[i]===t;i-=1}switch(u){case"Map":return e.size===t.size&&yn(e.entries(),t.entries(),r.concat([e]),n.concat([t]));case"Set":return e.size===t.size&&yn(e.values(),t.values(),r.concat([e]),n.concat([t]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var o=ir(e);if(o.length!==ir(t).length)return!1;var a=r.concat([e]),s=n.concat([t]);for(i=o.length-1;i>=0;){var c=o[i];if(!Yt(c,t)||!_n(t[c],e[c],a,s))return!1;i-=1}return!0}var bn=St((function(e,t){return _n(e,t,[],[])}));function vn(e,t,r){var n,u;if("function"==typeof e.indexOf)switch(typeof t){case"number":if(0===t){for(n=1/t;r<e.length;){if(0===(u=e[r])&&1/u===n)return r;r+=1}return-1}if(t!=t){for(;r<e.length;){if("number"==typeof(u=e[r])&&u!=u)return r;r+=1}return-1}return e.indexOf(t,r);case"string":case"boolean":case"function":case"undefined":return e.indexOf(t,r);case"object":if(null===t)return e.indexOf(t,r)}for(;r<e.length;){if(bn(e[r],t))return r;r+=1}return-1}function xn(e,t){return vn(t,e,0)>=0}function Sn(e){return'"'+e.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0").replace(/"/g,'\\"')+'"'}var Pn=function(e){return(e<10?"0":"")+e},kn="function"==typeof Date.prototype.toISOString?function(e){return e.toISOString()}:function(e){return e.getUTCFullYear()+"-"+Pn(e.getUTCMonth()+1)+"-"+Pn(e.getUTCDate())+"T"+Pn(e.getUTCHours())+":"+Pn(e.getUTCMinutes())+":"+Pn(e.getUTCSeconds())+"."+(e.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"};function Cn(e){return function(){return!e.apply(this,arguments)}}function jn(e,t){for(var r=0,n=t.length,u=[];r<n;)e(t[r])&&(u[u.length]=t[r]),r+=1;return u}function An(e){return"[object Object]"===Object.prototype.toString.call(e)}var Tn=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=Rt.init,e.prototype["@@transducer/result"]=Rt.result,e.prototype["@@transducer/step"]=function(e,t){return this.f(t)?this.xf["@@transducer/step"](e,t):e},e}(),In=St(Ot(["filter"],St((function(e,t){return new Tn(e,t)})),(function(e,t){return An(t)?Ht((function(r,n){return e(t[n])&&(r[n]=t[n]),r}),{},ir(t)):jn(e,t)}))),Dn=St((function(e,t){return In(Cn(e),t)}));function Nn(e,t){var r=function(r){var n=t.concat([e]);return xn(r,n)?"<Circular>":Nn(r,n)},n=function(e,t){return Ut((function(t){return Sn(t)+": "+r(e[t])}),t.slice().sort())};switch(Object.prototype.toString.call(e)){case"[object Arguments]":return"(function() { return arguments; }("+Ut(r,e).join(", ")+"))";case"[object Array]":return"["+Ut(r,e).concat(n(e,Dn((function(e){return/^\d+$/.test(e)}),ir(e)))).join(", ")+"]";case"[object Boolean]":return"object"==typeof e?"new Boolean("+r(e.valueOf())+")":e.toString();case"[object Date]":return"new Date("+(isNaN(e.valueOf())?r(NaN):Sn(kn(e)))+")";case"[object Null]":return"null";case"[object Number]":return"object"==typeof e?"new Number("+r(e.valueOf())+")":1/e==-1/0?"-0":e.toString(10);case"[object String]":return"object"==typeof e?"new String("+r(e.valueOf())+")":Sn(e);case"[object Undefined]":return"undefined";default:if("function"==typeof e.toString){var u=e.toString();if("[object Object]"!==u)return u}return"{"+n(e,ir(e)).join(", ")+"}"}}var En=xt((function(e){return Nn(e,[])})),On=St((function(e,t){if(Nt(e)){if(Nt(t))return e.concat(t);throw new TypeError(En(t)+" is not an array")}if(Ft(e)){if(Ft(t))return e+t;throw new TypeError(En(t)+" is not a string")}if(null!=e&&Rr(e["fantasy-land/concat"]))return e["fantasy-land/concat"](t);if(null!=e&&Rr(e.concat))return e.concat(t);throw new TypeError(En(e)+' does not have a method named "concat" or "fantasy-land/concat"')})),Ln=xt((function(e){var t=mr(zt,0,or((function(e){return e[0].length}),e));return Ct(t,(function(){for(var t=0;t<e.length;){if(e[t][0].apply(this,arguments))return e[t][1].apply(this,arguments);t+=1}}))})),Rn=St((function(e,t){if(e>10)throw new Error("Constructor with greater than ten arguments");return 0===e?function(){return new t}:Ur(Or(e,(function(e,r,n,u,i,o,a,s,c,l){switch(arguments.length){case 1:return new t(e);case 2:return new t(e,r);case 3:return new t(e,r,n);case 4:return new t(e,r,n,u);case 5:return new t(e,r,n,u,i);case 6:return new t(e,r,n,u,i,o);case 7:return new t(e,r,n,u,i,o,a);case 8:return new t(e,r,n,u,i,o,a,s);case 9:return new t(e,r,n,u,i,o,a,s,c);case 10:return new t(e,r,n,u,i,o,a,s,c,l)}})))})),Mn=xt((function(e){return Rn(e.length,e)})),Bn=St(xn),zn=St((function(e,t){return At(mr(zt,0,hr("length",t)),(function(){var r=arguments,n=this;return e.apply(n,Ut((function(e){return e.apply(n,r)}),t))}))})),Un=function(){function e(e,t,r,n){this.valueFn=e,this.valueAcc=t,this.keyFn=r,this.xf=n,this.inputs={}}return e.prototype["@@transducer/init"]=Rt.init,e.prototype["@@transducer/result"]=function(e){var t;for(t in this.inputs)if(Yt(t,this.inputs)&&(e=this.xf["@@transducer/step"](e,this.inputs[t]))["@@transducer/reduced"]){e=e["@@transducer/value"];break}return this.inputs=null,this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){var r=this.keyFn(t);return this.inputs[r]=this.inputs[r]||[r,this.valueAcc],this.inputs[r][1]=this.valueFn(this.inputs[r][1],t),e},e}(),Fn=jt(4,[],Ot([],jt(4,[],(function(e,t,r,n){return new Un(e,t,r,n)})),(function(e,t,r,n){return Ht((function(n,u){var i=r(u);return n[i]=e(Yt(i,n)?n[i]:Vr(t,[],[],!1),u),n}),{},n)}))),qn=Fn((function(e,t){return e+1}),0),Gn=Pt(-1),Wn=St((function(e,t){return null==t||t!=t?e:t})),Zn=It((function(e,t,r){var n=e(t),u=e(r);return n>u?-1:n<u?1:0})),Kn=function(){function e(){this._nativeSet="function"==typeof Set?new Set:null,this._items={}}return e.prototype.add=function(e){return!$n(e,!0,this)},e.prototype.has=function(e){return $n(e,!1,this)},e}();function $n(e,t,r){var n,u=typeof e;switch(u){case"string":case"number":return 0===e&&1/e==-1/0?!!r._items["-0"]||(t&&(r._items["-0"]=!0),!1):null!==r._nativeSet?t?(n=r._nativeSet.size,r._nativeSet.add(e),r._nativeSet.size===n):r._nativeSet.has(e):u in r._items?e in r._items[u]||(t&&(r._items[u][e]=!0),!1):(t&&(r._items[u]={},r._items[u][e]=!0),!1);case"boolean":if(u in r._items){var i=e?1:0;return!!r._items[u][i]||(t&&(r._items[u][i]=!0),!1)}return t&&(r._items[u]=e?[!1,!0]:[!0,!1]),!1;case"function":return null!==r._nativeSet?t?(n=r._nativeSet.size,r._nativeSet.add(e),r._nativeSet.size===n):r._nativeSet.has(e):u in r._items?!!xn(e,r._items[u])||(t&&r._items[u].push(e),!1):(t&&(r._items[u]=[e]),!1);case"undefined":return!!r._items[u]||(t&&(r._items[u]=!0),!1);case"object":if(null===e)return!!r._items.null||(t&&(r._items.null=!0),!1);default:return(u=Object.prototype.toString.call(e))in r._items?!!xn(e,r._items[u])||(t&&r._items[u].push(e),!1):(t&&(r._items[u]=[e]),!1)}}var Vn=St((function(e,t){for(var r=[],n=0,u=e.length,i=t.length,o=new Kn,a=0;a<i;a+=1)o.add(t[a]);for(;n<u;)o.add(e[n])&&(r[r.length]=e[n]),n+=1;return r})),Hn=It((function(e,t,r){for(var n=[],u=0,i=t.length;u<i;)wn(e,t[u],r)||wn(e,t[u],n)||n.push(t[u]),u+=1;return n})),Qn=St((function(e,t){var r={};for(var n in t)r[n]=t[n];return delete r[e],r})),Jn=It((function(e,t,r){var n=Array.prototype.slice.call(r,0);return n.splice(e,t),n})),Yn=It((function(e,t,r){return Dt(e,fr(t),r)})),Xn=St((function e(t,r){switch(t.length){case 0:return r;case 1:return ar(t[0])&&Nt(r)?Jn(t[0],1,r):Qn(t[0],r);default:var n=t[0],u=Array.prototype.slice.call(t,1);return null==r[n]?r:ar(n)&&Nt(r)?Yn(n,e(u,r[n]),r):Dr(n,e(u,r[n]),r)}})),eu=St((function(e,t){return e/t})),tu=function(){function e(e,t){this.xf=t,this.n=e}return e.prototype["@@transducer/init"]=Rt.init,e.prototype["@@transducer/result"]=Rt.result,e.prototype["@@transducer/step"]=function(e,t){return this.n>0?(this.n-=1,e):this.xf["@@transducer/step"](e,t)},e}(),ru=St(Ot(["drop"],St((function(e,t){return new tu(e,t)})),(function(e,t){return tn(Math.max(0,e),1/0,t)}))),nu=function(){function e(e,t){this.xf=t,this.n=e,this.i=0}return e.prototype["@@transducer/init"]=Rt.init,e.prototype["@@transducer/result"]=Rt.result,e.prototype["@@transducer/step"]=function(e,t){this.i+=1;var r=0===this.n?e:this.xf["@@transducer/step"](e,t);return this.n>=0&&this.i>=this.n?Lt(r):r},e}(),uu=St(Ot(["take"],St((function(e,t){return new nu(e,t)})),(function(e,t){return tn(0,e<0?1/0:e,t)})));function iu(e,t){return uu(e<t.length?t.length-e:0,t)}var ou=function(){function e(e,t){this.xf=t,this.pos=0,this.full=!1,this.acc=new Array(e)}return e.prototype["@@transducer/init"]=Rt.init,e.prototype["@@transducer/result"]=function(e){return this.acc=null,this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.full&&(e=this.xf["@@transducer/step"](e,this.acc[this.pos])),this.store(t),e},e.prototype.store=function(e){this.acc[this.pos]=e,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)},e}(),au=St(Ot([],St((function(e,t){return new ou(e,t)})),iu));function su(e,t){for(var r=t.length-1;r>=0&&e(t[r]);)r-=1;return tn(0,r+1,t)}var cu=function(){function e(e,t){this.f=e,this.retained=[],this.xf=t}return e.prototype["@@transducer/init"]=Rt.init,e.prototype["@@transducer/result"]=function(e){return this.retained=null,this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.f(t)?this.retain(e,t):this.flush(e,t)},e.prototype.flush=function(e,t){return e=Ht(this.xf["@@transducer/step"],e,this.retained),this.retained=[],this.xf["@@transducer/step"](e,t)},e.prototype.retain=function(e,t){return this.retained.push(t),e},e}(),lu=St(Ot([],St((function(e,t){return new cu(e,t)})),su)),pu=function(){function e(e,t){this.xf=t,this.pred=e,this.lastValue=void 0,this.seenFirstValue=!1}return e.prototype["@@transducer/init"]=Rt.init,e.prototype["@@transducer/result"]=Rt.result,e.prototype["@@transducer/step"]=function(e,t){var r=!1;return this.seenFirstValue?this.pred(this.lastValue,t)&&(r=!0):this.seenFirstValue=!0,this.lastValue=t,r?e:this.xf["@@transducer/step"](e,t)},e}(),hu=St((function(e,t){return new pu(e,t)})),mu=sr(-1),du=St(Ot([],hu,(function(e,t){var r=[],n=1,u=t.length;if(0!==u)for(r[0]=t[0];n<u;)e(mu(r),t[n])||(r[r.length]=t[n]),n+=1;return r}))),fu=xt(Ot([],hu(bn),du(bn))),wu=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=Rt.init,e.prototype["@@transducer/result"]=Rt.result,e.prototype["@@transducer/step"]=function(e,t){if(this.f){if(this.f(t))return e;this.f=null}return this.xf["@@transducer/step"](e,t)},e}(),gu=St(Ot(["dropWhile"],St((function(e,t){return new wu(e,t)})),(function(e,t){for(var r=0,n=t.length;r<n&&e(t[r]);)r+=1;return tn(r,1/0,t)}))),yu=St((function(e,t){return e||t})),_u=St((function(e,t){return Rr(e)?function(){return e.apply(this,arguments)||t.apply(this,arguments)}:Br(yu)(e,t)})),bu=xt((function(e){return null!=e&&"function"==typeof e["fantasy-land/empty"]?e["fantasy-land/empty"]():null!=e&&null!=e.constructor&&"function"==typeof e.constructor["fantasy-land/empty"]?e.constructor["fantasy-land/empty"]():null!=e&&"function"==typeof e.empty?e.empty():null!=e&&null!=e.constructor&&"function"==typeof e.constructor.empty?e.constructor.empty():Nt(e)?[]:Ft(e)?"":An(e)?{}:er(e)?function(){return arguments}():void 0})),vu=St((function(e,t){return ru(e>=0?t.length-e:0,t)})),xu=St((function(e,t){return bn(vu(e.length,t),e)})),Su=It((function(e,t,r){return bn(e(t),e(r))})),Pu=It((function(e,t,r){return bn(t[e],r[e])})),ku=St((function e(t,r){var n,u,i,o=r instanceof Array?[]:{};for(u in r)i=typeof(n=t[u]),o[u]="function"===i?n(r[u]):n&&"object"===i?e(n,r[u]):r[u];return o})),Cu=function(){function e(e,t){this.xf=t,this.f=e,this.found=!1}return e.prototype["@@transducer/init"]=Rt.init,e.prototype["@@transducer/result"]=function(e){return this.found||(e=this.xf["@@transducer/step"](e,void 0)),this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.f(t)&&(this.found=!0,e=Lt(this.xf["@@transducer/step"](e,t))),e},e}(),ju=St(Ot(["find"],St((function(e,t){return new Cu(e,t)})),(function(e,t){for(var r=0,n=t.length;r<n;){if(e(t[r]))return t[r];r+=1}}))),Au=function(){function e(e,t){this.xf=t,this.f=e,this.idx=-1,this.found=!1}return e.prototype["@@transducer/init"]=Rt.init,e.prototype["@@transducer/result"]=function(e){return this.found||(e=this.xf["@@transducer/step"](e,-1)),this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.idx+=1,this.f(t)&&(this.found=!0,e=Lt(this.xf["@@transducer/step"](e,this.idx))),e},e}(),Tu=St(Ot([],St((function(e,t){return new Au(e,t)})),(function(e,t){for(var r=0,n=t.length;r<n;){if(e(t[r]))return r;r+=1}return-1}))),Iu=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=Rt.init,e.prototype["@@transducer/result"]=function(e){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](e,this.last))},e.prototype["@@transducer/step"]=function(e,t){return this.f(t)&&(this.last=t),e},e}(),Du=St(Ot([],St((function(e,t){return new Iu(e,t)})),(function(e,t){for(var r=t.length-1;r>=0;){if(e(t[r]))return t[r];r-=1}}))),Nu=function(){function e(e,t){this.xf=t,this.f=e,this.idx=-1,this.lastIdx=-1}return e.prototype["@@transducer/init"]=Rt.init,e.prototype["@@transducer/result"]=function(e){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](e,this.lastIdx))},e.prototype["@@transducer/step"]=function(e,t){return this.idx+=1,this.f(t)&&(this.lastIdx=this.idx),e},e}(),Eu=St(Ot([],St((function(e,t){return new Nu(e,t)})),(function(e,t){for(var r=t.length-1;r>=0;){if(e(t[r]))return r;r-=1}return-1}))),Ou=xt(qr(!0)),Lu=xt((function(e){return At(e.length,(function(t,r){var n=Array.prototype.slice.call(arguments,0);return n[0]=r,n[1]=t,e.apply(this,n)}))})),Ru=St(en("forEach",(function(e,t){for(var r=t.length,n=0;n<r;)e(t[n]),n+=1;return t}))),Mu=St((function(e,t){for(var r=ir(t),n=0;n<r.length;){var u=r[n];e(t[u],u,t),n+=1}return t})),Bu=xt((function(e){for(var t={},r=0;r<e.length;)t[e[r][0]]=e[r][1],r+=1;return t})),zu=St(en("groupBy",Fn((function(e,t){return null==e&&(e=[]),e.push(t),e}),null))),Uu=St((function(e,t){for(var r=[],n=0,u=t.length;n<u;){for(var i=n+1;i<u&&e(t[i-1],t[i]);)i+=1;r.push(t.slice(n,i)),n=i}return r})),Fu=St((function(e,t){return e>t})),qu=St((function(e,t){return e>=t})),Gu=St((function(e,t){if(0===e.length||Nr(t))return!1;for(var r=t,n=0;n<e.length;){if(Nr(r)||!Yt(e[n],r))return!1;r=r[e[n]],n+=1}return!0})),Wu=St((function(e,t){return Gu([e],t)})),Zu=St((function(e,t){return e in t})),Ku=St(gn),$u=It((function(e,t,r){return At(Math.max(e.length,t.length,r.length),(function(){return e.apply(this,arguments)?t.apply(this,arguments):r.apply(this,arguments)}))})),Vu=Pt(1),Hu=St(xn),Qu=Fn((function(e,t){return t}),null),Ju=St((function(e,t){return"function"!=typeof t.indexOf||Nt(t)?vn(t,e,0):t.indexOf(e)})),Yu=tn(0,-1),Xu=It((function(e,t,r){return jn((function(t){return wn(e,t,r)}),t)})),ei=It((function(e,t,r){e=e<r.length&&e>=0?e:r.length;var n=Array.prototype.slice.call(r,0);return n.splice(e,0,t),n})),ti=It((function(e,t,r){return e=e<r.length&&e>=0?e:r.length,[].concat(Array.prototype.slice.call(r,0,e),t,Array.prototype.slice.call(r,e))})),ri=St((function(e,t){for(var r,n,u=new Kn,i=[],o=0;o<t.length;)r=e(n=t[o]),u.add(r)&&i.push(n),o+=1;return i})),ni=ri(hn),ui=St((function(e,t){var r,n;return e.length>t.length?(r=e,n=t):(r=t,n=e),ni(jn(Lu(xn)(r),n))})),ii=St(en("intersperse",(function(e,t){for(var r=[],n=0,u=t.length;n<u;)n===u-1?r.push(t[n]):r.push(t[n],e),n+=1;return r})));const oi="function"==typeof Object.assign?Object.assign:function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1,n=arguments.length;r<n;){var u=arguments[r];if(null!=u)for(var i in u)Yt(i,u)&&(t[i]=u[i]);r+=1}return t};var ai=St((function(e,t){var r={};return r[e]=t,r})),si={"@@transducer/init":Array,"@@transducer/step":function(e,t){return e.push(t),e},"@@transducer/result":pn},ci={"@@transducer/init":String,"@@transducer/step":function(e,t){return e+t},"@@transducer/result":pn},li={"@@transducer/init":Object,"@@transducer/step":function(e,t){return oi(e,qt(t)?ai(t[0],t[1]):t)},"@@transducer/result":pn},pi=It((function(e,t,r){return Et(e)?Ht(t(e),e["@@transducer/init"](),r):Ht(t(function(e){if(Et(e))return e;if(qt(e))return si;if("string"==typeof e)return ci;if("object"==typeof e)return li;throw new Error("Cannot create transformer for "+e)}(e)),Vr(e,[],[],!1),r)})),hi=xt((function(e){for(var t=ir(e),r=t.length,n=0,u={};n<r;){var i=t[n],o=e[i],a=Yt(o,u)?u[o]:u[o]=[];a[a.length]=i,n+=1}return u})),mi=xt((function(e){for(var t=ir(e),r=t.length,n=0,u={};n<r;){var i=t[n];u[e[i]]=i,n+=1}return u})),di=St((function(e,t){return At(e+1,(function(){var r=arguments[e];if(null!=r&&Rr(r[t]))return r[t].apply(r,Array.prototype.slice.call(arguments,0,e));throw new TypeError(En(r)+' does not have a method named "'+t+'"')}))})),fi=St((function(e,t){return null!=t&&t.constructor===e||t instanceof e})),wi=xt((function(e){return null!=e&&bn(e,bu(e))})),gi=di(1,"join"),yi=xt((function(e){return zn((function(){return Array.prototype.slice.call(arguments,0)}),e)})),_i=xt((function(e){var t,r=[];for(t in e)r[r.length]=t;return r})),bi=St((function(e,t){if("function"!=typeof t.lastIndexOf||Nt(t)){for(var r=t.length-1;r>=0;){if(bn(t[r],e))return r;r-=1}return-1}return t.lastIndexOf(e)}));function vi(e){return"[object Number]"===Object.prototype.toString.call(e)}var xi=xt((function(e){return null!=e&&vi(e.length)?e.length:NaN})),Si=St((function(e,t){return function(r){return function(n){return or((function(e){return t(e,n)}),r(e(n)))}}})),Pi=xt((function(e){return Si(sr(e),Yn(e))})),ki=xt((function(e){return Si(lr(e),Er(e))})),Ci=xt((function(e){return Si(pr(e),Dr(e))})),ji=St((function(e,t){return e<t})),Ai=St((function(e,t){return e<=t})),Ti=It((function(e,t,r){for(var n=0,u=r.length,i=[],o=[t];n<u;)o=e(o[0],r[n]),i[n]=o[1],n+=1;return[o[0],i]})),Ii=It((function(e,t,r){for(var n=r.length-1,u=[],i=[t];n>=0;)i=e(i[0],r[n]),u[n]=i[1],n-=1;return[i[0],u]})),Di=St((function(e,t){return Ht((function(r,n){return r[n]=e(t[n],n,t),r}),{},ir(t))})),Ni=St((function(e,t){return t.match(e)||[]})),Ei=St((function(e,t){return ar(e)?!ar(t)||t<1?NaN:(e%t+t)%t:NaN})),Oi=It((function(e,t,r){return e(r)>e(t)?r:t})),Li=mr(Pt,0),Ri=xt((function(e){return Li(e)/e.length})),Mi=xt((function(e){var t=e.length;if(0===t)return NaN;var r=2-t%2,n=(t-r)/2;return Ri(Array.prototype.slice.call(e,0).sort((function(e,t){return e<t?-1:e>t?1:0})).slice(n,n+r))})),Bi=St((function(e,t){var r={};return Ct(t.length,(function(){var n=e.apply(this,arguments);return Yt(n,r)||(r[n]=t.apply(this,arguments)),r[n]}))})),zi=St((function(e,t){return oi({},e,t)})),Ui=xt((function(e){return oi.apply(null,[{}].concat(e))})),Fi=It((function(e,t,r){var n,u={};for(n in t)Yt(n,t)&&(u[n]=Yt(n,r)?e(n,t[n],r[n]):t[n]);for(n in r)Yt(n,r)&&!Yt(n,u)&&(u[n]=r[n]);return u})),qi=It((function e(t,r,n){return Fi((function(r,n,u){return An(n)&&An(u)?e(t,n,u):t(r,n,u)}),r,n)})),Gi=St((function(e,t){return qi((function(e,t,r){return t}),e,t)})),Wi=St((function(e,t){return qi((function(e,t,r){return r}),e,t)})),Zi=It((function(e,t,r){return qi((function(t,r,n){return e(r,n)}),t,r)})),Ki=St((function(e,t){return oi({},t,e)})),$i=St((function(e,t){return oi({},e,t)})),Vi=It((function(e,t,r){return Fi((function(t,r,n){return e(r,n)}),t,r)})),Hi=St((function(e,t){return t<e?t:e})),Qi=It((function(e,t,r){return e(r)<e(t)?r:t})),Ji=St((function(e,t){return e%t})),Yi=It((function(e,t,r){var n=r.length,u=r.slice(),i=e<0?n+e:e,o=t<0?n+t:t,a=u.splice(i,1);return i<0||i>=r.length||o<0||o>=r.length?r:[].concat(u.slice(0,o)).concat(a).concat(u.slice(o,r.length))})),Xi=St((function(e,t){return e*t})),eo=xt((function(e){return-e})),to=St((function(e,t){return Bt(Cn(e),t)})),ro=xt((function(e){return At(e<0?1:e+1,(function(){return sr(e,arguments)}))})),no=It((function(e,t,r){return e(t(r))}));function uo(e){return[e]}var io=xt(uo),oo=St((function(e,t){for(var r={},n={},u=0,i=e.length;u<i;)n[e[u]]=1,u+=1;for(var o in t)n.hasOwnProperty(o)||(r[o]=t[o]);return r})),ao=xt((function(e){var t,r=!1;return Ct(e.length,(function(){return r?t:(r=!0,t=e.apply(this,arguments))}))}));function so(e,t){if(null==t||!Rr(t.then))throw new TypeError("`"+e+"` expected a Promise, received "+Nn(t,[]))}var co=St((function(e,t){return so("otherwise",t),t.then(null,e)})),lo=function(e){return{value:e,map:function(t){return lo(t(e))}}},po=It((function(e,t,r){return e((function(e){return lo(t(e))}))(r).value})),ho=St((function(e,t){return[e,t]}));function mo(e){return St((function(t,r){return Ct(Math.max(0,t.length-r.length),(function(){return t.apply(this,e(r,arguments))}))}))}var fo=mo(kt),wo=mo(Lu(kt)),go=yi([In,Dn]),yo=It((function(e,t,r){return bn(lr(e,r),t)})),_o=It((function(e,t,r){return Wn(e,lr(t,r))})),bo=It((function(e,t,r){return e(lr(t,r))})),vo=St((function(e,t){for(var r={},n=0;n<e.length;)e[n]in t&&(r[e[n]]=t[e[n]]),n+=1;return r})),xo=St((function(e,t){for(var r={},n=0,u=e.length;n<u;){var i=e[n];r[i]=t[i],n+=1}return r})),So=St((function(e,t){var r={};for(var n in t)e(t[n],n,t)&&(r[n]=t[n]);return r})),Po=St((function(e,t){return kt([e],t)})),ko=mr(Xi,1),Co=St((function(e,t){return At(t.length,(function(){for(var r=[],n=0;n<t.length;)r.push(t[n].call(this,arguments[n])),n+=1;return e.apply(this,r.concat(Array.prototype.slice.call(arguments,t.length)))}))})),jo=Co(Ut,[xo,hn]),Ao=It((function(e,t,r){return bn(t,r[e])})),To=It((function(e,t,r){return fi(e,r[t])})),Io=It((function(e,t,r){return _o(e,[t],r)})),Do=It((function(e,t,r){return e(r[t])})),No=St((function(e,t){return e.map((function(e){return lr([e],t)}))})),Eo=St((function(e,t){if(!vi(e)||!vi(t))throw new TypeError("Both arguments to range must be numbers");for(var r=[],n=e;n<t;)r.push(n),n+=1;return r})),Oo=It((function(e,t,r){for(var n=r.length-1;n>=0;)t=e(r[n],t),n-=1;return t})),Lo=jt(4,[],(function(e,t,r,n){return Ht((function(r,n){return e(r,n)?t(r,n):Lt(r)}),r,n)})),Ro=xt(Lt),Mo=St((function(e,t){var r,n=Number(t),u=0;if(n<0||isNaN(n))throw new RangeError("n must be a non-negative number");for(r=new Array(n);u<n;)r[u]=e(u),u+=1;return r})),Bo=St((function(e,t){return Mo(fr(e),t)})),zo=It((function(e,t,r){return r.replace(e,t)})),Uo=It((function(e,t,r){for(var n=0,u=r.length,i=[t];n<u;)t=e(t,r[n]),i[n+1]=t,n+=1;return i})),Fo=St((function(e,t){return"function"==typeof t.sequence?t.sequence(e):Oo((function(e,t){return br(or(Po,e),t)}),e([]),t)})),qo=It((function(e,t,r){return po(e,fr(t),r)})),Go=St((function(e,t){return Array.prototype.slice.call(t,0).sort(e)})),Wo=St((function(e,t){return Array.prototype.slice.call(t,0).sort((function(t,r){var n=e(t),u=e(r);return n<u?-1:n>u?1:0}))})),Zo=St((function(e,t){return Array.prototype.slice.call(t,0).sort((function(t,r){for(var n=0,u=0;0===n&&u<e.length;)n=e[u](t,r),u+=1;return n}))})),Ko=di(1,"split"),$o=St((function(e,t){return[tn(0,e,t),tn(e,xi(t),t)]})),Vo=St((function(e,t){if(e<=0)throw new Error("First argument to splitEvery must be a positive integer");for(var r=[],n=0;n<t.length;)r.push(tn(n,n+=e,t));return r})),Ho=St((function(e,t){for(var r=0,n=t.length,u=[];r<n&&!e(t[r]);)u.push(t[r]),r+=1;return[u,Array.prototype.slice.call(t,r)]})),Qo=St((function(e,t){return bn(uu(e.length,t),e)})),Jo=St((function(e,t){return Number(e)-Number(t)})),Yo=St((function(e,t){return On(Vn(e,t),Vn(t,e))})),Xo=It((function(e,t,r){return On(Hn(e,t,r),Hn(e,r,t))})),ea=St((function(e,t){for(var r=t.length-1;r>=0&&e(t[r]);)r-=1;return tn(r+1,1/0,t)})),ta=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=Rt.init,e.prototype["@@transducer/result"]=Rt.result,e.prototype["@@transducer/step"]=function(e,t){return this.f(t)?this.xf["@@transducer/step"](e,t):Lt(e)},e}(),ra=St(Ot(["takeWhile"],St((function(e,t){return new ta(e,t)})),(function(e,t){for(var r=0,n=t.length;r<n&&e(t[r]);)r+=1;return tn(0,r,t)}))),na=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=Rt.init,e.prototype["@@transducer/result"]=Rt.result,e.prototype["@@transducer/step"]=function(e,t){return this.f(t),this.xf["@@transducer/step"](e,t)},e}(),ua=St(Ot([],St((function(e,t){return new na(e,t)})),(function(e,t){return e(t),t}))),ia=St((function(e,t){if(r=e,"[object RegExp]"!==Object.prototype.toString.call(r))throw new TypeError("‘test’ requires a value of type RegExp as its first argument; received "+En(e));var r;return Kr(e).test(t)})),oa=St((function(e,t){return so("andThen",t),t.then(e)})),aa=di(0,"toLowerCase"),sa=xt((function(e){var t=[];for(var r in e)Yt(r,e)&&(t[t.length]=[r,e[r]]);return t})),ca=xt((function(e){var t=[];for(var r in e)t[t.length]=[r,e[r]];return t})),la=di(0,"toUpperCase"),pa=At(4,(function(e,t,r,n){return Ht(e("function"==typeof t?Wt(t):t),r,n)})),ha=xt((function(e){for(var t=0,r=[];t<e.length;){for(var n=e[t],u=0;u<n.length;)void 0===r[u]&&(r[u]=[]),r[u].push(n[u]),u+=1;t+=1}return r})),ma=It((function(e,t,r){return"function"==typeof r["fantasy-land/traverse"]?r["fantasy-land/traverse"](t,e):Fo(e,or(t,r))})),da="\t\n\v\f\r                　\u2028\u2029\ufeff",fa=xt("function"==typeof String.prototype.trim&&!da.trim()&&"​".trim()?function(e){return e.trim()}:function(e){var t=new RegExp("^["+da+"]["+da+"]*"),r=new RegExp("["+da+"]["+da+"]*$");return e.replace(t,"").replace(r,"")}),wa=St((function(e,t){return Ct(e.length,(function(){try{return e.apply(this,arguments)}catch(r){return t.apply(this,kt([r],arguments))}}))})),ga=xt((function(e){return function(){return e(Array.prototype.slice.call(arguments,0))}})),ya=xt((function(e){return Or(1,e)})),_a=St((function(e,t){return At(e,(function(){for(var r,n=1,u=t,i=0;n<=e&&"function"==typeof u;)r=n===e?arguments.length:i+u.length,u=u.apply(this,Array.prototype.slice.call(arguments,i,r)),n+=1,i=r;return u}))})),ba=St((function(e,t){for(var r=e(t),n=[];r&&r.length;)n[n.length]=r[0],r=e(r[1]);return n})),va=St(on(ni,kt)),xa=St((function(e,t){for(var r,n=0,u=t.length,i=[];n<u;)wn(e,r=t[n],i)||(i[i.length]=r),n+=1;return i})),Sa=It((function(e,t,r){return xa(e,kt(t,r))})),Pa=It((function(e,t,r){return e(r)?r:t(r)})),ka=Wr(pn),Ca=It((function(e,t,r){for(var n=r;!e(n);)n=t(n);return n})),ja=xt((function(e){var t,r=[];for(t in e)r[r.length]=e[t];return r})),Aa=function(e){return{value:e,"fantasy-land/map":function(){return this}}},Ta=St((function(e,t){return e(Aa)(t).value})),Ia=It((function(e,t,r){return e(r)?t(r):r})),Da=St((function(e,t){for(var r in e)if(Yt(r,e)&&!e[r](t[r]))return!1;return!0})),Na=St((function(e,t){return Da(or(bn,e),t)})),Ea=St((function(e,t){return Dn(Lu(xn)(e),t)})),Oa=St((function(e,t){return Boolean(!e^!t)})),La=St((function(e,t){for(var r,n=0,u=e.length,i=t.length,o=[];n<u;){for(r=0;r<i;)o[o.length]=[e[n],t[r]],r+=1;n+=1}return o})),Ra=St((function(e,t){for(var r=[],n=0,u=Math.min(e.length,t.length);n<u;)r[n]=[e[n],t[n]],n+=1;return r})),Ma=St((function(e,t){for(var r=0,n=Math.min(e.length,t.length),u={};r<n;)u[e[r]]=t[r],r+=1;return u})),Ba=It((function(e,t,r){for(var n=[],u=0,i=Math.min(t.length,r.length);u<i;)n[u]=e(t[u],r[u]),u+=1;return n})),za=xt((function(e){return At(e.length,(function(){var t=arguments;return function(){return e.apply(this,t)}}))}));const Ua=Object.freeze(Object.defineProperty({__proto__:null,F:function(){return!1},T:function(){return!0},__:{"@@functional/placeholder":!0},add:Pt,addIndex:Tt,adjust:Dt,all:Bt,allPass:dr,always:fr,and:wr,andThen:oa,any:yr,anyPass:_r,ap:br,aperture:Sr,append:Pr,apply:kr,applySpec:Ar,applyTo:Tr,ascend:Ir,assoc:Dr,assocPath:Er,binary:Lr,bind:Zt,both:zr,call:Fr,chain:Wr,clamp:Zr,clone:Hr,comparator:Qr,complement:Yr,compose:on,composeK:an,composeP:function(){if(0===arguments.length)throw new Error("composeP requires at least one argument");return cn.apply(this,un(arguments))},composeWith:dn,concat:On,cond:Ln,construct:Mn,constructN:Rn,contains:Bn,converge:zn,countBy:qn,curry:Ur,curryN:At,dec:Gn,defaultTo:Wn,descend:Zn,difference:Vn,differenceWith:Hn,dissoc:Qn,dissocPath:Xn,divide:eu,drop:ru,dropLast:au,dropLastWhile:lu,dropRepeats:fu,dropRepeatsWith:du,dropWhile:gu,either:_u,empty:bu,endsWith:xu,eqBy:Su,eqProps:Pu,equals:bn,evolve:ku,filter:In,find:ju,findIndex:Tu,findLast:Du,findLastIndex:Eu,flatten:Ou,flip:Lu,forEach:Ru,forEachObjIndexed:Mu,fromPairs:Bu,groupBy:zu,groupWith:Uu,gt:Fu,gte:qu,has:Wu,hasIn:Zu,hasPath:Gu,head:ln,identical:Ku,identity:hn,ifElse:$u,inc:Vu,includes:Hu,indexBy:Qu,indexOf:Ju,init:Yu,innerJoin:Xu,insert:ei,insertAll:ti,intersection:ui,intersperse:ii,into:pi,invert:hi,invertObj:mi,invoker:di,is:fi,isEmpty:wi,isNil:Nr,join:gi,juxt:yi,keys:ir,keysIn:_i,last:mu,lastIndexOf:bi,length:xi,lens:Si,lensIndex:Pi,lensPath:ki,lensProp:Ci,lift:Br,liftN:Mr,lt:ji,lte:Ai,map:or,mapAccum:Ti,mapAccumRight:Ii,mapObjIndexed:Di,match:Ni,mathMod:Ei,max:zt,maxBy:Oi,mean:Ri,median:Mi,memoizeWith:Bi,merge:zi,mergeAll:Ui,mergeDeepLeft:Gi,mergeDeepRight:Wi,mergeDeepWith:Zi,mergeDeepWithKey:qi,mergeLeft:Ki,mergeRight:$i,mergeWith:Vi,mergeWithKey:Fi,min:Hi,minBy:Qi,modulo:Ji,move:Yi,multiply:Xi,nAry:Or,negate:eo,none:to,not:Jr,nth:sr,nthArg:ro,o:no,objOf:ai,of:io,omit:oo,once:ao,or:yu,otherwise:co,over:po,pair:ho,partial:fo,partialRight:wo,partition:go,path:lr,pathEq:yo,pathOr:_o,pathSatisfies:bo,paths:cr,pick:vo,pickAll:xo,pickBy:So,pipe:nn,pipeK:function(){if(0===arguments.length)throw new Error("pipeK requires at least one argument");return an.apply(this,un(arguments))},pipeP:cn,pipeWith:mn,pluck:hr,prepend:Po,product:ko,project:jo,prop:pr,propEq:Ao,propIs:To,propOr:Io,propSatisfies:Do,props:No,range:Eo,reduce:mr,reduceBy:Fn,reduceRight:Oo,reduceWhile:Lo,reduced:Ro,reject:Dn,remove:Jn,repeat:Bo,replace:zo,reverse:un,scan:Uo,sequence:Fo,set:qo,slice:tn,sort:Go,sortBy:Wo,sortWith:Zo,split:Ko,splitAt:$o,splitEvery:Vo,splitWhen:Ho,startsWith:Qo,subtract:Jo,sum:Li,symmetricDifference:Yo,symmetricDifferenceWith:Xo,tail:rn,take:uu,takeLast:vu,takeLastWhile:ea,takeWhile:ra,tap:ua,test:ia,thunkify:za,times:Mo,toLower:aa,toPairs:sa,toPairsIn:ca,toString:En,toUpper:la,transduce:pa,transpose:ha,traverse:ma,trim:fa,tryCatch:wa,type:$r,unapply:ga,unary:ya,uncurryN:_a,unfold:ba,union:va,unionWith:Sa,uniq:ni,uniqBy:ri,uniqWith:xa,unless:Pa,unnest:ka,until:Ca,update:Yn,useWith:Co,values:Cr,valuesIn:ja,view:Ta,when:Ia,where:Da,whereEq:Na,without:Ea,xor:Oa,xprod:La,zip:Ra,zipObj:Ma,zipWith:Ba},Symbol.toStringTag,{value:"Module"})),Fa=y(Ua);!function(e){var t=_&&_.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),r=_&&_.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=_&&_.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var u in e)"default"!==u&&Object.hasOwnProperty.call(e,u)&&t(n,e,u);return r(n,e),n};Object.defineProperty(e,"__esModule",{value:!0}),e.findTracking=e.getTracking=e.allCouriers=e.usps=e.ups=e.s10=e.ontrac=e.fedex=e.dhl=e.amazon=void 0;const u=n(dt);e.amazon=u;const i=n(ft);e.dhl=i;const o=n(wt);e.fedex=o;const a=n(gt);e.ontrac=a;const s=n(yt);e.s10=s;const c=n(_t);e.ups=c;const l=n(bt);e.usps=l;const p=Fa;e.allCouriers=[u,i,o,a,s,c,l];const h=(e,t)=>{const r=p.is(String,t)?t:t.join(""),n=new RegExp(`\\b${r}\\b`).exec(e.replace(/[^a-zA-Z\d]/g,""));return n&&{serial:n.groups.SerialNumber.replace(/\s/g,""),checkDigit:n.groups.CheckDigit,groups:n.groups}||{}},m=(e,t)=>!t.additional||t.additional.every((e=>t=>"ServiceType"===t.regex_group_name?t.lookup.some((r=>!r.matches_regex||new RegExp(r.matches_regex).test(e.groups[t.regex_group_name]))):"CountryCode"!==t.regex_group_name&&"ShippingContainerType"!==t.regex_group_name||t.lookup.some((r=>r.matches===e.groups[t.regex_group_name])))(h(e,t.regex))),d=e=>!0,f=e=>Object.assign({},e),w=(e,t)=>t%2==0,g=p.complement(w),y=(e,t)=>p.pipe(f,p.pickBy(e),p.values,p.sum)(t),b=({serial:e,checkDigit:t,checksum:r})=>{const n=(u=e.replace(/[^\da-zA-Z]/g,""),p.pipe(p.split(""),p.map((e=>isNaN(e)?(e.charCodeAt(0)-3)%10:parseInt(e))))(u));var u;return(10-p.sum([y(w,n)*(r.evens_multiplier||1),y(g,n)*(r.odds_multiplier||1)])%10)%10===parseInt(t)},v=({serial:e,checkDigit:t})=>parseInt(e)%7===parseInt(t),x=(e,t)=>p.sum(p.zip(t.split("").map((e=>parseInt(e))),e||[]).map((e=>e.reduce(p.multiply)))),S=({serial:e,checkDigit:t})=>{const r=x([8,6,4,2,3,5,9,7],e)%11;return(1===r?0:0===r?5:11-r)===parseInt(t)},P=({serial:e,checkDigit:t,checksum:r})=>x(r.weightings,e)%r.modulo1%r.modulo2===parseInt(t),k=(e,t)=>t.map(p.pipe(p.prop("tracking_numbers"),p.chain(p.pipe((e=>t=>p.pipe(p.prop("regex"),p.ifElse(p.is(String),p.identity,p.join("")),(e=>new RegExp(e,"g")),p.flip(p.match)(e),p.map(p.replace(/[^a-zA-Z\d\n\r]/g,"")),p.uniq)(t))(e),p.flatten)))),C=e=>p.reduce(((t,r)=>t||p.reduce(((t,n)=>{const u=((e,{regex:t,validation:{serial_number_format:r,checksum:n}})=>{const u=h(e,t);return u&&u.serial?{serial:r?(i=u.serial,o=r,o.prepend_if&&new RegExp(o.prepend_if.matches_regex).test(i)?`${o.prepend_if.content}${i}`:i):u.serial,checkDigit:u.checkDigit,checksum:n}:null;var i,o})(e,n);return u&&(({validation:{checksum:e}})=>"mod10"===(null==e?void 0:e.name)?b:"sum_product_with_weightings_and_modulo"===(null==e?void 0:e.name)?P:"mod7"===(null==e?void 0:e.name)?v:"s10"===(null==e?void 0:e.name)?S:d)(n)(u)&&m(e,n)?p.reduced(((e,t,r)=>({name:e.name,trackingUrl:e.tracking_url||null,description:e.description||null,trackingNumber:r.replace(/[^a-zA-Z\d]/g,""),courier:{name:t.name,code:t.courier_code}}))(n,r,e)):void 0}),void 0,r.tracking_numbers)),void 0);e.getTracking=(t,r=e.allCouriers)=>C(t)(r),e.findTracking=(t,r)=>((e,t)=>p.pipe(p.flatten,p.uniq,(e=>p.filter((t=>p.none(p.test(new RegExp(`([a-zA-Z0-9 ]+)${t}$`)),e)))(e)),(e=>p.filter((t=>p.none(p.test(new RegExp(`^${t}([a-zA-Z0-9 ]+)`)),e)))(e)))(k(e,t)))(t,r||e.allCouriers).map((t=>e.getTracking(t,r||e.allCouriers))).filter(p.complement(p.isNil))}(mt);const qa=a("span")((()=>({fontWeight:"bold",color:"#313440"})));function Ga({isCurrentCompany:e}){const{state:{shippings:t=[],addressLabelPermission:n,orderIsDigital:o,money:a}}=g.useContext(ke),[s]=C(),c=b(),[l,p]=g.useState([]);g.useEffect((()=>{t.length&&(t.forEach((e=>{if(e.shipmentItems.length){const{shipmentItems:t}=e;t.forEach((e=>{const t=e.tracking_number;if(e?.generated_tracking_link&&t)return void(e.tracking_link=e.generated_tracking_link);const r=mt.getTracking(t);if(r){const{trackingUrl:t="",trackingNumber:n}=r;t&&(e.tracking_link=t.includes("=%s")?t.replace("=%s",`=${n}`):t)}}))}})),p(t))}),[t]);const w=e=>{const{first_name:t,last_name:r}=e;return`${t} ${r}`},y=e=>{const{street_1:t,city:r,state:n,zip:u,country:i}=e;return`${t}, ${r}, ${n} ${u}, ${i}`};let _=0;const v=e=>{const{date_created:t,shipping_method:r,shipping_provider_display_name:n}=e;return`shipped on ${ve(new Date(t),"LLLL, d")}, by ${n}, ${r}`},x=e=>{if(n)return e;const t=e.indexOf("/");return e.substring(t+1,e.length)};return o?null:r.jsx(d,{spacing:2,children:l.map((t=>r.jsx(h,{children:r.jsxs(m,{children:[r.jsxs(u,{sx:{wordBreak:"break-word",color:"rgba(0, 0, 0, 0.87)"},children:[r.jsxs(i,{variant:"h6",sx:{fontSize:"24px",fontWeight:"400"},children:[w(t)," – ",x(t.company||"")]}),r.jsx(i,{variant:"h6",sx:{fontSize:"24px",fontWeight:"400"},children:y(t)})]}),(t.shipmentItems||[]).map((t=>t.itemsInfo.length>0?r.jsxs(g.Fragment,{children:[r.jsxs(u,{sx:{margin:"20px 0 2px"},children:[r.jsx(i,{variant:"body1",children:r.jsxs(r.Fragment,{children:[r.jsx(qa,{children:`${c("orderDetail.shipment.shipment")} ${_+=1,_} – `}),v(t)]})}),t.tracking_link?r.jsx(f,{href:t.tracking_link,target:"_blank",children:t.tracking_number}):r.jsx(i,{variant:"body1",children:t.tracking_number})]}),r.jsx(K,{quantityKey:"current_quantity_shipped",products:t.itemsInfo,money:a,totalText:"Total",canToProduct:e,textAlign:"right"})]},`shipment-${t.id}`):null)),t.notShip.itemsInfo.length>0?r.jsxs(g.Fragment,{children:[r.jsx(u,{sx:{margin:"20px 0 2px"},children:r.jsx(i,{variant:"body1",children:r.jsx(qa,{children:c("orderDetail.shipment.notShippedYet")})})}),r.jsx(K,{quantityKey:"not_shipping_number",products:t.notShip.itemsInfo,money:a,totalText:"Total",canToProduct:e,textAlign:s?"left":"right"})]},`shipment-notShip-${t.id}`):null]})},`shipping-${t.id}`)))})}const Wa=Oe;function Za(){const e=P(k),t=P((({company:e})=>e.customer.role)),n=P((({b2bFeatures:e})=>e.masqueradeCompany.isAgenting)),o=P((({company:e})=>e.companyInfo.id)),{selectCompanyHierarchyId:a}=P((({company:e})=>e.companyHierarchyInfo)),s=P((({b2bFeatures:e})=>e.masqueradeCompany.id)),c=t===H.SUPER_ADMIN&&n?Number(s):Number(o),l=Number(a)||c,p=he(),h=pe(),m=b(),{state:{addressConfig:f},dispatch:y}=g.useContext(U),{state:{poNumber:_,status:v="",customStatus:x,orderSummary:S,orderStatus:j=[],products:A},state:T,dispatch:I}=g.useContext(ke),{state:{portalStyle:{backgroundColor:D="#FEF9F5"}}}=g.useContext(Q),N=J(D),E=le(),[O]=C(),[L,R]=g.useState(""),[M,B]=g.useState(""),[z,F]=g.useState(!1),[q,G]=g.useState(!1);return g.useEffect((()=>{B(p.id||"")}),[p]),g.useEffect((()=>{if(M){const t=async()=>{const t=e?await se():await ce();I({type:"statusType",payload:{orderStatus:t}})};(async()=>{const t=parseInt(M,10);if(t){F(!0);try{const r=e?await oe(t):await ae(t);if(r){const{products:t,companyInfo:n}=r,u={...r,products:t.map((e=>({...e,imageUrl:e?.variantImageUrl||e.imageUrl})))};G(Number(n.companyId)===Number(l));const i=e?Oe(u,m):Wa(u,m);I({type:"all",payload:i}),R(M)}}catch(r){"order does not exist"===r&&setTimeout((()=>{window.location.hash=`/orderDetail/${L}`}),1e3)}finally{F(!1)}}})(),t()}}),[e,M,L,a]),g.useEffect((()=>{(async()=>{try{let e=f;if(!e){const{addressConfig:t}=await te();e=t,y({type:"common",payload:{addressConfig:e}})}const t="1"===(e||[]).find((e=>"address_label"===e.key))?.isEnabled;I({type:"addressLabel",payload:{addressLabelPermission:t}})}catch(e){ee.error(e)}})()}),[]),r.jsx(Y,{isSpinning:z,background:"rgba(255,255,255,0.2)",children:r.jsxs(u,{sx:{overflow:"auto",flex:1},children:[r.jsx(u,{sx:{marginBottom:"10px",width:"fit-content"},children:r.jsx(u,{sx:{color:"primary.main",cursor:"pointer",fontSize:"14px",display:"flex",alignItems:"center"},onClick:()=>{h(E.state.isCompanyOrder?"/company-orders":"/orders")},children:null!==E.state?r.jsxs(r.Fragment,{children:[r.jsx(xe,{sx:{fontSize:"13px",margin:"0 8px"}}),r.jsx("span",{children:m("orderDetail.backToOrders")})]}):""})}),r.jsxs(w,{container:!0,spacing:2,children:[r.jsxs(w,{item:!0,xs:O?12:8,sx:{display:"flex",alignItems:"center",gap:"15px",order:O?1:0},children:[r.jsxs(i,{variant:"h4",sx:{color:X(N,.87)||"#263238"},children:[m("orderDetail.orderId",{orderId:M}),m("orderDetail.purchaseOrderNumber",{purchaseOrderNumber:_??""})]}),r.jsx(ue,{code:v,text:(e=>{const t=j.find((t=>t.systemLabel===e));let r=t?.customLabel||x;if(t){const e=ie[t.systemLabel];r=e&&m(e)!==t.systemLabel?m(e):r}return r})(v)})]}),r.jsx(w,{container:!0,item:!0,xs:O?12:4,sx:{display:"flex",alignItems:"center",justifyContent:"flex-end"},children:E?.state&&r.jsx(Ke,{onChange:e=>(e=>{B(e.toString())})(e),color:N})})]}),A?.length&&!q?r.jsxs(u,{sx:{marginTop:"24px",height:"48px",padding:"6px 16px",borderRadius:"4px",backgroundColor:"#0288D1",display:"flex",alignItems:"center"},children:[r.jsx(Se,{color:"primary",sx:{color:"#FFFFFF"}}),r.jsx(i,{sx:{color:"#FFFFFF",marginLeft:"8px",fontSize:"14px"},children:m("orderDetail.anotherCompany.tips")})]}):null,r.jsxs(w,{container:!0,spacing:2,sx:{marginTop:"0",overflow:"auto",flexWrap:O?"wrap":"nowrap",paddingBottom:"20px"},children:[r.jsx(w,{item:!0,sx:O?{flexBasis:"100%"}:{flexBasis:"690px",flexGrow:1},children:r.jsxs(d,{spacing:3,children:[r.jsx(Ga,{isCurrentCompany:q}),r.jsx(lt,{isCurrentCompany:q}),r.jsx(ht,{})]})}),r.jsx(w,{item:!0,sx:O?{flexBasis:"100%"}:{flexBasis:"340px"},children:"{}"===JSON.stringify(S)?null:r.jsx(ct,{detailsData:T,isCurrentCompany:q})})]})]})})}}}}));
//# sourceMappingURL=index-legacy-DxzccPB1.js.map
