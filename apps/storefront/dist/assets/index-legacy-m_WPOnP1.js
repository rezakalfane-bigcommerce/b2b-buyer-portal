System.register(["./mui-legacy-CSHs1xoY.js","./reactVendor-legacy-CtYIj4Ma.js","./lang-legacy-DzjbYnyQ.js","./react-setup-legacy-drlPxekq.js","./load-functions-legacy-D4REYUJ_.js","./base-legacy-D2P4nFX7.js","./useSort-legacy-CfCrn6Eb.js","./masquerade-legacy-C-toPcXa.js","./B3FilterSearch-legacy-BKkHq57Z.js","./MoreHoriz-legacy-DoWLtAlN.js","./router-legacy-s4T0V6vG.js","./intl-legacy-B7uNycgM.js","./eCache-legacy-CW-H9Ud9.js","./redux-legacy-D5ZHjMNV.js","./toolkit-legacy-uWyLsHZ1.js","./lodashEs-legacy-5FC1NR51.js","../index-legacy.Dey7ot32.js","./global-legacy-B1EgakWG.js","./muiIcon-legacy-B9QnU93P.js","./dateFns-legacy-BcrsSUH8.js","./dropzone-legacy-30_HfosJ.js"],(function(e,a){"use strict";var n,s,r,o,l,t,c,i,d,m,u,p,x,y,b,g,j,h,f,N,C,S,k;return{setters:[e=>{n=e.j,s=e.K,r=e.ad,o=e.T,l=e.B,t=e.d,c=e.I,i=e.s,d=e.X,m=e.W},e=>{u=e.r},e=>{p=e.u},e=>{x=e.an,y=e.ac,b=e.ak,g=e.u,j=e.L},null,null,e=>{h=e.u},e=>{f=e.e,N=e.s},e=>{C=e.B},e=>{S=e.d},e=>{k=e.a},null,null,null,null,null,null,null,null,null,null],execute:function(){function a(){const e=p();return n.jsx(l,{sx:{fontWeight:400,fontSize:"13px",background:"#ED6C02",display:"inline-block",p:"2px 7px",color:"#FFFFFF",borderRadius:"10px"},children:e("dashboard.selected")})}function F({companyName:e,email:c,isSelected:i,action:d}){return n.jsxs(s,{children:[n.jsxs(r,{sx:{color:"#313440"},children:[n.jsx(o,{sx:{fontWeight:400,fontSize:"24px",color:"rgba(0, 0, 0, 0.87)"},children:e}),i&&n.jsx(a,{}),n.jsxs(l,{sx:{display:"flex",fontSize:"16px",mt:"15px",gap:"5px"},children:[n.jsx(o,{sx:{fontWeight:500},children:"Email:"}),n.jsx(o,{variant:"body1",children:c})]})]}),n.jsx(t,{sx:{ml:"10px",mb:"10px"},variant:"text",onClick:()=>d.onClick(),children:d.label})]})}e("default",(function(e){const a=x(),{salesRepCompanyId:s,b2bId:r,customerId:o}=function(){const e=g((({company:e})=>e.customer.id)),a=g((({company:e})=>e.customer.b2bId)),n=Number(g((({b2bFeatures:e})=>e.masqueradeCompany.id)));return{salesRepCompanyId:n,b2bId:a,customerId:e}}(),{setOpenPage:t}=e,c=p(),[i,d]=u.useState(!1),[m,S]=u.useState({q:"",orderBy:A[R]}),[I,E,B]=h(A,R,m,S,"asc"),w=k(),O=async e=>{try{d(!0),"number"==typeof r&&await N({customerId:o,companyId:e}),t({isOpen:!0,openUrl:"/dashboard"}),S({...m})}finally{d(!1)}},P=async()=>{try{a(!0),"number"==typeof r&&await f(),S({...m})}finally{a(!1)}};u.useEffect((()=>{const e={...w};e?.state&&P()}),[w]);const W=[{key:"companyName",title:c("dashboard.company"),render:({companyName:e,companyId:a})=>n.jsx(z,{companyName:e,isSelected:Number(a)===Number(s)}),isSortable:!0},{key:"companyEmail",title:c("dashboard.email"),isSortable:!0},{key:"actions",title:c("dashboard.action"),render:({companyId:e})=>Number(e)===Number(s)?n.jsx(q,{label:c("dashboard.endMasqueradeAction"),onClick:()=>P()}):n.jsx(q,{label:c("dashboard.masqueradeAction"),onClick:()=>O(Number(e))})}];return n.jsx(y,{isSpinning:i,children:n.jsxs(l,{sx:{display:"flex",flexDirection:"column",flex:1},children:[n.jsx(l,{sx:{mb:"24px"},children:n.jsx(C,{handleChange:async e=>{S({...m,q:e})}})}),n.jsx(b,{columnItems:W,rowsPerPageOptions:v,getRequestList:async e=>{let a={edges:[],totalCount:0};return"number"==typeof r&&(a=(await j(r,e)).superAdminCompanies),a},searchParams:m||{},isCustomRender:!1,requestLoading:d,tableKey:"id",sortDirection:E,orderBy:B,sortByFn:I,renderItem:({companyName:e,companyEmail:a,companyId:r})=>{const o=Number(r)===Number(s),l=o?{label:c("dashboard.endMasqueradeAction"),onClick:()=>{P()}}:{label:c("dashboard.masqueradeAction"),onClick:()=>{O(Number(r))}};return n.jsx(F,{companyName:e,email:a,isSelected:o,action:l})}})]})})}));const I=i(m)((()=>({"& .MuiPaper-elevation":{boxShadow:"0px 1px 0px -1px rgba(0, 0, 0, 0.1), 0px 1px 6px rgba(0, 0, 0, 0.07), 0px 1px 4px rgba(0, 0, 0, 0.06)",borderRadius:"4px"}})));function q({label:e,onClick:a}){const s=u.useRef(null),[r,o]=u.useState(!1);return n.jsxs(n.Fragment,{children:[n.jsx(c,{onClick:()=>o(!0),ref:s,children:n.jsx(S,{})}),n.jsx(I,{anchorEl:s.current,open:r,onClose:()=>o(!1),anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:n.jsx(d,{sx:{color:"primary.main"},onClick:()=>{a(),o(!1)},children:e})})]})}function E(){const e=p();return n.jsx(l,{sx:{fontWeight:400,fontSize:"13px",background:"#ED6C02",ml:"16px",p:"2px 7px",color:"#FFFFFF",borderRadius:"10px"},children:e("dashboard.selected")})}function z({companyName:e,isSelected:a}){return n.jsxs(l,{sx:{display:"flex",alignItems:"center"},children:[e,a&&n.jsx(E,{})]})}const R=e("defaultSortKey","companyName"),A=e("sortKeys",{companyName:"companyName",companyAdminName:"companyAdminName",companyEmail:"companyEmail"}),v=[10,20,30]}}}));
//# sourceMappingURL=index-legacy-m_WPOnP1.js.map
