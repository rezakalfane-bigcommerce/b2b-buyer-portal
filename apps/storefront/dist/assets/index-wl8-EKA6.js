import{j as e,B as M,a0 as we,T as Oe,r as Ue,am as ze,v as Be,an as Ee,w as Ke,y as qe,ao as Ge,ap as He,aq as We,a5 as De}from"./mui-BOgrCzfx.js";import{r as c}from"./reactVendor-BTcQ-GDs.js";import{u as he}from"./lang-D1hDrxfH.js";import{B as $e}from"./B3Card-BO6dxKHi.js";import{bL as ye,G as Te,C as be,k as me,ag as ue,bM as Je,bF as Qe,aH as Fe,bN as Xe,bO as Ye,u as ke,bP as Re,a8 as le,a as ve,X as Ne,bi as Ze,ac as et,ae as tt,al as ot,K as st,aF as at,bQ as Le}from"./react-setup-Ceu1rkpw.js";import{b as re}from"./base-BCVDEF8S.js";import"./load-functions-BIyT0cKp.js";import{l as nt}from"./b3Login-BagfOhBm.js";import{c as rt}from"./login-RsGaznEG.js";import{b as it}from"./config-CtoVZeFM.js";import{d as de,t as ct,B as Ae,a as lt,e as dt,b as Me,s as ut,c as mt,g as _e,f as ft}from"./config-D5fV0p-h.js";import{u as Ie}from"./form-hNmOEDBo.js";import{B as pe}from"./B3CustomForm-DysrR7vP.js";import{C as pt,g as gt}from"./recaptcha-zJZYREcg.js";import{T as Se,I as fe,P as ge,R as ht,a as yt,b as xt}from"./RegisteredFinish-52wxtlV3.js";import{a as bt,c as Ct}from"./users-CaDR22O0.js";import{e as Ft}from"./lodashEs-DKEtmQJE.js";import{u as wt}from"./router-DEI8QtBD.js";import"./intl-CKipw3rV.js";import"./eCache-BdHG5F0B.js";import"./redux-D7_Lh1Zo.js";import"./toolkit-C5fVsw89.js";import"../index.Dxi-ailt.js";import"./global-D7Yn0gGb.js";import"./muiIcon-dPEugcco.js";import"./dateFns-DCN-lSH3.js";import"./dropzone-BroiqFaF.js";import"./validatorRules-ByvbDKs6.js";function It(H){var je;const _=he(),{handleBack:j,handleNext:N}=H,[x,W]=c.useState([]),[b,T]=c.useState(""),[U,L]=c.useState(""),[y,k]=c.useState(""),[P,D]=c.useState(!1),[z,q]=c.useState(""),[se,V]=c.useState(!1),X=p=>k(p);c.useEffect(()=>{(async()=>{try{const a=await gt();a&&(D(a.isEnabledOnStorefront),q(a.siteKey))}catch(a){re.error(a)}})()},[]),c.useEffect(()=>{y&&V(!1)},[y]);const{control:A,handleSubmit:ae,setError:$,formState:{errors:K}}=Ie({mode:"all"}),{state:Y,dispatch:B}=c.useContext(ye),{state:{blockPendingAccountOrderCreation:ne}}=c.useContext(Te),{state:{portalStyle:{backgroundColor:Z="#FEF9F5"}}}=c.useContext(be),C=me(Z),{contactInformation:F,bcContactInformation:E,passwordInformation:w=[],bcPasswordInformation:R=[],accountType:I,additionalInformation:Q,bcAdditionalInformation:ee,addressBasicFields:i=[],bcAddressBasicFields:s=[],companyInformation:o=[],emailMarketingNewsletter:l}=Y,u=I==="1"?F:E,g=I==="1"?w:R,h=((je=g[0])==null?void 0:je.groupName)||"",G=I==="1"?Q:ee,n=I==="1"?i:s;c.useEffect(()=>{if(I){if(u&&u.length){const p=u.find(a=>a.name==="email")||{};L((p==null?void 0:p.default)||"")}W(g)}},[F,E,I,u,g]);const O=p=>{const a={};if(a.authentication={force_password_reset:!1,new_password:p.password},a.accepts_product_review_abandoned_cart_emails=l,u&&(u.forEach(t=>{var d;const f=de(t.name);f==="accepts_marketing_emails"?a.accepts_product_review_abandoned_cart_emails=!!((d=t==null?void 0:t.default)!=null&&d.length):t.custom||(a[f]=(t==null?void 0:t.default)||"")}),a.form_fields=[],G&&G.length&&G.forEach(t=>{a.form_fields.push({name:t.bcLabel,value:t.default})})),a.addresses=[],a.origin_channel_id=ue,a.channel_ids=[ue],I==="2"){const t={},f=n.filter(m=>!m.custom),d=n.filter(m=>m.custom);f&&(a.addresses={},f.forEach(m=>{m.name==="country"?t.country_code=m.default:m.name==="state"?t.state_or_province=m.default:m.name==="postalCode"?t.postal_code=m.default:m.name==="firstName"?t.first_name=m.default:m.name==="lastName"?t.last_name=m.default:t[m.name]=m.default})),t.form_fields=[],d&&d.length&&d.forEach(m=>{t.form_fields.push({name:m.bcLabel,value:m.default})}),a.addresses=[t],a.trigger_account_created_notification=!0}const v={storeHash:Fe,...a};return Je(v)},te=async(p,a,v)=>{try{const t={};t.customerId=a||"",t.storeHash=Fe;const d=(u||[]).filter(r=>!!r.custom);if(d.length){const r=[];d.forEach(S=>{const J={};J.fieldName=de(S.name),J.fieldValue=(S==null?void 0:S.default)||"",r.push(J)}),t.userExtraFields=r}const m=o.filter(r=>!r.custom&&r.fieldType!=="files"),oe=o.filter(r=>!!r.custom);if(m.length&&m.forEach(r=>{t[ct(de(r.name))]=(r==null?void 0:r.default)||""}),oe.length){const r=[];oe.forEach(S=>{const J={};J.fieldName=de(S.name),J.fieldValue=(S==null?void 0:S.default)||"",r.push(J)}),t.extraFields=r}const xe=n.filter(r=>!r.custom)||[],ce=n.filter(r=>!!r.custom)||[];if(xe.length&&xe.forEach(r=>{const S=de(r.name);S==="address1"&&(t.addressLine1=r.default),S==="address2"&&(t.addressLine2=r.default),t[S]=r.default}),ce.length){const r=[];ce.forEach(S=>{const J={};J.fieldName=de(S.name),J.fieldValue=(S==null?void 0:S.default)||"",r.push(J)}),t.addressExtraFields=r}return t.fileList=v,t.channelId=ue,await Xe(t)}catch(t){re.error(t)}},ie=async p=>{let a=[];if(p.length){p.forEach(v=>{a=v.default});try{return(await Promise.all(a.map(f=>Qe({file:f,type:"companyAttachedFile"})))).reduce((f,d)=>{let m=f;if(d.code===200){const oe={...d.data};oe.fileSize=oe.fileSize?"".concat(oe.fileSize):"",m=[...f,oe]}else throw d.data.errMsg||d.message||_("intl.global.fileUpload.fileUploadFailure");return m},[])}catch(v){throw re.error(v),v}}},Ce=p=>{const a=w.map(t=>{const f=t;return I==="1"&&(f.default=p[t.name]||t.default),t}),v=R.map(t=>{const f=t;return I==="2"&&(f.default=p[t.name]||t.default),t});B({type:"all",payload:{passwordInformation:a,bcPasswordInformation:v}})},Pe=async()=>{if(u&&u.length>0){const p=u.find(d=>d.fieldId==="field_email_marketing_newsletter"&&d.fieldType==="checkbox"),a=u.find(d=>d.fieldId==="field_first_name")||{},v=u.find(d=>d.fieldId==="field_last_name")||{},t=(p==null?void 0:p.isChecked)||!1,f=(p==null?void 0:p.default)||[];if(t&&f.length>0)try{await Ye({storeHash:Fe,email:U,first_name:a.default,last_name:v.default,channel_id:ue||1})}catch(d){T((d==null?void 0:d.message)||d)}}},Ve=p=>{ae(async a=>{var v,t;if(a.password!==a.confirmPassword){$("confirmPassword",{type:"manual",message:_("global.registerComplete.passwordMatchPrompt")}),$("password",{type:"manual",message:_("global.registerComplete.passwordMatchPrompt")});return}if(P&&!y){V(!0);return}if(!se)try{B({type:"loading",payload:{isLoading:!0}});let f=!0;if(I==="2")await O(a);else{const d=o.filter(S=>S.fieldType==="files"),m=await ie(d||[]),oe=await O(a),{customerCreate:{customer:xe}}=oe,ce=await te(a,xe.id,m),r=((t=(v=ce==null?void 0:ce.companyCreate)==null?void 0:v.company)==null?void 0:t.companyStatus)||"";f=Number(r)===1}B({type:"finishInfo",payload:{submitSuccess:!0,isAutoApproval:f,blockPendingAccountOrderCreation:ne}}),Ce(a),await Pe(),N()}catch(f){T((f==null?void 0:f.message)||f)}finally{B({type:"loading",payload:{isLoading:!1}})}})(p)};return e.jsxs(M,{sx:{pl:1,pr:1,mt:2,width:"100%","& h4":{color:C},"& input, & .MuiFormControl-root .MuiTextField-root":{borderRadius:"4px",borderBottomLeftRadius:"0",borderBottomRightRadius:"0"}},children:[b&&e.jsx(we,{severity:"error",children:e.jsx(Se,{children:b})}),e.jsxs(M,{children:[e.jsx(fe,{children:h}),x&&e.jsxs(e.Fragment,{children:[U.length>0&&e.jsx(M,{sx:{fontSize:"16px",fontWeight:400,color:"#000000",marginBottom:"10px",marginTop:"-12px",wordWrap:"break-word"},children:"Create password for ".concat(U)}),e.jsx(pe,{formFields:x,errors:K,control:A})]}),se?e.jsx(Oe,{variant:"body1",sx:{color:"red",display:"flex",alignSelf:"flex-start",marginLeft:"8px",marginTop:"2px",fontSize:"13px"},children:_("login.loginText.missingCaptcha")}):"",P?e.jsx(M,{sx:{display:"flex",justifyContent:"center",marginTop:"20px"},children:e.jsx(pt,{siteKey:z,size:"normal",handleGetKey:X})}):""]}),e.jsxs(M,{sx:{display:"flex",justifyContent:"flex-end",pt:2,gap:1},children:[e.jsx(ge,{onClick:j,children:_("global.button.back")}),e.jsx(ge,{onClick:Ve,children:_("global.button.submit")})]})]})}function St({handleNext:H}){var Q,ee,i;const{state:_,dispatch:j}=c.useContext(ye),N=ke(Re),{state:{accountLoginRegistration:x,portalStyle:{backgroundColor:W="#FEF9F5"}}}=c.useContext(be),b=me(W),T=he(),[U,L]=c.useState(""),{contactInformation:y,accountType:k,additionalInformation:P,bcContactInformation:D,bcAdditionalInformation:z}=_,{control:q,handleSubmit:se,getValues:V,formState:{errors:X},setError:A,setValue:ae}=Ie({mode:"onSubmit"}),$=k==="1"?"additionalInformation":"bcAdditionalInformation",K=k==="1"?P||[]:z||[],Y=y==null?void 0:y.map(s=>{const o=s;return s.fieldId==="field_email"&&k==="1"&&(o.isTip=!0,o.tipText="This email will be used to sign in to your account"),s}),B=k==="1"?Y:D||[],ne=k==="1"?"contactInformation":"bcContactInformationFields",Z=B.length?(Q=B[0])==null?void 0:Q.groupName:"",C=K.length?(ee=K[0])==null?void 0:ee.groupName:"",F=(s=!1)=>{j({type:"loading",payload:{isLoading:s}})},E=s=>{j({type:"accountType",payload:{accountType:s.target.value}})},w=((i=y==null?void 0:y.find(s=>s.fieldId==="field_email"))==null?void 0:i.name)||"email",R=async s=>{const o=k==="1";try{F(!0);const{isValid:l,userType:u,userInfo:{companyName:g=""}={}}=o?await bt({email:s,channelId:ue}):await Ct({email:s,channelId:ue});return l?L(""):(L(T(dt[u],{companyName:g||"",email:s})),A(w,{type:"custom",message:""}),N==null||N.body.scrollIntoView(!0)),l}catch(l){return!1}finally{F(!1)}},I=async s=>{se(async o=>{var g;if(!await R(o[w]))return;const l=B.map(h=>{const G=h;return G.default=o[h.name]||h.default,h.fieldId==="field_email_marketing_newsletter"&&h.fieldType==="checkbox"&&(G.isChecked=o[h.name].length>0),h});try{if(F(!0),k==="1"){const h=l.filter(n=>!!n.custom),G=h.map(n=>({fieldName:Ae.decode(n.name),fieldValue:o[n.name]||n.default}));if(G.length>0){const n=await lt({extraFields:G});if(n.code!==200){const O=((g=n.data)==null?void 0:g.errMsg)||n.message||"",te=O.split(":");if(te.length>=2){const ie=h.find(Ce=>Ae.decode(Ce.name)===te[0]);if(ie){A(ie.name,{type:"manual",message:te[1]}),F(!1);return}}L(O),F(!1);return}}L("")}}catch(h){re.error(h)}finally{F(!1)}let u=[];K&&(u=K.map(h=>{const G=h;return G.default=o[h.name]||h.default,h})),j({type:"all",payload:{[$]:[...u],[ne]:[...l]}}),H()})(s)};return e.jsxs(M,{sx:{pl:1,pr:1,mt:2,width:"100%"},children:[U&&e.jsx(we,{severity:"error",children:e.jsx(Se,{children:U})}),e.jsxs(Ue,{sx:{"& h4":{color:b}},children:[e.jsx(fe,{children:T("register.registeredAccount.accountType")}),e.jsxs(ze,{"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",value:k,onChange:E,sx:{"& .MuiTypography-root.MuiTypography-body1.MuiFormControlLabel-label":{color:le(b,.87)},"& .MuiButtonBase-root.MuiRadio-root.MuiRadio-colorPrimary:not(.Mui-checked)":{color:le(b,.6)}},children:[x.b2b&&e.jsx(Be,{value:"1",control:e.jsx(Ee,{}),label:T("register.registeredAccount.businessAccount")}),x.b2c&&e.jsx(Be,{value:"2",control:e.jsx(Ee,{}),label:T("register.registeredAccount.personalAccount")})]})]}),e.jsxs(M,{sx:{"& h4":{color:b},"& input, & .MuiFormControl-root .MuiTextField-root, & .MuiTextField-root .MuiInputBase-multiline":{borderRadius:"4px",borderBottomLeftRadius:"0",borderBottomRightRadius:"0"},"& .MuiButtonBase-root.MuiCheckbox-root.MuiCheckbox-colorPrimary:not(.Mui-checked)":{color:le(b,.6)},"& .MuiTypography-root.MuiTypography-body1.MuiFormControlLabel-label":{color:le(b,.87)}},children:[e.jsx(fe,{children:Z}),e.jsx(pe,{formFields:B,errors:X,control:q,getValues:V,setValue:ae})]}),e.jsx(M,{}),K&&K.length?e.jsxs(M,{sx:{"& h4":{color:b},"& .MuiFormControlLabel-label, & .MuiFormControl-root .MuiFormLabel-root:not(.Mui-focused)":{color:le(b,.87)},"& .MuiRadio-root:not(.Mui-checked)":{color:le(b,.6)}},children:[e.jsx(fe,{children:C}),e.jsx(pe,{formFields:K,errors:X,control:q,getValues:V,setValue:ae})]}):"",e.jsx(M,{sx:{display:"flex",justifyContent:"flex-end",pt:2},children:e.jsx(ge,{onClick:I,children:T("global.button.next")})})]})}function jt({handleBack:H,handleNext:_}){var Q,ee;const j=he(),{state:N,dispatch:x}=c.useContext(ye),{state:{portalStyle:{backgroundColor:W="#FEF9F5"}}}=c.useContext(be),b=me(W),[T,U]=c.useState(""),{accountType:L="1",companyInformation:y=[],companyAttachment:k=[],addressBasicFields:P=[],bcAddressBasicFields:D=[],countryList:z=[]}=N,{control:q,handleSubmit:se,getValues:V,formState:{errors:X},setValue:A,watch:ae,setError:$}=Ie({mode:"all"}),K=L==="1"?(Q=y[0])==null?void 0:Q.groupName:"",Y=L==="1"?"addressBasicFields":"bcAddressBasicFields",B=L==="1"?P:D,ne=((ee=B[0])==null?void 0:ee.groupName)||"",Z=c.useCallback((i,s="")=>{var u;const o=((u=z.find(g=>g.countryCode===i||g.countryName===i))==null?void 0:u.states)||[],l=B.find(g=>g.name==="state");l&&(o.length>0?(l.fieldType="dropdown",l.options=o,l.required=!0):(l.fieldType="text",l.options=[],l.required=!1)),A("state",s&&i&&(o.find(g=>g.stateName===s)||o.length===0)?s:""),x({type:"stateList",payload:{stateList:o,addressBasicFields:P,bcAddressBasicFields:D,[Y]:[...B]}})},[P,B,Y,D,z]);c.useEffect(()=>{const i=V("country"),s=V("state");Z(i,s)},[]),c.useEffect(()=>{const i=ae((s,{name:o,type:l})=>{const{country:u,state:g}=s;o==="country"&&l==="change"&&Z(u,g)});return()=>i.unsubscribe()},[z,Z]);const C=(i=!1)=>{x({type:"loading",payload:{isLoading:i}})},F=(i,s)=>i.map(o=>{const l=o;return l.default=s[o.name]||o.default,o}),E=()=>{const i=[...y,...k,...B].reduce((u,g)=>{const h=u;return h[g.name]=V(g.name)||g.default,u},{}),s=F(y,i),o=F(k,i),l=F(B,i);x({type:"all",payload:{companyInformation:[...s],companyAttachment:[...o],[Y]:[...l]}})},w=()=>{var i;if(L==="1"){const s=V(),o=y.find(l=>l.fieldId==="field_attachments");if(!Ft(o)&&o.required&&s[o.name].length===0)return $(o.name,{type:"required",message:j("global.validate.required",{label:(i=o.label)!=null?i:""})}),C(!1),!0}return!1},R=i=>{const s=w();se(async o=>{if(!s){C(!0);try{L==="1"&&(await Promise.all([Me({fields:y,data:o,type:"company",setError:$}),Me({fields:P,data:o,type:"address",setError:$})]),U("")),E(),C(!1),_()}catch(l){typeof l=="string"&&U(l),C(!1)}}})(i)},I=()=>{E(),H()};return e.jsxs(M,{sx:{pl:1,pr:1,mt:2,width:"100%","& h4":{color:b},"& input, & .MuiFormControl-root .MuiTextField-root, & .MuiDropzoneArea-textContainer, & .MuiSelect-select.MuiSelect-filled, & .MuiTextField-root .MuiInputBase-multiline":{borderRadius:"4px",borderBottomLeftRadius:"0",borderBottomRightRadius:"0"}},children:[T&&e.jsx(we,{severity:"error",children:e.jsx(Se,{children:T})}),L==="1"?e.jsxs(M,{children:[e.jsx(fe,{children:K}),e.jsx(pe,{formFields:[...y],errors:X,control:q,getValues:V,setValue:A,setError:$})]}):null,e.jsxs(M,{children:[e.jsx(fe,{children:ne}),e.jsx(pe,{formFields:B,errors:X,control:q,getValues:V,setValue:A})]}),e.jsxs(M,{sx:{display:"flex",justifyContent:"flex-end",pt:2,gap:1},children:[e.jsx(ge,{onClick:I,children:j("global.button.back")}),e.jsx(ge,{onClick:R,children:j("global.button.next")})]})]})}const Bt=Ke(M)({"& #b3-customForm-id-name":{'& label[data-shrink="true"]':{whiteSpace:"break-spaces",minWidth:"calc(133% - 24px)",transition:"unset"},'& label[data-shrink="false"]':{whiteSpace:"break-spaces"}}});function Et({activeStep:H,handleBack:_,handleNext:j,handleFinish:N}){const x=W=>{switch(W){case 0:return e.jsx(St,{handleNext:j});case 1:return e.jsx(jt,{handleBack:_,handleNext:j});case 2:return e.jsx(It,{handleBack:_,handleNext:j});case 3:return e.jsx(ht,{handleFinish:N});default:return null}};return e.jsx(Bt,{component:"div",children:x(H)})}function Lt(H){const{children:_,activeStep:j,backgroundColor:N}=H,x=he(),[W]=ve(),b=qe(),{state:T}=c.useContext(ye),{accountType:U,submitSuccess:L,isAutoApproval:y}=T,k=Ne.get("blockPendingAccountOrderCreation")&&!y,P=x(k?"register.title.registerCompleteWarning":"register.title.registerComplete"),D=U==="1"?P:x("register.title.accountCreated"),z=me(N);return e.jsxs(M,{component:"div",sx:{width:W?"100%":"537px",boxShadow:"0px 2px 1px -1px rgba(0, 0, 0, 0.2), 0px 1px 1px rgba(0, 0, 0, 0.14), 0px 1px 3px rgba(0, 0, 0, 0.12)",borderRadius:"4px",marginTop:"1rem",background:"#FFFFFF",padding:"0 0.8rem 1rem 0.8rem"},children:[e.jsx(M,{component:"h3",sx:{display:"flex",flexDirection:"row",justifyContent:"center",pt:2,fontSize:"24px",fontWeight:"400",margin:"0.5rem 0",color:z},children:L?D:x("register.title.accountRegister")}),!L&&e.jsx(Ge,{activeStep:j,sx:{"& .MuiSvgIcon-root:not(.Mui-active) .MuiStepIcon-text":{fill:me(z)},"& .MuiSvgIcon-root.Mui-active .MuiStepIcon-text":{fill:me(b.palette.primary.main)}},children:ut.map(q=>e.jsx(He,{children:e.jsx(We,{children:x(q)})},q))}),_]})}const At=[1,2];function ao(H){const{setOpenPage:_}=H,[j,N]=c.useState(0),x=he(),[W]=ve(),b=wt(),T=ke(Re),{state:{isCheckout:U,isCloseGotoBCHome:L,logo:y,storeName:k,registerEnabled:P}}=c.useContext(Te),{state:{isLoading:D,accountType:z,contactInformation:q=[],passwordInformation:se=[],bcPasswordInformation:V=[],bcContactInformation:X=[]},dispatch:A}=c.useContext(ye),{state:{accountLoginRegistration:ae,portalStyle:{backgroundColor:$="#FEF9F5"}}}=c.useContext(be);c.useEffect(()=>{P||b("/login")},[b,P]),c.useEffect(()=>{(async()=>{var F,E,w,R;try{A&&(A({type:"loading",payload:{isLoading:!0}}),A({type:"finishInfo",payload:{submitSuccess:!1}}));const I=At.map(n=>tt(n)),Q=await Promise.all(I),ee=(((F=Q[1])==null?void 0:F.accountFormFields)||[]).map(n=>{const O=n;return mt.includes((n==null?void 0:n.fieldId)||"")&&n.groupId===4&&(O.isRequired=!0,O.visible=!0),n}),i=_e(((E=Q[0])==null?void 0:E.accountFormFields)||[]),s=_e(ee||[]),{countries:o}=await ot(),l=((w=s.address)==null?void 0:w.map(n=>{const O=n;return n.name==="country"&&(O.options=o,O.replaceOptions={label:"countryName",value:"countryName"}),n}))||[],u=((R=i.address)==null?void 0:R.map(n=>{const O=n;if(n.name==="country"){O.options=o;const te=o.find(ie=>ie.countryName===n.default);O.default=(te==null?void 0:te.countryCode)||n.default}return n}))||[],{b2b:g,b2c:h}=ae;A&&A({type:"all",payload:{accountType:h&&!g?"2":"1",isLoading:!1,storeName:k,contactInformation:[...s.contactInformation||[]],bcContactInformation:[...i.contactInformation||[]],additionalInformation:[...s.additionalInformation||[]],bcAdditionalInformation:[...i.additionalInformation||[]],companyExtraFields:[],companyInformation:[...(s==null?void 0:s.businessDetails)||[]],companyAttachment:[...ft(x)],addressBasicFields:[...l],bcAddressBasicFields:[...u],countryList:[...o],passwordInformation:[...s.password||[]],bcPasswordInformation:[...i.password||[]]}})}catch(I){re.error(I)}})()},[]);const K=()=>{var E,w;const C=((E=(z==="1"?q:X).find(R=>R.name==="email"))==null?void 0:E.default)||"",F=((w=(z==="1"?se:V).find(R=>R.name==="password"))==null?void 0:w.default)||"";return{emailAddress:C,password:F}},Y=async()=>{N(C=>C+1)},B=()=>{N(C=>C-1)},ne=()=>{A&&A({type:"all",payload:{accountType:"",isLoading:!1,storeName:"",submitSuccess:!1,contactInformation:[],additionalInformation:[],companyExtraFields:[],companyInformation:[],companyAttachment:[],addressBasicFields:[],addressExtraFields:[],countryList:[],passwordInformation:[]}})},Z=async()=>{var F;A({type:"loading",payload:{isLoading:!0}});const C=K();if(U)try{await it(C),window.location.reload()}catch(E){re.error(E)}else try{const E={email:C.emailAddress,pass:C.password},{data:w}=await rt(E);(F=w==null?void 0:w.login)!=null&&F.customer&&Ne.set("loginCustomer",{emailAddress:w.login.customer.email,phoneNumber:w.login.customer.phone,...w.login.customer}),await st(),ne();const R=nt(b);if(at==="catalyst"){const I=R?Le.HOME:Le.BUYER_PORTAL;window.b2b.callbacks.dispatchEvent("on-registered",{email:C.emailAddress,password:C.password,landingLoginLocation:I}),window.location.hash="";return}if(!R)return;L?window.location.href="/":b("/orders")}catch(E){re.error(E)}A({type:"loading",payload:{isLoading:!1}})};return c.useEffect(()=>{T==null||T.body.scrollIntoView(!0)},[j]),Ze(!1),e.jsx($e,{setOpenPage:_,children:e.jsx(yt,{isMobile:W,children:e.jsx(et,{isSpinning:D,tip:x("global.tips.loading"),transparency:"0",children:e.jsxs(M,{sx:{display:"flex",flexDirection:"column",width:"100%",alignItems:"center"},children:[y&&e.jsx(xt,{children:e.jsx(De,{sx:{maxWidth:"250px"},onClick:()=>{window.location.href="/"},children:e.jsx("img",{src:y,alt:x("global.tips.registerLogo"),loading:"lazy"})})}),e.jsx(Lt,{activeStep:j,backgroundColor:$,children:e.jsx(Et,{activeStep:j,handleBack:B,handleNext:Y,handleFinish:Z})})]})})})})}export{ao as default};
//# sourceMappingURL=index-wl8-EKA6.js.map
